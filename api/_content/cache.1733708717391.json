{"generatedAt":1733708746664,"generateTime":2014,"contents":[{"_path":"/","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Home","description":"","navigation":false,"layout":"page","main":{"fluid":false},"body":{"type":"root","children":[{"type":"element","tag":"ellipsis","props":{"blur":"150px","width":"75%","right":"0px"},"children":[]},{"type":"element","tag":"block-hero","props":{":cta":"[\"Get started\",\"/introduction/\"]",":secondary":"[\"Open on GitHub →\",\"https://github.com/nuxt-themes/docus\"]"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tutorials & Technical Guides on All Things Data"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This website contains years' worth of content that I've created related to programming, data science, engineering, communications, and design. If you find this place useful, share it with other people. If you have questions about what's in here or want to share your experience with others, send me a message."}]}]},{"type":"element","tag":"template","props":{"v-slot:extra":""},"children":[{"type":"element","tag":"list","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lessons on Programming, Web Development and DevOps Engineering"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Project-based content about Data Analytics, Science and Engineering"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Notes on how to be a good communicator"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Writing on writing for you and others"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Design tips and tricks to tip you into tricking others in cool ways"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A Discord Community"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"All free, open-source, interactive, and downloadable in 1 click"}]}]}]}]},{"type":"element","tag":"template","props":{"v-slot:support":""},"children":[{"type":"element","tag":"terminal","props":{":content":"[\"git clone \\\"https://github.com/ramonpzg/edu_content.git\\\"\",\"cd edu_content\",\"code .\"]"},"children":[]}]}]},{"type":"element","tag":"card-grid","props":{},"children":[{"type":"element","tag":"card","props":{"icon":"codicon:code-oss"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Programming"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Learn how to write code in different languages while building stuff."}]}]}]},{"type":"element","tag":"card","props":{"icon":"noto-v1:chart-increasing"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data Analytics"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Make sense of data with real-world examples and exercises."}]}]}]},{"type":"element","tag":"card","props":{"icon":"codicon:live-share"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data Engineering"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Become a data janitor unafraid of working with the muddiest data pipelines out in the wild."}]}]}]},{"type":"element","tag":"card","props":{"icon":"noto:magic-wand"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data Science"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Learn about statistics, experimentation, and machine learning with fun code examples, memes, and cartoons."}]}]}]},{"type":"element","tag":"card","props":{"icon":"noto:rocket"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Machine Learning Engineering"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Deploy and monitor machine learning models for free, on a budget, or by breaking the bank."}]}]}]},{"type":"element","tag":"card","props":{"icon":"noto-v1:bar-chart"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data Visualization"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create compelling stories with your data, others' data, or all of the data out there."}]}]}]},{"type":"element","tag":"card","props":{"icon":"codicon:cloud"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DevOps"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create infrastructure that's reliable and easy to maintain."}]}]}]},{"type":"element","tag":"card","props":{"icon":"codicon:symbol-keyword"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Software Development"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lessons around full-stack web and mobile development."}]}]}]},{"type":"element","tag":"card","props":{"icon":"noto-v1:loudspeaker"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"AI Engineering"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Build products with AI at their core or as a major aspect of the user's experience."}]}]}]},{"type":"element","tag":"card","props":{"icon":"noto-v1:loudspeaker"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Communications"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tips and tricks for creating compelling presentations and workshops."}]}]}]},{"type":"element","tag":"card","props":{"icon":"noto-v1:artist-palette"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Creative Coding"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create compelling stories with your data, others' data, or all of the data out there."}]}]}]},{"type":"element","tag":"card","props":{"icon":"noto-v1:video-game"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Game Development"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Develop games in different programming languages."}]}]}]},{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What's included"}]}]},{"type":"element","tag":"template","props":{"v-slot:root":""},"children":[{"type":"element","tag":"ellipsis","props":{"blur":"140px","width":"40rem","left":"0px","top":"10rem"},"children":[]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:0.index.md","_source":"content","_file":"0.index.md","_extension":"md"},{"_path":"/introduction/_dir","_dir":"introduction","_draft":false,"_partial":true,"_locale":"","title":"Set Up","icon":"ph:star-duotone","_id":"content:0.introduction:_dir.yml","_type":"yaml","_source":"content","_file":"0.introduction/_dir.yml","_extension":"yml"},{"_path":"/introduction","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Introduction","description":"Here is some useful information to get you set up and ready to learn cool stuff.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"introduction"},"children":[{"type":"text","value":"Introduction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is some useful information to get you set up and ready to learn cool stuff."}]},{"type":"element","tag":"h2","props":{"id":"roadmap"},"children":[{"type":"text","value":"Roadmap"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reconstruct all Lessons"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add installation videos"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"roadmap","depth":2,"text":"Roadmap"}]}},"_type":"markdown","_id":"content:0.introduction:1.index.md","_source":"content","_file":"0.introduction/1.index.md","_extension":"md"},{"_path":"/introduction/python_installation","_dir":"introduction","_draft":false,"_partial":false,"_locale":"","title":"Python Installation","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"python-installation"},"children":[{"type":"text","value":"Python Installation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Python","src":"../images/python_im.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Python is a high-level programming language that is  widely used for software and web development, scripting, data analytics, reasearch, and scientific programming. To download and install the latest version of Python onto your computer, please follow the steps below for your respective operating system."}]},{"type":"element","tag":"h2","props":{"id":"macos-mac-os-x"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"macOS / Mac OS X:"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Download Python from the from the Python website & Install it in your machine."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open a web browser and go to the "},{"type":"element","tag":"a","props":{"href":"https://www.python.org/downloads/","rel":["nofollow"]},"children":[{"type":"text","value":"Python downloads page"}]},{"type":"text","value":".\n"},{"type":"element","tag":"img","props":{"alt":"python_downl","src":"../images/python_downloads.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click on the link/button to download Python 3.9 or later.\n"},{"type":"element","tag":"img","props":{"alt":"python_downl","src":"../images/click_download.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Once dowloaded, open the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":".pkg"}]},{"type":"text","value":" installer in your Downloads folder and follow the installation instructions (we recommend to leave all of the default settings as they are). Enter your password if prompted."},{"type":"element","tag":"img","props":{"alt":"Mac Installer","src":"../images/mac-python-install.png"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After the installation is finished, open the Terminal application of macOS. You can press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Command + Space Bar"}]},{"type":"text","value":", this will open up the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Spotlight Search Bar"}]},{"type":"text","value":" and you will then type the word "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"terminal"}]},{"type":"text","value":" and press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"enter/return"}]},{"type":"text","value":" when the application pops up. You can also go to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Application"}]},{"type":"text","value":" → "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Utilities"}]},{"type":"text","value":" and search for the terminal. A bash terminal will open where you can enter commands and do cool things in your computer."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you have it opened, let’s proceed with the basics. Enter the following command in the terminal, and then press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"enter/return"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"pwd\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"pwd\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You should now see the working directory or main folder where everything that exists within your username will come up. Next, type the command below and press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"enter/return"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"python3\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"python3\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You should see the Python version you have installed (i.e. 3.x), and you can now run Python code using your terminal. Print “Hello world” using the print command. Type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"print(\"Hello World!\")"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Mac Terminal","src":"../images/mac-terminal.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"exit()"}]},{"type":"text","value":" in your terminal to exit out of Python and then close the terminal window."}]},{"type":"element","tag":"h3","props":{"id":"setting-python-3-as-the-default-version-in-mac-os"},"children":[{"type":"text","value":"Setting Python 3 as the default version in Mac OS"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If an older version of python already exists in your computer, you can change the alias of the python command in your bash terminal to refer to the python 3.x version you just installed."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To do this, you will need to follow the following steps in your terminal."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open your terminal again. Click on the Spotlight Search button, type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"terminal"}]},{"type":"text","value":", and then press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"enter/return"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nano ~/.bash_profile"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add the following in a new line:"}]}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"alias python=\"python3\"\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"alias"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"\"python3\"\n"}]}]}]}]},{"type":"element","tag":"ol","props":{"start":4},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Control + o"}]},{"type":"text","value":" and then press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"enter/return"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Control + x"}]},{"type":"text","value":" to exit nano"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you close that terminal and then open a new one, you can now use the “python” command and it should invoke the latest version of python3."}]},{"type":"element","tag":"h2","props":{"id":"windows"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.geeksforgeeks.org/download-and-install-python-3-latest-version/","rel":["nofollow"]},"children":[{"type":"text","value":"Windows"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Download Python from the from the Python website & Install it in your machine."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open a web browser and go to the "},{"type":"element","tag":"a","props":{"href":"https://www.python.org/downloads/windows/","rel":["nofollow"]},"children":[{"type":"text","value":"Python downloads page for Windows"}]},{"type":"text","value":". Underneath the Python Releases for Windows find Latest Python 3 Release – Python 3.8.x (latest stable release at the time of writing, is Python 3.9.2):"},{"type":"element","tag":"img","props":{"alt":"Windows Python releases","src":"../images/py_wind.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click on the latest stable release near the top of the page. Then on the release page, scroll down to Files and click on Windows x86-64 executable installer for 64-bit or Windows x86 executable installer for 32-bit. If you are unsure about your operating system, please check before downloading a version of Python."},{"type":"element","tag":"img","props":{"alt":"Windows Python bit installers","src":"../images/windows-python-bit-installers.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Once dowloaded, open the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":".exe"}]},{"type":"text","value":" installer in your Downloads folder and follow the installation instructions. Make sure to check “Add Python 3.x to PATH” or otherwise you will have to do it explicitly. Click “Install Now” and after doing so, it will start installing Python on Windows."},{"type":"element","tag":"img","props":{"alt":"Windows install screen","src":"../images/windows-install-screen.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"After the installation is complete, click "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Close"}]},{"type":"text","value":". The latest version of Python should now be installed. "},{"type":"element","tag":"img","props":{"alt":"Windows install complete","src":"images/windows-install-complete.png"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use the Command Prompt in Windows to invoke Python. Go to the start menu and open the Command Prompt application. Type "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"python"}]},{"type":"text","value":" in the command prompt to confirm that it was installed correctly. Then try entering the command to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"print(“Hello World!”)"}]},{"type":"text","value":" to run your first line of code."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Windows Commnand Prompt","src":"../images/windows-command-prompt.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"linux"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.python-guide.org/starting/install3/linux/","rel":["nofollow"]},"children":[{"type":"text","value":"Linux"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Python comes pre-installed in most Linux machines so we will first be checking for the version we have, if any, and then updating it to the latest stable release."}]},{"type":"element","tag":"h4","props":{"id":"debian-ubuntu-apt-get"},"children":[{"type":"text","value":"Debian / Ubuntu (apt-get)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To see which version of Python is installed, open a terminal and run:"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"python3 --version\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"python3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --version\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you are using Ubuntu 18.10 or newer, then you can easily install the latest version of Python 3 with the following commands:"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"sudo apt-get update\nsudo apt-get install python3\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" apt-get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" update\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" apt-get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" python3\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The latest version of Python language should now be installed on your Linux system, and you can confirm it by running the previous command again:"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"python3 --version\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"python3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --version\n"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"fedora-dnfyum"},"children":[{"type":"text","value":"Fedora (dnf/yum)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Other Linux systems may also have Python pre-installed. You can update to the latest version using your Linux distribution’s package manager. On Fedora, use the command:"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"$ sudo dnf install python3\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" python3\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Open a command prompt or shell and run the following command to verify that Python was installed correctly."}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"$ python3 --version\nPython 3.7.5\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" python3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --version\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 3.7"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":".5\n"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"how-to-set-python-3-as-the-default-version-in-linux"},"children":[{"type":"text","value":"How to set Python 3 as the default version in Linux?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can set python3 as the default Python of your Linux system, so that whenever you enter “python” anywhere in the terminal it always executes python3. Open the terminal and type the following command"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"vim ~/.bash_profile\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"vim"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ~/.bash_profile\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Press the letter "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i"}]},{"type":"text","value":" and then add the following command in a new line."}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"alias python=\"python3\"\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"alias"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"\"python3\"\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then you will press the Escape buttom in your keyboard, the type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":wq"}]},{"type":"text","value":" and then press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Enter"}]},{"type":"text","value":". Close and restart your Terminal, and now, any code executed in your terminal will automatically use python3 as the default version."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python"}]},{"type":"text","value":" in your terminal and then "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"print(“Hello world”)"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Linux Terminal","src":"../images/linux-terminal.png"},"children":[]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"macos-mac-os-x","depth":2,"text":"macOS / Mac OS X:","children":[{"id":"setting-python-3-as-the-default-version-in-mac-os","depth":3,"text":"Setting Python 3 as the default version in Mac OS"}]},{"id":"windows","depth":2,"text":"Windows"},{"id":"linux","depth":2,"text":"Linux"}]}},"_type":"markdown","_id":"content:0.introduction:2.python_installation.md","_source":"content","_file":"0.introduction/2.python_installation.md","_extension":"md"},{"_path":"/introduction/git_installation","_dir":"introduction","_draft":false,"_partial":false,"_locale":"","title":"Git Installation","description":"First, create an account on GitHub (recommended) or GitLab. Both are hosting sites for online Git repositories. You can think of a repository as a bucket containing snapshots of the state of your project and all of the code within it at a given point in time. This means that if you ever change something you should have not changed, make ammendments to bugs and other issues, or would simply like to go back to the previous version of a file, you will always have all of your versions at your disposal.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"git-installation"},"children":[{"type":"text","value":"Git Installation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, create an account on "},{"type":"element","tag":"a","props":{"href":"https://github.com","rel":["nofollow"]},"children":[{"type":"text","value":"GitHub"}]},{"type":"text","value":" (recommended) or "},{"type":"element","tag":"a","props":{"href":"https://gitlab.com/","rel":["nofollow"]},"children":[{"type":"text","value":"GitLab"}]},{"type":"text","value":". Both are hosting sites for online Git repositories. You can think of a repository as a bucket containing snapshots of the state of your project and all of the code within it at a given point in time. This means that if you ever change something you should have not changed, make ammendments to bugs and other issues, or would simply like to go back to the previous version of a file, you will always have all of your versions at your disposal."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Follow the instructions below for your respective OS to set up git on your machine."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" We will go over a “Brief Introduction To Git” during our first session."}]},{"type":"element","tag":"h2","props":{"id":"mac"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://sourceforge.net/projects/git-osx-installer/files/","rel":["nofollow"]},"children":[{"type":"text","value":"Mac"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By deafault, you will have Git available on your Mac, but if you would like to have the absolute latest version, please folow the steps outlined in this section."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Download the latest Git for Mac installer from "},{"type":"element","tag":"a","props":{"href":"https://sourceforge.net/projects/git-osx-installer/files/","rel":["nofollow"]},"children":[{"type":"text","value":"sourceforge"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Once the download finishes, open the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":".dmg"}]},{"type":"text","value":" package and follow the prompts to install Git."}]}]},{"type":"element","tag":"ol","props":{"start":3},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open a terminal and verify the installation was successful by typing "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"git --version"}]},{"type":"text","value":":"}]}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"$ git --version\ngit version 2.15.0\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --version\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" version"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 2.15"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":".0\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"windows"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.linode.com/docs/development/version-control/how-to-install-git-on-linux-mac-and-windows/","rel":["nofollow"]},"children":[{"type":"text","value":"Windows"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Download the latest Git for Windows installer."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run the installer and you should see the Git Setup wizard screen. You can leave most of the default options as they are, except where noted below."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" Git Bash is an application for Microsoft Windows environments which provides an emulation layer for a Git command line experience. It is a useful option for users to interface with git through written commands. Click "},{"type":"element","tag":"a","props":{"href":"https://www.atlassian.com/git/tutorials/git-bash","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":" for information on using Git Bash."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Please choose the following option during installation:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Follow the Next and Finish prompts to complete the installation."}]},{"type":"element","tag":"ol","props":{"start":3},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open a Command Prompt or Git Bash from the Start menu to start using Git."}]}]},{"type":"element","tag":"h5","props":{"id":"linux"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.atlassian.com/git/tutorials/install-git#linux","rel":["nofollow"]},"children":[{"type":"text","value":"Linux"}]}]},{"type":"text","value":":"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"On Linux, you can install git using the following commands for your respective OS."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Debian / Ubuntu (apt-get)"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Git packages are available via apt:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"From your shell, install Git using apt-get (enter your password if prompted):"}]}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"$ sudo apt-get update \n$ sudo apt-get install git\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" apt-get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" update"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" apt-get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" git\n"}]}]}]}]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Verify the installation was successful by typing "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"git --version"}]},{"type":"text","value":":"}]}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"$ git --version\ngit version 2.20.1\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --version\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" version"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 2.20"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":".1\n"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Fedora (dnf/yum)"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Git packages are available via both yum and dnf:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"From your shell, install Git using dnf (or yum, on older versions of Fedora):"}]}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"$ sudo dnf install git\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" git\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Or"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"$ sudo yum install git\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" yum"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" git\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note: You may be asked to confirm the download and installation - enter y to confirm."}]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Verify the installation was successful by typing git --version:"}]}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes github-dark github-light","code":"$ git --version\n git version 2.20.1\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --version\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" version"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 2.20"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":".1\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If your OS is not listed above, please check the installation instructions here "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"linux-other-os"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h4","props":{"id":"useful-guides-resources"},"children":[{"type":"text","value":"Useful Guides & Resources:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://git-scm.com/","rel":["nofollow"]},"children":[{"type":"text","value":"The Official Git Homepage"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://try.github.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Interactive Git Tutorial"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://guides.github.com/activities/hello-world/","rel":["nofollow"]},"children":[{"type":"text","value":"GitHub Introduction"}]},{"type":"text","value":" & "},{"type":"element","tag":"a","props":{"href":"https://help.github.com/en","rel":["nofollow"]},"children":[{"type":"text","value":"GitHub Help Page"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.atlassian.com/git/tutorials","rel":["nofollow"]},"children":[{"type":"text","value":"Atlassian Git Tutorials and Training"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://confluence.atlassian.com/bitbucketserver/basic-git-commands-776639767.html","rel":["nofollow"]},"children":[{"type":"text","value":"Basic Git Commands"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"mac","depth":2,"text":"Mac"},{"id":"windows","depth":2,"text":"Windows"}]}},"_type":"markdown","_id":"content:0.introduction:3.git_installation.md","_source":"content","_file":"0.introduction/3.git_installation.md","_extension":"md"},{"_path":"/introduction/jupyter_intro","_dir":"introduction","_draft":false,"_partial":false,"_locale":"","title":"Jupyter Lab & Notebooks Intro","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"jupyter-lab-notebooks-intro"},"children":[{"type":"text","value":"Jupyter Lab & Notebooks Intro"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"data","src":"https://media.giphy.com/media/3oKIPEqDGUULpEU0aQ/giphy.gif"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"table-of-contents"},"children":[{"type":"text","value":"Table of Contents"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Learning Outcomes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is Python? 🐍"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Intro to JupyterLab"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Intro to Python\n"},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Data Types"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Variables"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Data Structures"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Printing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Math"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Packages/Libraries"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"input data"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Essential of programming\n"},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Conditional statements"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Functions"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Loops"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Feedback"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"References"}]}]},{"type":"element","tag":"h2","props":{"id":"ii-learning-outcomes"},"children":[{"type":"text","value":"II. Learning Outcomes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By the end of this week, you will:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Have learned what the Python programming language is and how to use JupyterLab to run programs"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Have learned about the different data types and data structures in Python"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Be comfortable doing basic calculations in Python"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Have learned how variables, loops, functions, and if-else statements work"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Get experience creating and running a simple python program"}]}]},{"type":"element","tag":"h2","props":{"id":"_1-what-is-python"},"children":[{"type":"text","value":"1. What is Python?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If natural languages are one of the many ways in which we communicate with one another, programming languages are what we use to communicate with our computers. When you click and interact with websites through a "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Graphical_user_interface","rel":["nofollow"]},"children":[{"type":"text","value":"graphical user interface (GUI)"}]},{"type":"text","value":", what makes that possible is the code running behind the scenes. This is essentially what python is, a language that allows us to communicate with our computers to create useful things together."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Python can also be used in a variety of domains, from developing websites and mobile phone applications, to creating games and analysing data. Although the focus of this course will be on the latter category, data analysis, our hope is that by the end of the course, the transition from data analytics to any of the other domains in which python operates, would be a smooth one for you."}]},{"type":"element","tag":"h3","props":{"id":"a-bit-of-history"},"children":[{"type":"text","value":"A bit of history"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Python was created in the late 1980's, early 90's by "},{"type":"element","tag":"a","props":{"href":"https://gvanrossum.github.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Guido van Rossum"}]},{"type":"text","value":", a retired dutch programmer who's most recent role was at "},{"type":"element","tag":"a","props":{"href":"dropbox.com"},"children":[{"type":"text","value":"dropbox"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"why-is-it-so-popular"},"children":[{"type":"text","value":"Why is it so popular?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Python is an excellent language with a lot of funtionalities, but one of its best characteristics is the plethora of "},{"type":"element","tag":"a","props":{"href":"https://docs.python.org/3/tutorial/modules.html","rel":["nofollow"]},"children":[{"type":"text","value":"modules"}]},{"type":"text","value":" it has available to increase our productivity and improve our workflow when analysing data. You can think of these modules or libraries of code as the additional benefits of this language. Here is a metaphor to give you an example, we humans are very awesome just the way we are born (e.g., without clothes, language, knowledge, etc.), but in order to function better in society, and cruise through different stages of our lives, we make use of different languages and objects that provide us with a better experience. The clothes, the accessories, and the languages we use are our added benefits just like modules, packages and libraries are Python's added benefits (not the most clever analogy, I know, stay with me though😎)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" We will be using the terms library, module, and package interchangeably throughout this course."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some of the modules that make up a big component of the data analytics/science ecosystem (and the ones we will use the most in this course), are the following ones:"}]},{"type":"element","tag":"h3","props":{"id":"for-data-analysis"},"children":[{"type":"text","value":"For Data Analysis"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/","rel":["nofollow"]},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":" -> \"is a fast, powerful, flexible and easy to use open source data analysis and manipulation tool, built on top of the Python programming language.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://numpy.org/","rel":["nofollow"]},"children":[{"type":"text","value":"numpy"}]},{"type":"text","value":" -> \"is the fundamental package for scientific computing with Python. It contains among other things, a powerful N-dimensional array object, sophisticated (broadcasting) functions, tools for integrating C/C++ and Fortran code, useful linear algebra, Fourier transform, and random number capabilities.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.scipy.org/","rel":["nofollow"]},"children":[{"type":"text","value":"SciPy"}]},{"type":"text","value":" -> \"is a Python-based ecosystem of open-source software for mathematics, science, and engineering.\""}]}]},{"type":"element","tag":"h3","props":{"id":"for-data-visualisation"},"children":[{"type":"text","value":"For Data Visualisation"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://matplotlib.org/","rel":["nofollow"]},"children":[{"type":"text","value":"matplotlib"}]},{"type":"text","value":" -> \"is a comprehensive library for creating static, animated, and interactive visualizations in Python.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://seaborn.pydata.org/","rel":["nofollow"]},"children":[{"type":"text","value":"seaborn"}]},{"type":"text","value":" -> \"s a Python data visualization library based on matplotlib. It provides a high-level interface for drawing attractive and informative statistical graphics.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://altair-viz.github.io/index.html","rel":["nofollow"]},"children":[{"type":"text","value":"altair"}]},{"type":"text","value":" -> Although Altair has not had the same adoption from the community as the previous two data visualisation libraries, it is a great library for visualising your data."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"* Definitions have been taken straight from the packages respective websites."}]},{"type":"element","tag":"h1","props":{"id":"_2-introduction-to-jupyterlab"},"children":[{"type":"text","value":"2. Introduction to JupyterLab"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"JupyterLab is an "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Integrated_development_environment","rel":["nofollow"]},"children":[{"type":"text","value":"Integrated Development Environment"}]},{"type":"text","value":" (IDE) created by the "},{"type":"element","tag":"a","props":{"href":"https://jupyter.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Jupyter Project"}]},{"type":"text","value":". It allows you to combine different tools that are paramount for a good coding workflow. For example, you can have the terminal, a Jupyter notebook, and a markdown file for note-taking/documenting your work, as well as other files, opened at the same time to improve your workflow as you write code (see image below)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A silly metaphor to think about IDEs is that, IDEs are to programmers, data analysts, scientists, researcher, etc..., what a kitchen is to a chef, an indispensable piece to get things done."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"jupyterlab","src":"https://jupyterlab.readthedocs.io/en/latest/_images/interface_jupyterlab.png"},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source"}]},{"type":"text","value":" - "},{"type":"element","tag":"a","props":{"href":"https://jupyterlab.readthedocs.io","rel":["nofollow"]},"children":[{"type":"text","value":"https://jupyterlab.readthedocs.io"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Jupyter Lab is composed of cells and each cell has 3 states with the default state beign \"code,\" and the other two being markdown and raw text."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To run code you will use the following two commands:"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"h1","props":{"id":"shift-enter"},"children":[{"type":"text","value":"Shift + Enter"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The first option will run the cell where you have your cursor at and take you to the next one. If there is no cell underneath the one you just ran, it will insert a new one for you."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"h1","props":{"id":"alt-enter"},"children":[{"type":"text","value":"Alt + Enter"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This second option will run the cell and insert a new one below automatically. Alternatively, you can also run the cells using the play (▶︎) button at the top or with the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Run menu"}]},{"type":"text","value":" on the top left-hand corner."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Anything that follows a hash "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"#"}]},{"type":"text","value":" sign is a comment and will not be evaluated by Python. They are useful for documenting your code and letting others know what is happening with every line of code or with every cell."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To check the information of a package, function, method, etc., use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"?"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"??"}]},{"type":"text","value":" at the begining or end of such element, and it will provide you with a lot of information about it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What you will most often use:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Jupyter Notebooks"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Straight from the "},{"type":"element","tag":"a","props":{"href":"https://jupyter.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Jupiter Project website"}]},{"type":"text","value":": \"The Jupyter Notebook is an open-source web application that allows you to create and share documents that contain live code, equations, visualizations and narrative text. Uses include: data cleaning and transformation, numerical simulation, statistical modeling, data visualization, machine learning, and much more.\""}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Jupyter notebooks are a great tool for exploratory data analysis, creating educational content, and essentially, making sure you can go over your code as much as you want before moving it to a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".py"}]},{"type":"text","value":" file for either production or later use. Which is what you will most-likely need to do to be able to run your code in production or for the later reproducibility of your analyses."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Command Line"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Command-line_interface","rel":["nofollow"]},"children":[{"type":"text","value":"command line interface (CLI)"}]},{"type":"text","value":" or terminal, allows us to interact directly with our operating system by writing commands in a textual format as opposed to by clicking and dragging objects in the background through a GUI."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are CLI's or terminals for each operating systems. The most widely used ones are"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bash"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"PowerShell"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CMD (Windows)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Linux"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Markdown Documents"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"Markdown is a text-to-HTML conversion tool for web writers. Markdown allows you to write using an easy-to-read, easy-to-write plain text format, then convert it to structurally valid XHTML (or HTML). Thus, “Markdown” is two things: (1) a plain text formatting syntax, and (2) a software tool written in Perl that converts plain text formatting into HTML.\" by "},{"type":"element","tag":"a","props":{"href":"https://daringfireball.net/projects/markdown","rel":["nofollow"]},"children":[{"type":"text","value":"Daring Fireball"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"IPython"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"IPython is an interactive environment for running python code. It allows you to quickly test code line-by-line before moving it to a full program. Some nice features of IPython are that it lets you know how a function works by providing you not only with a list of its arguments but also with a description of what that argument does. IPython also has the very handy autocomplete funtionality which can save you from a lot of typing, especially when what you are trying to do needs to be fast and iterative. We will be using IPython throughout the course."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Tutorials"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Jupyter Notebook\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://realpython.com/jupyter-notebook-introduction/","rel":["nofollow"]},"children":[{"type":"text","value":"Real Python"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.dataquest.io/blog/jupyter-notebook-tutorial/","rel":["nofollow"]},"children":[{"type":"text","value":"Dataquest"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=HW29067qVWk&t=6s","rel":["nofollow"]},"children":[{"type":"text","value":"YouTube Corey Schafer"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Markdown\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://daringfireball.net/projects/markdown/","rel":["nofollow"]},"children":[{"type":"text","value":"Daring Fireball"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.markdownguide.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Markdown Guide"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You can also go to the pallette-looking command to your left called, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Commands"}]},{"type":"text","value":", and go to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"HELP"}]},{"type":"text","value":" > "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Markdown Reference"}]},{"type":"text","value":" for a quick tutorial"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"IPython\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://ipython.readthedocs.io/en/stable/interactive/","rel":["nofollow"]},"children":[{"type":"text","value":"Official Tutorial"}]}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"examples"},"children":[{"type":"text","value":"Examples"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# this is a code cell, look at the top where it says Code\n# type 5 + 7 and press Shift + Enter\n\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this is a code cell, look at the top where it says Code\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# type 5 + 7 and press Shift + Enter\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# change this cell to markdown at the top, come back and type a hash (#) followed by This is my first notebook, then delete this comment\n\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# change this cell to markdown at the top, come back and type a hash (#) followed by This is my first notebook, then delete this comment\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# change this cell to raw text format and type \"Data is awesome\" :) then press Shift + Enter\n\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# change this cell to raw text format and type \"Data is awesome\" :) then press Shift + Enter\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"table-of-contents","depth":2,"text":"Table of Contents"},{"id":"ii-learning-outcomes","depth":2,"text":"II. Learning Outcomes"},{"id":"_1-what-is-python","depth":2,"text":"1. What is Python?","children":[{"id":"a-bit-of-history","depth":3,"text":"A bit of history"},{"id":"why-is-it-so-popular","depth":3,"text":"Why is it so popular?"},{"id":"for-data-analysis","depth":3,"text":"For Data Analysis"},{"id":"for-data-visualisation","depth":3,"text":"For Data Visualisation"}]},{"id":"examples","depth":2,"text":"Examples"}]}},"_type":"markdown","_id":"content:0.introduction:4.jupyter_intro.md","_source":"content","_file":"0.introduction/4.jupyter_intro.md","_extension":"md"},{"_path":"/programming/_dir","_dir":"programming","_draft":false,"_partial":true,"_locale":"","title":"Programming","icon":"heroicons-outline:bookmark-alt","_id":"content:1.programming:_dir.yml","_type":"yaml","_source":"content","_file":"1.programming/_dir.yml","_extension":"yml"},{"_path":"/programming","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Programming Tutorials","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"programming-tutorials"},"children":[{"type":"text","value":"Programming Tutorials"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:1.programming:1.index.md","_source":"content","_file":"1.programming/1.index.md","_extension":"md"},{"_path":"/programming/terminal/shell_intro","_dir":"terminal","_draft":false,"_partial":false,"_locale":"","title":"Intro to the Terminal","description":"100% Generated by AI! 🤖","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"intro-to-the-terminal"},"children":[{"type":"text","value":"Intro to the Terminal"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"100% Generated by AI! 🤖"}]},{"type":"element","tag":"h1","props":{"id":"the-command-line-chronicles-a-cyberpunk-odyssey"},"children":[{"type":"text","value":"The Command Line Chronicles: A Cyberpunk Odyssey"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a dystopian future where technology reigns supreme, you find yourself navigating the treacherous depths of the Linux command line. As a skilled hacker in this cyberpunk world, your mastery of the command line is your greatest weapon against the oppressive corporations that control society. Each command you learn is a step closer to unraveling the secrets hidden within the digital realm."}]},{"type":"element","tag":"h2","props":{"id":"part-1-the-journey-begins"},"children":[{"type":"text","value":"Part 1: The Journey Begins"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your journey begins in the neon-lit streets of the sprawling metropolis. As you boot up your terminal, you find yourself at the command prompt, ready to explore the vast digital landscape."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ ls\ndata  documents  projects  secrets\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ls\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  documents"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  projects"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  secrets\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ls"}]},{"type":"text","value":" command becomes your eyes, allowing you to scan your surroundings and revealing the files and directories that lie before you."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ cd projects\n$ pwd\n/home/hacker/projects\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" projects\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" pwd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"/home/hacker/projects\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cd"}]},{"type":"text","value":" command, you navigate through the labyrinthine directory structure, moving from one location to another like a ghost in the machine."}]},{"type":"element","tag":"h2","props":{"id":"part-2-manipulating-reality"},"children":[{"type":"text","value":"Part 2: Manipulating Reality"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this world, information is power, and the ability to manipulate files is a crucial skill."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ cp secrets/corporate_plans.txt backups/\n$ ls backups/\ncorporate_plans.txt\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" cp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secrets/corporate_plans.txt"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" backups/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" backups/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"corporate_plans.txt\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cp"}]},{"type":"text","value":" command allows you to duplicate files, creating backups or planting digital decoys to mislead your enemies."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ mv backups/corporate_plans.txt projects/target_acquired.txt\n$ ls projects/\ntarget_acquired.txt\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" mv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" backups/corporate_plans.txt"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" projects/target_acquired.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" projects/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"target_acquired.txt\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mv"}]},{"type":"text","value":" command, you can seamlessly relocate files, covering your tracks or strategically positioning data."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ rm -r backups/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" rm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -r"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" backups/\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" command becomes your digital erasure tool, allowing you to remove files and directories, leaving no trace behind."}]},{"type":"element","tag":"h2","props":{"id":"part-3-the-power-of-words"},"children":[{"type":"text","value":"Part 3: The Power of Words"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you delve deeper into the command line, you realize the power of text manipulation."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ cat projects/target_acquired.txt\nThe corporation's secret plans are as follows...\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" cat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" projects/target_acquired.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"The"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" corporation's secret plans are as follows...\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cat"}]},{"type":"text","value":" command allows you to view the contents of files, uncovering hidden messages and crucial data."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ grep \"password\" data/logs.txt\n[2023-05-10 23:45:22] User entered password: s3cr3t_c0d3\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" grep"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"password\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/logs.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"2023"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"-05-10 "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"23"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":":45:22] User entered password: s3cr3t_c0d3\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"grep"}]},{"type":"text","value":" command, you can search through vast amounts of text, finding needles in digital haystacks."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ echo \"Infiltration successful.\" > mission_log.txt\n$ cat mission_log.txt\nInfiltration successful.\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" echo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"Infiltration successful.\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" >"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" mission_log.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" cat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" mission_log.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Infiltration"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" successful.\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" command becomes your voice, allowing you to leave messages or write data to files."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ sed 's/corporate/resistance/g' manifesto.txt > new_manifesto.txt\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sed"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" 's/corporate/resistance/g'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" manifesto.txt"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" >"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" new_manifesto.txt\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" command enables you to perform complex text transformations, altering reality with a few keystrokes."}]},{"type":"element","tag":"h2","props":{"id":"part-4-system-infiltration"},"children":[{"type":"text","value":"Part 4: System Infiltration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the world of cyberpunk, knowledge of the system is paramount."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ top\nPID  USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND\n1234 hacker    20   0 1423216 218064  42680 S   8.3   5.4   1:32.84 chrome\n5678 hacker    20   0  890112  90564  16840 S   3.2   2.2   0:45.67 vscode\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" top\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  USER"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"      PR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  NI"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    VIRT"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    RES"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    SHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" S"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  %CPU"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  %MEM"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"     TIME+"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" COMMAND\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"1234"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    20"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1423216"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 218064"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  42680"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" S"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   8.3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   5.4"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":":32.84"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" chrome\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"5678"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    20"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  890112"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  90564"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  16840"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" S"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   3.2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   2.2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":":45.67"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" vscode\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"top"}]},{"type":"text","value":" command becomes your system monitor, giving you real-time insights into the resource usage of your digital environment."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/sda1        64G   32G   30G  52% /\n/dev/sda2       128G  100G   24G  81% /home\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" df"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -h\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Filesystem"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"      Size"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  Used"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Avail"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Use%"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Mounted"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" on\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"/dev/sda1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        64"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   32"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   30"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  52"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"%"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" /\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"/dev/sda2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"       128"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  100"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   24"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  81"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"%"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" /home\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df"}]},{"type":"text","value":" command, you can assess the disk space, ensuring you have enough room for your digital exploits."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ ps aux | grep \"surveillance\"\nhacker    7890  0.8  1.2 1134020 102840 pts/2  Sl+  10:45   0:30 python surveillance.py\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" aux"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" grep"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"surveillance\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"hacker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    7890"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  0.8"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  1.2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1134020"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 102840"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" pts/2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  Sl+"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  10"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":":45"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"   0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":":30"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" surveillance.py\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ps"}]},{"type":"text","value":" command allows you to view running processes, identifying potential threats or targets."}]},{"type":"element","tag":"h2","props":{"id":"part-5-access-and-control"},"children":[{"type":"text","value":"Part 5: Access and Control"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you navigate the digital landscape, you must master the art of access control."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ ls -l secret_file.txt\n-rw------- 1 hacker hacker 1024 May 12 15:30 secret_file.txt\n$ chmod 644 secret_file.txt\n$ ls -l secret_file.txt\n-rw-r--r-- 1 hacker hacker 1024 May 12 15:30 secret_file.txt\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -l"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secret_file.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"-rw-------"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1024"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" May"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 12"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 15"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":":30"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secret_file.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" chmod"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 644"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secret_file.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -l"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secret_file.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"-rw-r--r--"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1024"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" May"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 12"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 15"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":":30"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secret_file.txt\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"chmod"}]},{"type":"text","value":" command becomes your tool for granting or restricting permissions, determining who can access your files and directories."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ sudo chown root:root critical_system.txt\n[sudo] password for hacker:\n$ ls -l critical_system.txt\n-rw-r--r-- 1 root root 2048 May 12 16:45 critical_system.txt\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" chown"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" root:root"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" critical_system.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"[sudo] password "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" hacker:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -l"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" critical_system.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"-rw-r--r--"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" root"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" root"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 2048"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" May"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 12"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 16"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":":45"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" critical_system.txt\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"chown"}]},{"type":"text","value":" command and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":", you can transfer ownership and elevate your privileges, manipulating the digital hierarchy to your advantage."}]},{"type":"element","tag":"h2","props":{"id":"part-6-network-reconnaissance"},"children":[{"type":"text","value":"Part 6: Network Reconnaissance"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the interconnected world of cyberpunk, network skills are essential."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ ssh hacker@remote-server.com\nhacker@remote-server.com's password:\nWelcome to the remote server.\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ssh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker@remote-server.com\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"hacker@remote-server.com"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"'s password:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Welcome to the remote server.\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ssh"}]},{"type":"text","value":" command allows you to securely access remote systems, infiltrating enemy networks or collaborating with fellow hackers."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ ping target-server.corp\nPING target-server.corp (192.168.1.100) 56(84) bytes of data.\n64 bytes from target-server.corp (192.168.1.100): icmp_seq=1 ttl=64 time=12.5 ms\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ping"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" target-server.corp\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"PING"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" target-server.corp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" (192.168.1.100) 56("}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"84"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":") bytes of data.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"64"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" bytes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" target-server.corp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" (192.168.1.100): icmp_seq=1 ttl=64 time=12.5 ms\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ping"}]},{"type":"text","value":" command, you can probe the connectivity of devices, mapping out the digital landscape."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ traceroute secure-system.net\ntraceroute to secure-system.net (10.0.0.50), 30 hops max, 60 byte packets\n 1  gateway (192.168.1.1)  3.141 ms  2.792 ms  2.694 ms\n 2  * * *\n 3  secure-system.net (10.0.0.50)  48.127 ms  50.258 ms  50.223 ms\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" traceroute"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secure-system.net\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"traceroute"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secure-system.net"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" (10.0.0.50), 30 hops max, 60 byte packets\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" 1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  gateway"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" (192.168.1.1)  3.141 ms  2.792 ms  2.694 ms\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" 2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" *\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" 3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  secure-system.net"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" (10.0.0.50)  48.127 ms  50.258 ms  50.223 ms\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"traceroute"}]},{"type":"text","value":" command enables you to trace the path your data takes, identifying potential vulnerabilities or surveillance points."}]},{"type":"element","tag":"h2","props":{"id":"part-7-data-extraction-and-manipulation"},"children":[{"type":"text","value":"Part 7: Data Extraction and Manipulation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you uncover the secrets of the command line, you learn to extract and manipulate data with precision."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ curl -o secret_data.json https://corp-server.com/api/secrets\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 1024k  100 1024k    0     0  2048k      0 --:--:-- --:--:-- --:--:-- 2048k\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" curl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -o"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secret_data.json"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" https://corp-server.com/api/secrets\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"  %"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Total"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    %"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Received"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" %"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Xferd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  Average"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Speed"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"   Time"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    Time"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"     Time"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  Current\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"                                 Dload"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  Upload"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"   Total"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"   Spent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    Left"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  Speed\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"100"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1024"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"k"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  100"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 1024"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"k"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"     0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"  2048"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"k"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"      0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --:--:--"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --:--:--"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --:--:--"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 2048"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"k\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"curl"}]},{"type":"text","value":" command becomes your tool for retrieving data from the web."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ awk '{sum+=$1} END {print \"Total: \", sum}' financial_data.txt\nTotal: 10582940\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" awk"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" '{sum+=$1} END {print \"Total: \", sum}'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" financial_data.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Total:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 10582940\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" command allows you to process and analyze text data, uncovering patterns and insights."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ cat user_data.json | jq '.users[].email'\n\"john@example.com\"\n\"alice@example.com\"\n\"bob@example.com\"\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" cat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" user_data.json"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" jq"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" '.users[].email'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"\"john@example.com\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"\"alice@example.com\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"\"bob@example.com\"\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"jq"}]},{"type":"text","value":" command, you can parse and manipulate JSON data, the lifeblood of the digital world."}]},{"type":"element","tag":"h2","props":{"id":"part-8-scripting-and-automation"},"children":[{"type":"text","value":"Part 8: Scripting and Automation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the fast-paced world of cyberpunk, automation is key."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"#!/bin/bash\n\nfor file in *.log; do\n    grep \"ERROR\" \"$file\" >> error_logs.txt\ndone\n\necho \"Error logs collected successfully.\"\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"#!/bin/bash\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" file "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":".log; "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"do\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"    grep"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"ERROR\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"$file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" >>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" error_logs.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"done\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"echo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"Error logs collected successfully.\"\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With the power of scripting, you can create your own digital tools and automate repetitive tasks. The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bash"}]},{"type":"text","value":" scripting language becomes your ally, allowing you to combine commands and create complex workflows."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ crontab -e\n0 2 * * * /home/hacker/scripts/data_backup.sh\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" crontab"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -e\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" 2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" /home/hacker/scripts/data_backup.sh\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cron"}]},{"type":"text","value":" utility enables you to schedule tasks, ensuring your scripts run automatically at predetermined intervals."}]},{"type":"element","tag":"h2","props":{"id":"part-9-encryption-and-steganography"},"children":[{"type":"text","value":"Part 9: Encryption and Steganography"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a world where information is currency, encryption and steganography are essential skills."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ gpg -c important_file.txt\nEnter passphrase:\nRepeat passphrase:\n$ ls\nimportant_file.txt  important_file.txt.gpg\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" gpg"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -c"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" important_file.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Enter"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" passphrase:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Repeat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" passphrase:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ls\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"important_file.txt"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"  important_file.txt.gpg\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gpg"}]},{"type":"text","value":" command allows you to encrypt and decrypt files, protecting your sensitive data from prying eyes."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ steghide embed -cf innocent_image.jpg -ef secret_message.txt\nEnter passphrase:\nRe-Enter passphrase:\nembedding \"secret_message.txt\" in \"innocent_image.jpg\"... done\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" steghide"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" embed"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -cf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" innocent_image.jpg"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -ef"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secret_message.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Enter"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" passphrase:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Re-Enter"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" passphrase:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"embedding"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"secret_message.txt\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"innocent_image.jpg\"..."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" done\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With steganography techniques and the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"steghide"}]},{"type":"text","value":" command, you can hide messages within seemingly innocent files, concealing your communication channels."}]},{"type":"element","tag":"h2","props":{"id":"part-10-the-final-hack"},"children":[{"type":"text","value":"Part 10: The Final Hack"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you approach the final chapter, you realize that the command line is more than just a tool; it's a way of life. With your newfound skills, you embark on the ultimate hack, infiltrating the core of the oppressive corporation that controls society."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ ssh -i secret_key.pem hacker@corp-mainframe.com\nWelcome to the Corporate Mainframe.\n\n$ cd /root/secret_projects\n$ tar -czf projects.tar.gz *\n$ scp projects.tar.gz hacker@hidden-server.net:~/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ssh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -i"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" secret_key.pem"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker@corp-mainframe.com\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Welcome"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Corporate"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Mainframe.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" /root/secret_projects\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" tar"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -czf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" projects.tar.gz"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" *\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" scp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" projects.tar.gz"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker@hidden-server.net:~/\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You combine all the commands you've learned, chaining them together in a symphony of keystrokes. As you execute the final command, you hold your breath, waiting for the outcome that will determine the fate of the world."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"$ ./deploy_resistance_ai.sh\nInitializing Resistance AI...\nUploading virus to corporate systems...\nInfiltrating security protocols...\nOverriding control systems...\n\nCorporate control terminated.\nFreedom restored to the people.\n\nCongratulations, hacker. You have successfully liberated society from the grasp of the oppressive corporations. The command line has been your loyal companion throughout this journey, empowering you to shape the world according to your vision.\n\nAs you step out into the now-free streets of the city, you feel a sense of pride and accomplishment. Your mastery of the Linux command line has not only saved you but has also sparked a revolution that will echo through the ages.\n\nThe command line may have been your weapon, but it was your spirit, your determination, and your unwavering commitment to justice that truly made you a hero. And so, with the world at your fingertips, you embark on a new journey, ready to face whatever challenges the future may bring.\n\n$ echo \"The future is ours to shape.\"\nThe future is ours to shape.\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ./deploy_resistance_ai.sh\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Initializing"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Resistance"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" AI...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Uploading"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" virus"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" corporate"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" systems...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Infiltrating"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" security"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" protocols...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Overriding"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" control"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" systems...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Corporate"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" control"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" terminated.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Freedom"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" restored"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" people.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"Congratulations,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hacker."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" You"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" have"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" successfully"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" liberated"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" society"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" grasp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" of"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" oppressive"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" corporations."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" The"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" command"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" line"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" has"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" been"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" your"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" loyal"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" companion"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" throughout"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" journey,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" empowering"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" you"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" shape"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" world"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" according"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" your"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" vision.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"As"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" you"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" step"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" out"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" into"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" now-free"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" streets"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" of"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" city,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" you"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" feel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sense"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" of"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" pride"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" and"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" accomplishment."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Your"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" mastery"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" of"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Linux"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" command"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" line"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" has"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" not"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" only"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" saved"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" you"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" but"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" has"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" also"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" sparked"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" revolution"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" that"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" will"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" echo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" through"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ages.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"The"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" command"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" line"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" may"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" have"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" been"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" your"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" weapon,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" but"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" it"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" was"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" your"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" spirit,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" your"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" determination,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" and"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" your"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" unwavering"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" commitment"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" justice"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" that"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" truly"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" made"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" you"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" hero."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" And"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" so,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" with"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" world"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" at"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" your"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" fingertips,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" you"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" embark"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" on"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" journey,"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ready"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" face"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" whatever"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" challenges"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" the"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" future"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" may"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" bring.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" echo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"The future is ours to shape.\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"The"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" future"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" is"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" ours"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" shape.\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"part-1-the-journey-begins","depth":2,"text":"Part 1: The Journey Begins"},{"id":"part-2-manipulating-reality","depth":2,"text":"Part 2: Manipulating Reality"},{"id":"part-3-the-power-of-words","depth":2,"text":"Part 3: The Power of Words"},{"id":"part-4-system-infiltration","depth":2,"text":"Part 4: System Infiltration"},{"id":"part-5-access-and-control","depth":2,"text":"Part 5: Access and Control"},{"id":"part-6-network-reconnaissance","depth":2,"text":"Part 6: Network Reconnaissance"},{"id":"part-7-data-extraction-and-manipulation","depth":2,"text":"Part 7: Data Extraction and Manipulation"},{"id":"part-8-scripting-and-automation","depth":2,"text":"Part 8: Scripting and Automation"},{"id":"part-9-encryption-and-steganography","depth":2,"text":"Part 9: Encryption and Steganography"},{"id":"part-10-the-final-hack","depth":2,"text":"Part 10: The Final Hack"}]}},"_type":"markdown","_id":"content:1.programming:terminal:1.shell_intro.md","_source":"content","_file":"1.programming/terminal/1.shell_intro.md","_extension":"md"},{"_path":"/analytics/_dir","_dir":"analytics","_draft":false,"_partial":true,"_locale":"","title":"Analytics","icon":"ri:line-chart-line","_id":"content:2.analytics:_dir.yml","_type":"yaml","_source":"content","_file":"2.analytics/_dir.yml","_extension":"yml"},{"_path":"/analytics","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Data Analytics","description":"Lots of content on data analytics and numerical computing.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"data-analytics"},"children":[{"type":"text","value":"Data Analytics"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lots of content on data analytics and numerical computing."}]},{"type":"element","tag":"h2","props":{"id":"roadmap"},"children":[{"type":"text","value":"Roadmap"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Up next in the list"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Analyzing patient health data with "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DuckDB"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Drawing insights from financial data using "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Ibis"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sports Analytics with "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Polars"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click Baity titles analysis."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"roadmap","depth":2,"text":"Roadmap"}]}},"_type":"markdown","_id":"content:2.analytics:1.index.md","_source":"content","_file":"2.analytics/1.index.md","_extension":"md"},{"_path":"/analytics/numerical_computing","_dir":"analytics","_draft":false,"_partial":false,"_locale":"","title":"Numerical Computing","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"numerical-computing"},"children":[{"type":"text","value":"Numerical Computing"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"Learning is synthesizing seemingly divergent ideas and data.\" ~ Terry Heick"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can run through the exercises with the following links."}]},{"type":"element","tag":"div","props":{"className":["grid","cards"],"markdown":""},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":":simple-jupyter: "},{"type":"element","tag":"a","props":{"href":""},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Download Jupyter Notebook"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":":fontawesome-brands-js: "},{"type":"element","tag":"a","props":{"href":""},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Open in Colab"}]},{"type":"text","value":" for interactivity"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":":fontawesome-brands-css3: "},{"type":"element","tag":"a","props":{"href":""},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Open in Binder"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":":simple-github: "},{"type":"element","tag":"a","props":{"href":""},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Open in GitHub Codespaces"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"The important thing to remember about mathematics is not to be frightened\" ~ Richard Dawkins"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"da","src":"https://miro.medium.com/max/800/0*o4HM8Tk9PHJUyuei.jpg"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"_1-intro-to-numpy"},"children":[{"type":"text","value":"1. Intro to Numpy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"numpy","src":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/NumPy_logo.svg/1200px-NumPy_logo.svg.png"},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/NumPy","rel":["nofollow"]},"children":[{"type":"text","value":"https://en.wikipedia.org/wiki/NumPy"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Numpy stands for Numerical Python and it is one of the core libraries in the suite of Python\ntools for data science and other numerical applications. Because of its numerical capabilities\nand speed, a lot of the libraries and packages in the data world depend on this wonderful tool."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The library allows us to run fast computations with arrays and matrices and calculate simple-to-complex\nmathematical calculations at great speed. One of the reasons why it is so powerful and fast is\nthat it is partly written in the C programming language. This means that computations with\nNumPy are executed much closer to the hardware of our computers than the regular lists in Python. We\nwill compare the speed of both, lists and numpy arrays, later in this lesson to better understand\nthe speed differences between the two."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Main Characteristics of NumPy:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Many built-in mathematical functions"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Efficient computations with n-dimensional arrays (n is the number of dimensions)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Very fast"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"It allows for broadcasting. This is the equivalent computation of a loop but without the loop. Meaning, for a lot of tasks with large datasets, you won't need to create a loop"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NumPy arrays use less computer memory than built-in Python equivalent data structures"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Excellent tool for generating random data. This will be useful if you would like to simulate different scenarios in your analysese"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, let's start coding."}]},{"type":"element","tag":"h2","props":{"id":"_2-arrays-and-matrices"},"children":[{"type":"text","value":"2. Arrays and Matrices"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's begin by importing NumPy with its industry alias. An alias is the nickname you give\nto the modules/libraries/packages you import, for example, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"import cool_package.killer_function as kf"}]},{"type":"text","value":" or\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"from my_great_package.hello import greetings_mom as gm"}]},{"type":"text","value":" will both boil down to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"kf"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gm"}]},{"type":"text","value":" respectively."}]},{"type":"element","tag":"pre","props":{"code":"import numpy as np\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import numpy as np\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you import numpy, and any other package for that matter, you can often check the version\nyou are using with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.__version__"}]},{"type":"text","value":" as shown next."}]},{"type":"element","tag":"pre","props":{"code":"np.__version__\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.__version__\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"'1.26.2'\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"'1.26.2'\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Arrays in numpy are similar to lists but they differ in that they can only contain\none data type. If you have ever added a number to a column, row, or both in Excel\nthen you have already worked with arrays and matrices. If you have ever written a\nlist of different things you needed to buy at the supermarket, as well as the quantity\nof each item, then you have already created a two-dimensional array or matrix."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thinking of numpy arrays as the components of a spreadsheet will help you get a better"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nmental picture of these concepts."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Index"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Item"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Quantity"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"12-Apr-20"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"toilet paper"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"1000"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"20-Apr-20"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"chicken"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"10"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"27-Apr-20"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"toilet paper"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"500"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"27-Apr-20"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"cereal"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"2"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"27-Apr-20"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"bread"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"1"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can start working with arrays by passing in a list of data to the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.array()"}]},{"type":"text","value":" method.\nThis method takes in Python lists (single or nested) and transform them immediately into\nthe "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ndarray"}]},{"type":"text","value":" dataclass."}]},{"type":"element","tag":"pre","props":{"code":"# Create your first array\nfirst_array = np.array([25, 40, 50, 16, 10, 19, 32, 27, 11])\nprint(first_array, type(first_array))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Create your first array\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"first_array = np.array([25, 40, 50, 16, 10, 19, 32, 27, 11])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(first_array, type(first_array))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"[25 40 50 16 10 19 32 27 11] <class 'numpy.ndarray'>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[25 40 50 16 10 19 32 27 11] <class 'numpy.ndarray'>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You've probably already seen the native Python function, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"range()"}]},{"type":"text","value":", which creates a range\nof values up to but not including the stoping point, and with an optional step in between.\nThe equivalent of this function in numpy is the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.arange()"}]},{"type":"text","value":" (pronounced "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"a-range"}]},{"type":"text","value":" not\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"arrange"}]},{"type":"text","value":"). The nice thing about the numpy's version is that we can add an additional parameter\nthat lets us pick the data type of the array. Even thought you might not have to worry about\nthis until you tackle more advanced problems with larger datasets, the difference between an\n8-bit integer ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"int8"}]},{"type":"text","value":") and 64 one ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"int64"}]},{"type":"text","value":") can be drastic, effectively increasing or\ndecreasing the amount of time a computation might take."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's use both, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"range()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.arange()"}]},{"type":"text","value":" to see how they work."}]},{"type":"element","tag":"pre","props":{"code":"# since range() is a lazy function, we have to wrap it around a list() to print its values\nprint(list(range(10))) # create array of 10 numbers from 0 to 9\nprint(list(range(0, 10))) # create array of 10 numbers from 0 to 9\nprint(list(range(0, 10, 2))) # create array of even numbers from 0 to 9. Stepwise operation!\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# since range() is a lazy function, we have to wrap it around a list() to print its values\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(list(range(10))) # create array of 10 numbers from 0 to 9\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(list(range(0, 10))) # create array of 10 numbers from 0 to 9\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(list(range(0, 10, 2))) # create array of even numbers from 0 to 9. Stepwise operation!\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n[0, 2, 4, 6, 8]\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n[0, 2, 4, 6, 8]\n"}]}]},{"type":"element","tag":"pre","props":{"code":"# NumPy example\nprint(np.arange(10)) # create array of 10 numbers from 0 to 9\nprint(np.arange(10, dtype='int8')) # create array of 10 numbers from 0 to 9 and with integers of 8 bites\nprint(np.arange(0, 10, dtype='int32')) # create array of 10 numbers from 0 to 9 and with integers of 32 bites\nprint(np.arange(0, 10, 2, dtype='int64')) # create array of 5 even numbers from 0 to 9. Stepwise operation  and with integers of 64 bites\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# NumPy example\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(np.arange(10)) # create array of 10 numbers from 0 to 9\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(np.arange(10, dtype='int8')) # create array of 10 numbers from 0 to 9 and with integers of 8 bites\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(np.arange(0, 10, dtype='int32')) # create array of 10 numbers from 0 to 9 and with integers of 32 bites\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(np.arange(0, 10, 2, dtype='int64')) # create array of 5 even numbers from 0 to 9. Stepwise operation  and with integers of 64 bites\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"[0 1 2 3 4 5 6 7 8 9]\n[0 1 2 3 4 5 6 7 8 9]\n[0 1 2 3 4 5 6 7 8 9]\n[0 2 4 6 8]\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[0 1 2 3 4 5 6 7 8 9]\n[0 1 2 3 4 5 6 7 8 9]\n[0 1 2 3 4 5 6 7 8 9]\n[0 2 4 6 8]\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"NumPy comes with its own attributes for checking the shape, data type, and dimensions\nof an array. This can come in handy when working working with images or ton investigate\nany data we might be given with little information about it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we use the attribute "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".shape"}]},{"type":"text","value":" on an array, we get back a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tuple"}]},{"type":"text","value":" with the rows as\nthe first element and the columns as the second element. The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".dtype"}]},{"type":"text","value":" attribute tells us\nthe data type of the array or matrix, and the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".ndim"}]},{"type":"text","value":" attribute gives us the dimensions."}]},{"type":"element","tag":"pre","props":{"code":"print(first_array)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(first_array)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"[25 40 50 16 10 19 32 27 11]\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[25 40 50 16 10 19 32 27 11]\n"}]}]},{"type":"element","tag":"pre","props":{"code":"print(first_array.dtype) # data type\nprint(first_array.shape) # (rows, columns)\nprint(first_array.ndim) # dimension\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(first_array.dtype) # data type\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(first_array.shape) # (rows, columns)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(first_array.ndim) # dimension\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"int64\n(9,)\n1\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"int64\n(9,)\n1\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In addition to lists, tuples and sets can also be passed into a numpy array."}]},{"type":"element","tag":"pre","props":{"code":"# this is a matrix of multiple lists\nmatrix_list = [[1, 2, 3, 4],\n               [20, 22, 27, 15], \n               [11, 14, 19, 7]]\nprint(matrix_list)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this is a matrix of multiple lists\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_list = [[1, 2, 3, 4],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"               [20, 22, 27, 15], \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"               [11, 14, 19, 7]]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(matrix_list)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"[[1, 2, 3, 4], [20, 22, 27, 15], [11, 14, 19, 7]]\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[[1, 2, 3, 4], [20, 22, 27, 15], [11, 14, 19, 7]]\n"}]}]},{"type":"element","tag":"pre","props":{"code":"matrix_array = np.array([[1, 2, 3, 4], # this is a matrix of multiple arrays\n                         [5, 6, 7, 8], # even though it looks just like a bunch of lists\n                         [9, 8, 7, 6]]) # it is treated differently by numpy\nmatrix_array\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_array = np.array([[1, 2, 3, 4], # this is a matrix of multiple arrays\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         [5, 6, 7, 8], # even though it looks just like a bunch of lists\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         [9, 8, 7, 6]]) # it is treated differently by numpy\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_array\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# this is a matrix created from the list of lists above\nndarray_lists = np.array(matrix_list)\nndarray_lists\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this is a matrix created from the list of lists above\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ndarray_lists = np.array(matrix_list)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ndarray_lists\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(matrix_list, type(matrix_list))\nprint(\"-\" * 40)\nprint(matrix_array, matrix_array.dtype)\nprint(\"-\" * 40)\nprint(ndarray_lists, ndarray_lists.dtype)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(matrix_list, type(matrix_list))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"-\" * 40)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(matrix_array, matrix_array.dtype)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"-\" * 40)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(ndarray_lists, ndarray_lists.dtype)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# this is a numpy matrix of multiple arrays with strings\n\nmatrix_text = np.array([[\"Hi\", \"this\", \"is\", \"a\"],\n                         [\"matrix\", \"that\", \"only\", \"contains\"],\n                         [\"text\", \"and\", \"no\", \"numbers\"]])\nmatrix_text\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this is a numpy matrix of multiple arrays with strings\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_text = np.array([[\"Hi\", \"this\", \"is\", \"a\"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         [\"matrix\", \"that\", \"only\", \"contains\"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         [\"text\", \"and\", \"no\", \"numbers\"]])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_text\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you are ever unsure of the number of dimmensions a numpy array has, you can always check this with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".ndim"}]},{"type":"text","value":" attribute. Also, whenever you see a list of lists, it helps to think of it as an Excel spreadsheet (i.e. a 2-dimensional grid of information)."}]},{"type":"element","tag":"pre","props":{"code":"print(matrix_text.ndim)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(matrix_text.ndim)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also select (i.e. slice and dice) elements from an array in the same fashion as with lists, but with an additional functionality that allows us to pinpoint exactly what we want by selecting columns and rows within the same bracket of an array in multiple dimensions."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is an example of how slicing data out of a numpy array works."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"array"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"start🔚step, start🔚step"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's see what the construct of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"array[rows,columns]"}]},{"type":"text","value":" looks like by starting with the rows first."}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Our first array --> {first_array} has {first_array.ndim} dimension(s)\")\nprint(\"-\" * 40)\nprint(f\"We can select one element --> {first_array[0]}\") # select an element first row\nprint(\"-\" * 40)\nprint(f\"More than one element with regular indexing --> {first_array[:5]}\") # select elements from 0 to 4\nprint(\"-\" * 40)\nprint(f\"And more than one element with negative indexing --> {first_array[2:-3]}\") # select elements from the 3rd to the third to last\n# negative indexing starts from the end without using 0\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Our first array --> {first_array} has {first_array.ndim} dimension(s)\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"-\" * 40)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"We can select one element --> {first_array[0]}\") # select an element first row\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"-\" * 40)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"More than one element with regular indexing --> {first_array[:5]}\") # select elements from 0 to 4\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"-\" * 40)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"And more than one element with negative indexing --> {first_array[2:-3]}\") # select elements from the 3rd to the third to last\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# negative indexing starts from the end without using 0\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-2"},"children":[{"type":"text","value":"Exercise 2"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create an array of with 30 even numbers of data type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"int32"}]},{"type":"text","value":" and assign it to a variable named "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"thirty_nums"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select the last 10 elements of the array using a negative index in a slice and assign it to the variable "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ten_nums"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sum all 10 numbers and assign the result to a variable called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"one_num"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"pre","props":{"code":"# create the array\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# create the array\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# create the slice\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# create the slice\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# sum the slice\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# sum the slice\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-3"},"children":[{"type":"text","value":"Exercise 3"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a Python list with 5 numbers."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a Python list with 5 words."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a NumPy matrix with the two lists above and assign it to a variable called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mixed_data"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select a word from the matrix and change it to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ice cream"}]},{"type":"text","value":". Assign it to a variable called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"icy"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select a number from the matrix and change it to 777. Assign it to a variable called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lucky_number"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"pre","props":{"code":"# list of nums\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# list of nums\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# list of words\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# list of words\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# mixed matrix\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# mixed matrix\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# change a word\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# change a word\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# change a number\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# change a number\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To select elements from a matrix we need to have a comma "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":","}]},{"type":"text","value":" separating our data. The rows are on the left and the columns will be on the right. The colon "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" still allows us to select a range, and adding an additional colon "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" allows us to select elements with steps in between."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Being able to select columns becomes specially useful when we have different data in our arrays. Think about our shoping list again (a mix of arrays), when we go grocery shopping, we will need to select specific elements from our list as we go through the isles of the supermarket."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"groceries","src":"https://media.giphy.com/media/l0G16KpPfcmdN1G1O/giphy.gif"},"children":[]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"matrix[start🔚step, start🔚step]"}]}]}]},{"type":"element","tag":"pre","props":{"code":"matrix_array\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_array\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(matrix_array[1, 3]) # element on second row and second column\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(matrix_array[1, 3]) # element on second row and second column\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(matrix_array[:, 3]) # all rows of column 2\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(matrix_array[:, 3]) # all rows of column 2\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(matrix_array[:, :]) # all rows and columns i.e. a full copy\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(matrix_array[:, :]) # all rows and columns i.e. a full copy\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(matrix_array[:, :2]) # everything in the first two columns\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(matrix_array[:, :2]) # everything in the first two columns\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's clear a bit the distinction between the concepts we have covered. Selecting one element of an array/matrix can be considered indexing, and selecting a group of elements from an array/matrix can be thought of as slicing your data."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we jump into some exercises, let's go over a few more examples. We will start by createing a 5 by 5 matrix and call it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"matrix_x"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"code":"matrix_x = np.array([[15, 41, 30, 11, 29],\n                    [22, 8, 13, 10, 14],\n                    [31, 19, 45, 16, 23],\n                    [17, 16, 33, 1, 34],\n                    [6, 27, 38, 25, 18]])\nmatrix_x\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x = np.array([[15, 41, 30, 11, 29],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    [22, 8, 13, 10, 14],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    [31, 19, 45, 16, 23],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    [17, 16, 33, 1, 34],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    [6, 27, 38, 25, 18]])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's figure out how to select the following rows and columns from Matrix X."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"alt","src":"../images//matrix_x_1.jpeg"},"children":[]}]},{"type":"element","tag":"pre","props":{"code":"matrix_x\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 1\n\n# We want all rows in the first column\nmatrix_x[:, 0]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We want all rows in the first column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[:, 0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 2\n\n# We want the first row and all columns\nmatrix_x[0, :]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We want the first row and all columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[0, :]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 3\n\n# We want the intersection of the first column and the first row\nmatrix_x[0, 0]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We want the intersection of the first column and the first row\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[0, 0]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's make things a bit more interesting by scaling the complexity of how we slice our matrix X."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"alt","src":"../images/matrix_x_2.jpeg"},"children":[]}]},{"type":"element","tag":"pre","props":{"code":"# Let's print matrix x again\nmatrix_x\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Let's print matrix x again\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"matrix_x.shape\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 4\n\n# We want all columns and every other row\nmatrix_x[::2, :]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 4\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We want all columns and every other row\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[::2, :]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 5\n\n# We want all rows and every other column\nmatrix_x[:, ::2]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We want all rows and every other column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[:, ::2]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 6\n\n# We want every other row and column starting from the second one of each\nmatrix_x[1::2, 1::2]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 6\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We want every other row and column starting from the second one of each\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[1::2, 1::2]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also add values to these numbers and reasign the new values to a new variable."}]},{"type":"element","tag":"pre","props":{"code":"temp_matrix = matrix_x[1::2, 1::2] + 5\ntemp_matrix\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"temp_matrix = matrix_x[1::2, 1::2] + 5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"temp_matrix\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For our last example, let's explore how to get values at a specific point in our matrix."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"alt","src":"../images/matrix_x_3.jpeg"},"children":[]}]},{"type":"element","tag":"pre","props":{"code":"# Let's print matrix x again\n\nmatrix_x\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Let's print matrix x again\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 7\n\n# We want the first, third, and fifth element of the first, third, and fifth column-row combination\nmatrix_x[[0, 2, 4], [0, 2, 4]]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 7\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We want the first, third, and fifth element of the first, third, and fifth column-row combination\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[[0, 2, 4], [0, 2, 4]]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 8\n\n# We want the elements at the:\n# second row and first column\n# first row and second column\n# fourth row and third column\n# fifth row and fourth column\n# third row and fifth column\n\nmatrix_x[[1, 0, 3, 4, 2], [0, 1, 2, 3, 4]]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 8\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We want the elements at the:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# second row and first column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# first row and second column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# fourth row and third column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# fifth row and fourth column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# third row and fifth column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[[1, 0, 3, 4, 2], [0, 1, 2, 3, 4]]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Matrix X number 8\n\nmatrix_x[-1, []]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Matrix X number 8\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_x[-1, []]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-4"},"children":[{"type":"text","value":"Exercise 4"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a matrix with 4 rows and 5 columns."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select the first and last columns and add the result to a new variable."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add 5 to the first column and multiply the second by 10."}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-5"},"children":[{"type":"text","value":"Exercise 5"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a matrix with 6 rows and 3 columns."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select the first, third, and fifth rows."}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-6"},"children":[{"type":"text","value":"Exercise 6"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a matrix with 5 rows and 9 columns."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select every third column starting from the first one."}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_3-generating-data-with-numpy"},"children":[{"type":"text","value":"3. Generating Data With NumPy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"matrix","src":"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fhadoopilluminated.com%2Fhadoop_illuminated%2Fimages%2Fmatrix.jpg&f=1&nofb=1"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We have already seen how to create numpy arrays of different dimmensions, however, numpy has even more functionalities that allow us to generate data on the fly either as a one-dimensional array or multiple."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are some of the most important functions to generate data with numpy."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.arange(start, end, step, dtype='something')"}]},{"type":"text","value":" will create a one-dimensional array"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".reshape(4, 5)"}]},{"type":"text","value":" this method can be applied to almost any array and it will reshape it into a matrix or other n-dimensional array"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.zeros(nums, dtype='something')"}]},{"type":"text","value":" creates an array full of zeros"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.ones((rows, columns), dtype='something')"}]},{"type":"text","value":" creates an array/matrix full of ones"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.random.random(num)"}]},{"type":"text","value":" creates an array of random values from 0 to 1. If passed in a tuple such as (3, 5), it will crate a matrix of random values"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.linspace(start, end, nums_in_between)"}]},{"type":"text","value":" creates an array of linearly-spaced numbers from the start point to the end with a user-defined amount of numbers in between"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.random.normal(mean, std, size)"}]},{"type":"text","value":" draws random numbers from a normal distribution with the mean, standard deviation, and size of your choosing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.random.randint(start, end, shape)"}]},{"type":"text","value":" creates random integers"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.full(shape, num_you_like)"}]},{"type":"text","value":" creates an array or matrix with the same number all accross"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.empty()"}]},{"type":"text","value":" creates a completely empty array of a size and shape of your choosing"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You might be wondering, why would I use all of these data generating functions if I will always have data for my use case? The answer is that no model is perfect, and sometimes, a bit of simulation can save you a lot of time in your work or within a project. In addition, there are analyses that are way too costly or harmful to run a test on and collect new data from. For example, flight routes, weather, car crashes, etc., and simulating scenarios in these use-cases would save a lot of time, money, effort, and even lives."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's go over some examples of each."}]},{"type":"element","tag":"pre","props":{"code":"import matplotlib.pyplot as plt\n\n%matplotlib inline\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import matplotlib.pyplot as plt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%matplotlib inline\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# let's create a one dimmensional array\narr1 = np.arange(0, 50, 0.5, dtype='float')\narr1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's create a one dimmensional array\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr1 = np.arange(0, 50, 0.5, dtype='float')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# we will plot our array against the same array but with every element raised to the power of 2\nplt.plot(arr1, (arr1**2))\nplt.show()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we will plot our array against the same array but with every element raised to the power of 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.plot(arr1, (arr1**2))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's now turn our array into a matrix while keeping in mind that the product of the rows and columns of a matrix should be equal to the lenght of the array. Hence, if our array has 50 values, our columns times our rows has to be equal to 50 (10x5, 2x25)."}]},{"type":"element","tag":"pre","props":{"code":"len(arr1)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"len(arr1)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"matrix1 = arr1.reshape(10, 10).copy()\nmatrix1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix1 = arr1.reshape(10, 10).copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"arr1.reshape(20, 5)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr1.reshape(20, 5)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"arr1.reshape(5, 20)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr1.reshape(5, 20)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"arr1.reshape(25, 4)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr1.reshape(25, 4)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You might be wondering why we used the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".copy()"}]},{"type":"text","value":" above and the reason is that the data numpy keeps in memory for any given array doesn't change when the pointer changes (i.e. a new variable assignment) unless we create a copy. So essentially arr1 and matrix one would be sharing the same data and whathever happens to matrix1 would happen to arr1 and vice-versa."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's visualise this with an example."}]},{"type":"element","tag":"pre","props":{"code":"# Let's create an array with 10 zeros\nzeros_arr = np.zeros(10, dtype='int8')\nzeros_arr\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Let's create an array with 10 zeros\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"zeros_arr = np.zeros(10, dtype='int8')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"zeros_arr\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Here is the original array --> {zeros_arr}\") # here is the original array\nprint('-' * 55)\n\nnew_zeros = zeros_arr # here is our new copy\n\nnew_zeros[4] = 5 # let's change the value at index 4\n\nprint(f\"Here is the new, altered array --> {new_zeros}\") # let's print the modified one\n\nprint('-' * 55)\n\nprint(f\"Here is the original again --> {zeros_arr}\") # and let's print the original as well\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Here is the original array --> {zeros_arr}\") # here is the original array\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print('-' * 55)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_zeros = zeros_arr # here is our new copy\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_zeros[4] = 5 # let's change the value at index 4\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Here is the new, altered array --> {new_zeros}\") # let's print the modified one\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print('-' * 55)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Here is the original again --> {zeros_arr}\") # and let's print the original as well\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"new_zeros = zeros_arr.copy()\nnew_zeros[4] = 10\nnew_zeros\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_zeros = zeros_arr.copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_zeros[4] = 10\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_zeros\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"zeros_arr\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"zeros_arr\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we know that arrays can be fixed in memory and shared with other varables, or be copied to another variable. Let's continued exploring our data generation functions."}]},{"type":"element","tag":"pre","props":{"code":"# the ones and only : )\nmatrix2 = np.ones((4, 5), dtype='float32')\nmatrix2\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# the ones and only : )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix2 = np.ones((4, 5), dtype='float32')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix2\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# have now become the lucky seven's\nmatrix2 + 6\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# have now become the lucky seven's\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix2 + 6\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# how about having lot's of tiny spaces in between two numbers\narr2 = np.linspace(-10, 10, 100)\narr2\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# how about having lot's of tiny spaces in between two numbers\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr2 = np.linspace(-10, 10, 100)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr2\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# what would the cosine of our previous array and the original array look like when plotted\nplt.plot(arr2, np.cos(arr2))\nplt.show()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# what would the cosine of our previous array and the original array look like when plotted\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.plot(arr2, np.cos(arr2))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# everyone needs random integers every now and then\n# from 10 to 50 give me 100 randoms\narr3 = np.random.randint(low=0, high=50, size=100, dtype='int8')\narr3\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# everyone needs random integers every now and then\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# from 10 to 50 give me 100 randoms\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr3 = np.random.randint(low=0, high=50, size=100, dtype='int8')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr3\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"plt.plot(sorted(arr3))\nplt.show()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.plot(sorted(arr3))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# distributions are everywhere and the normal ones tend to follow us (hint: the weather 🌤🌧🌞)\narr4 = np.random.normal(loc=12, scale=6, size=200)\narr4\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# distributions are everywhere and the normal ones tend to follow us (hint: the weather 🌤🌧🌞)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr4 = np.random.normal(loc=12, scale=6, size=200)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr4\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"plt.hist(arr4, bins=30, color='green')\nplt.show()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.hist(arr4, bins=30, color='green')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# these are completely empty even though they appear not to be\narr5 = np.empty((3, 5), dtype='float32')\narr5\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# these are completely empty even though they appear not to be\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr5 = np.empty((3, 5), dtype='float32')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr5\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# to look at the shape of this array we use\narr5.shape\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# to look at the shape of this array we use\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr5.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# we can fill in the rows and/or columns with new values\narr5[0] = (5**2) # first row will have 25s\narr5[0]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we can fill in the rows and/or columns with new values\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr5[0] = (5**2) # first row will have 25s\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr5[0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"arr5[1] = (25 / 5) # second row will have 5s\narr5[2] = 17 # third row only 17s\narr5\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr5[1] = (25 / 5) # second row will have 5s\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr5[2] = 17 # third row only 17s\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr5\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Let's create a matrix with a number we like\nfilled_matrix = np.full(shape=(3, 5), fill_value=17, dtype='int8')\nfilled_matrix\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Let's create a matrix with a number we like\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"filled_matrix = np.full(shape=(3, 5), fill_value=17, dtype='int8')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"filled_matrix\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-7"},"children":[{"type":"text","value":"Exercise 7"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create an empty matrix of 3 by 5 dimensions. Add it to the variable "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"empty_matrix"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add positive numbers to the odd columns."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add negative numbers to the even columns."}]}]},{"type":"element","tag":"pre","props":{"code":"# create a 3 by 5 matrix\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# create a 3 by 5 matrix\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# add positive numbers to the odd columns\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# add positive numbers to the odd columns\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# add negative numbers to the even columns\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# add negative numbers to the even columns\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-8"},"children":[{"type":"text","value":"Exercise 8"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a one dimensional array of 80 random numbers of type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"float32"}]},{"type":"text","value":". Call it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"my_randoms"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reshape the array into a matrix of at least 8 rows. Call it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rand_matrix"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a slice of the even columns and odd rows. Call it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"silly_slice"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_4-computations-with-numpy"},"children":[{"type":"text","value":"4. Computations with NumPy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"algebra","src":"https://media.giphy.com/media/HBWbIuHvXI2Eo/giphy.gif"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's begin this section with a quick comparison between operations on regular Python lists and operations on NumPy arrays."}]},{"type":"element","tag":"pre","props":{"code":"# let's create a list with 10M numbers\ncomp = list(range(10_000_000))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's create a list with 10M numbers\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"comp = list(range(10_000_000))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"%%time\n\n# let's add 1 to each and then time it\nsome_list = []\nfor i in comp:\n    some_list.append(i + 1)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%%time\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's add 1 to each and then time it\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_list = []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"for i in comp:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    some_list.append(i + 1)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# let's create a numpy array of 10M\nnp_array = np.arange(10_000_000)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's create a numpy array of 10M\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np_array = np.arange(10_000_000)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# let's make sure our arrays have the same amount of elements\nassert len(np_array) == len(comp), \"They don't match!\"\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's make sure our arrays have the same amount of elements\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"assert len(np_array) == len(comp), \"They don't match!\"\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"%%time\n\n# let's add 1 to each one of our numpy arrays\nnew_arr = np_array + 1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%%time\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's add 1 to each one of our numpy arrays\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_arr = np_array + 1\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, the difference in speed is stark. Try to play with the 0s and see how things evolve with these 2 computations."}]},{"type":"element","tag":"h3","props":{"id":"_41-operations"},"children":[{"type":"text","value":"4.1 Operations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"more arithmetic","src":"https://media.giphy.com/media/xT5LMINTLCSOGdIyEo/giphy.gif"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To be able to perform element-wise operations with 2 or more lists we need to do it either in a loop, a list comprehension, or add the numbers manually. With numpy, you can do element-wise operations without ever writing a loop, so long as your arrays are always of the same length or have a matching structure for between matrices and arrays. This last part is out of the scope of this course but it is important to learn about n-dimensional array operations to do more advanced work as you progress throughout your career."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's begin by adding two arrays."}]},{"type":"element","tag":"pre","props":{"code":"array1 = np.array([3, 2, 1])\narray2 = np.array([9, 5, 7])\n\narray1 + array2 # this addition will happen element-wise\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array1 = np.array([3, 2, 1])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array2 = np.array([9, 5, 7])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array1 + array2 # this addition will happen element-wise\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What happens when we try to add python lists with other lists?"}]},{"type":"element","tag":"pre","props":{"code":"l1 = [3, 2, 1]\nl2 = [9, 5, 7]\n\nl1 + l2\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"l1 = [3, 2, 1]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"l2 = [9, 5, 7]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"l1 + l2\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The correct way to do it with lists would be,"}]},{"type":"element","tag":"pre","props":{"code":"l3 = []\nfor idx in range(len(l1)):\n    l3.append(l1[idx] + l2[idx])\n\nprint(l3)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"l3 = []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"for idx in range(len(l1)):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    l3.append(l1[idx] + l2[idx])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(l3)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Or,"}]},{"type":"element","tag":"pre","props":{"code":"l3 = [l1[idx] + l2[idx] for idx in range(len(l2))]\nl3\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"l3 = [l1[idx] + l2[idx] for idx in range(len(l2))]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"l3\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice what happens when we try to add two arrays with different lenghts."}]},{"type":"element","tag":"pre","props":{"code":"# If the arrays do not have the same lenght, numpy will give us an error\narray1 = np.array([3, 2, 1, 6])\narray2 = np.array([9, 5, 7])\n\narray1 + array2\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# If the arrays do not have the same lenght, numpy will give us an error\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array1 = np.array([3, 2, 1, 6])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array2 = np.array([9, 5, 7])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array1 + array2\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the arrays don't have the same length, numpy will give us an error."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also do element-wise operations on arrays using the rest of the mathematical functions we saw on lesson 1."}]},{"type":"element","tag":"pre","props":{"code":"# let's create 2 more arrays\narray3 = np.array([3.7, 2.3, 1.8])\narray4 = np.array([9.1, 5, 7.4])\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's create 2 more arrays\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array3 = np.array([3.7, 2.3, 1.8])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array4 = np.array([9.1, 5, 7.4])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(array3 * array4) # multiplication\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(array3 * array4) # multiplication\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(array3 / array4) # division\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(array3 / array4) # division\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(array3 ** array4) # exponent\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(array3 ** array4) # exponent\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(array3 - array4) # subtraction\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(array3 - array4) # subtraction\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You also get the same functionality with a single number, only this time the single number will be applied to all elements in your array. This is also called broadcasting, and it is what we saw in the speed comparison at the beginning of this section."}]},{"type":"element","tag":"pre","props":{"code":"# notice the 10\nprint((array3 * array4) * 10) # multiplication\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# notice the 10\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print((array3 * array4) * 10) # multiplication\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print((array3 / array4) / 20) # division\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print((array3 / array4) / 20) # division\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print((array3 ** array4) ** 2) # exponent\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print((array3 ** array4) ** 2) # exponent\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print((array3 - array4) - 4) # subtraction\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print((array3 - array4) - 4) # subtraction\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(array3 * 3) # multiplication\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(array3 * 3) # multiplication\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Can you guess what would happen to a python lists when we try to multiply it by a scaler?"}]},{"type":"element","tag":"pre","props":{"code":"[1, 2, 3] * 3\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"[1, 2, 3] * 3\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(array3 / 10) # division again\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(array3 / 10) # division again\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(array3 ** 3) # exponentiation again but with 1 number only\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(array3 ** 3) # exponentiation again but with 1 number only\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(array3 - (-20)) # subtraction\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(array3 - (-20)) # subtraction\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"auto_array_1 = np.random.randint(low=5, high=20, size=40)\nauto_array_1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"auto_array_1 = np.random.randint(low=5, high=20, size=40)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"auto_array_1\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If we wanted to make the one dimensional array above a two-dimensional one, e.g. a matrix, we could do it with the method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".reshape()"}]},{"type":"text","value":" we say earlier, which takes as arguments the dimensions our new matrix should have. Please remember, the first number is always the rows and the second is always the columns."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What we have to keep in mind though is that the reshaped version has to match the amount of element in the array. For example, a one dimensional array with 20 elements can only be reshaped into a matrix of:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"2 rows and 10 columns (2, 10)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"10 rows and 2 columns (10, 2)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"4 rows and 5 columns (4, 5)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"5 rows and 4 columns (5, 4)"}]}]},{"type":"element","tag":"pre","props":{"code":"len(auto_array_1)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"len(auto_array_1)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"auto_array_1.shape\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"auto_array_1.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"New matrix: \\n {auto_array_1.reshape(5, 8)}\")\nprint(f\"Same array: \\n {auto_array_1}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"New matrix: \\n {auto_array_1.reshape(5, 8)}\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Same array: \\n {auto_array_1}\")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".reshape()"}]},{"type":"text","value":" method does not work inplace so we would have to assign the new matrix to a new variable and chain the method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".copy()"}]},{"type":"text","value":" to it if we want our reshaped matrix to be unique."}]},{"type":"element","tag":"pre","props":{"code":"auto_matrix_1 = auto_array_1.reshape(5, 8).copy()\nauto_matrix_1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"auto_matrix_1 = auto_array_1.reshape(5, 8).copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"auto_matrix_1\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The opposite to reshape would be "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".ravel()"}]},{"type":"text","value":". This method takes in a matrix of any shape and form and returns a 1-dimensional (flattened) array."}]},{"type":"element","tag":"pre","props":{"code":"print(\"Original matrix --> {}\".format(auto_matrix_1))\nprint(\"-\" * 45)\nauto_array_2 = auto_matrix_1.ravel().copy()\nprint(\"New, unraveled array --> {}\".format(auto_array_2))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"Original matrix --> {}\".format(auto_matrix_1))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"-\" * 45)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"auto_array_2 = auto_matrix_1.ravel().copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"New, unraveled array --> {}\".format(auto_array_2))\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_42-descriptive-statistics-on-arrays"},"children":[{"type":"text","value":"4.2 Descriptive Statistics on Arrays"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"stats","src":"https://media.giphy.com/media/t7sEnf5w7wJ1CEPyy7/giphy.gif"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Illustration Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"http://www.lindavanbruggen.nl/","rel":["nofollow"]},"children":[{"type":"text","value":"http://www.lindavanbruggen.nl/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we have learned how to create arrays, there are many operations we can do on arrays to try to understand the information they contain. For example, we can add all of their numbers, get their range, max and min values, and even learn how many even/odd numbers are in the array."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The kind of operations described above can also be referred to as descriptive statistics, which one of the branches of the field of Statistics. It gives us tools to interrogate the data and pull out some facts from it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also think of descriptive statistics a regular analysis of data where no predictions of fancy modeling takes place. The importance of descriptive statistics in the data analytics/science cycle is monumental. It helps us examine our data and, more often than not, find inconsistencies that we had not previously encountered and will have to deal with."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some useful statistics you should always begin with are:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Minimum"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"25th percentile"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Median"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Mean"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Mode"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"75th percentile"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Maximum"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Count"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Standard deviation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Variance"}]}]},{"type":"element","tag":"pre","props":{"code":"auto_array_1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"auto_array_1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Minimum Value: {np.min(auto_array_1)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Minimum Value: {np.min(auto_array_1)}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"25th percentile: {np.percentile(auto_array_1, 25)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"25th percentile: {np.percentile(auto_array_1, 25)}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Median: {np.median(auto_array_1)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Median: {np.median(auto_array_1)}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Average: {np.mean(auto_array_1)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Average: {np.mean(auto_array_1)}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"75th percentile: {np.percentile(auto_array_1, 75)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"75th percentile: {np.percentile(auto_array_1, 75)}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Maximum Value: {np.max(auto_array_1)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Maximum Value: {np.max(auto_array_1)}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Count: {auto_array_1.size}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Count: {auto_array_1.size}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Total Sum: {np.sum(auto_array_1)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Total Sum: {np.sum(auto_array_1)}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Square root of the array: {np.sqrt(np.sum(auto_array_1))}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Square root of the array: {np.sqrt(np.sum(auto_array_1))}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Sandard Deviation: {np.std(auto_array_1)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Sandard Deviation: {np.std(auto_array_1)}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(f\"Variance: {np.var(auto_array_1)}\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Variance: {np.var(auto_array_1)}\")\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-9"},"children":[{"type":"text","value":"Exercise 9"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create an array of 100 random numbers between 2 numbers of your choosing."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Build a function that takes in an array and prints at least 5 of the descriptive statistics shown above. Name it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"clue_finder"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Test your function on the array from step 1."}]}]},{"type":"element","tag":"pre","props":{"code":"# your random array\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# your random array\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# your function\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# your function\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# test your function with your array\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# test your function with your array\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-10"},"children":[{"type":"text","value":"Exercise 10"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Using the array you created in exercise 9, reshape it into a matrix of dimensions (6, 8)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sum every second column of that matrix matrix with a numpy function."}]}]},{"type":"element","tag":"pre","props":{"code":"# reshape your array here\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# reshape your array here\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# sum every second column here\n\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# sum every second column here\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_43-combining-arrays"},"children":[{"type":"text","value":"4.3 Combining Arrays"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sometimes, we will need to combine different arrays containing valuable information for a particular analysis. NumPy has three particular ways in which it allows us to do this:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.vstack()"}]},{"type":"text","value":" allows you to stack multiple arrays on top of one another, i.e. vertically or row-wise"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.hstack()"}]},{"type":"text","value":" allows you to stack arrays next to each other, i.e. horizontally or column-wise"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.concatenate()"}]},{"type":"text","value":" gives you both stacking options, vertical and horizontal stacking"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's have a look at all three of these."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"stacking","src":"../images/stacking.jpeg"},"children":[]}]},{"type":"element","tag":"pre","props":{"code":"x = np.arange(0, 20).reshape(5, 4)\ny = np.linspace(0, 9, 20).reshape(5, 4)\nz = np.ones(20).reshape(5, 4)\n\nprint(\"Here is the row length of \\n x --> %i, \\n y --> %i, and \\n z --> %i\" % (len(x), len(y), len(z)))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"x = np.arange(0, 20).reshape(5, 4)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"y = np.linspace(0, 9, 20).reshape(5, 4)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"z = np.ones(20).reshape(5, 4)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"Here is the row length of \\n x --> %i, \\n y --> %i, and \\n z --> %i\" % (len(x), len(y), len(z)))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# Horizontal Stack of x and y\nh_level1 = np.hstack([x, y])\nh_level1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Horizontal Stack of x and y\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"h_level1 = np.hstack([x, y])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"h_level1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# horizontal stack of all three but with an operation on the third\nh_level2 = np.hstack([h_level1, z + 2])\nh_level2\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# horizontal stack of all three but with an operation on the third\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"h_level2 = np.hstack([h_level1, z + 2])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"h_level2\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# vertical concatenation\nv_level1 = np.vstack([x, y])\nv_level1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# vertical concatenation\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"v_level1 = np.vstack([x, y])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"v_level1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# vertical concatenation with an operation on z\nv_level2 = np.vstack([v_level1, z + 7])\nv_level2\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# vertical concatenation with an operation on z\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"v_level2 = np.vstack([v_level1, z + 7])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"v_level2\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# horizontal concatenation\nc_level1 = np.concatenate([x, y, z], axis=1)\nc_level1\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# horizontal concatenation\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"c_level1 = np.concatenate([x, y, z], axis=1)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"c_level1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# vertical concatenation\nc_level2 = np.concatenate([x, y, z], axis=0)\nc_level2\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# vertical concatenation\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"c_level2 = np.concatenate([x, y, z], axis=0)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"c_level2\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_5-masking"},"children":[{"type":"text","value":"5. Masking"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"masks","src":"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.sheknows.com%2Fwp-content%2Fuploads%2F2020%2F04%2Fwhen-wear-mask-in-public-advice-cdc-e1586288268484.jpg&f=1&nofb=1"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the previous lesson, we explored conditional statements with if, elif's, and else constructors and noticed how powerful these functionalities can be when we try to evaluate statements based on logical conditions. NumPy allows us to take advantage of these logical statements to create powerful filtering methods."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One of the most common tasks of a data analyst is to dig deep into the data to figure out interesting relationships and patterns that could help us answer important questions. One way to achieve this is through filtering out data based on a given condition or set of conditions. NumPy allows us to do this quite efficiently and we will learn how to do this in this section."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Say we have an array of 1 year worth of temperatures in farenheit and we want to know how many days of the year the temperature was higher than 70 (a nice and probably sunny day 🌤)."}]},{"type":"element","tag":"pre","props":{"code":"year_temp = np.random.randint(low=-30, high=115, size=360, dtype='int8')\nyear_temp[:20]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"year_temp = np.random.randint(low=-30, high=115, size=360, dtype='int8')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"year_temp[:20]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After we have our array of temperatures for the year, we can move on to creating the condition we want."}]},{"type":"element","tag":"pre","props":{"code":"nice_days_mask = (year_temp > 70) \nnice_days_mask\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"nice_days_mask = (year_temp > 70) \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"nice_days_mask\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that we now have an array of booleans where the True's corresponde to the days where the temperature was greater than 70 and the False's correspond to the days where it was equal to or lower than 70. Now, if we pass our new variable of booleans as an index to our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"year_temp"}]},{"type":"text","value":" array, we will get back only the values we want (i.e. the ones that evaluated to True in the condition above)."}]},{"type":"element","tag":"pre","props":{"code":"nice_days = year_temp[nice_days_mask]\nprint(nice_days.shape, '\\n\\n', nice_days)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"nice_days = year_temp[nice_days_mask]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(nice_days.shape, '\\n\\n', nice_days)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now we can move on to answer some useful questions about our new filtered data. For example, we can examine the max temperature experienced during the nice days, or we could check out the average to understand what was the most common temperature during these days."}]},{"type":"element","tag":"pre","props":{"code":"print(\"The Average temperature on nice days was %i F ☀️\" % np.mean(nice_days))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"The Average temperature on nice days was %i F ☀️\" % np.mean(nice_days))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(\"The Max temperature on nice days was %i F 😎\" % np.max(nice_days))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"The Max temperature on nice days was %i F 😎\" % np.max(nice_days))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"print(\"The Min temperature on nice days was %i F 🌥\" % np.min(nice_days))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"The Min temperature on nice days was %i F 🌥\" % np.min(nice_days))\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You do not need to create these computation and assign them to a new variable, instead, you can pass them directly to the array in question the same way you would do your regular slicing. Let's look at an example together."}]},{"type":"element","tag":"pre","props":{"code":"year_temp[0:30] # regular slicing\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"year_temp[0:30] # regular slicing\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"year_temp[year_temp < 80] # masking directly\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"year_temp[year_temp < 80] # masking directly\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also combine multiple logical evaluations and pass them as masks to our arrays. For example, imagine we are only interested in the days where the temperature was less than 80 and greater than 50. If so, we could wrap our comparisons around paretheses (i.e. round brackets) and separate them with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"&"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" objects in between two or more masks."}]},{"type":"element","tag":"pre","props":{"code":"# get only the days where the temp was less than 80 and greater than 50\nyear_temp[(year_temp < 80) & (year_temp > 50)]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# get only the days where the temp was less than 80 and greater than 50\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"year_temp[(year_temp < 80) & (year_temp > 50)]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, we could create a matrix resembling the days and months for the 360 (data points) days we have in our array. We could then use one of the many numpy aggregation functions to understand what happened in any given months. (We are simulation the weather in a year 😎.)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, let's reshape this array into a matrix with 30 rows to represent the days in a month and 12 columns to represent the months in a year."}]},{"type":"element","tag":"pre","props":{"code":"matrix_year = year_temp.reshape(30, 12).copy()\nmatrix_year\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_year = year_temp.reshape(30, 12).copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"matrix_year\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The next step is to create our mask. We are interested in what we consider nice days. Which are days that are not too hot but also not too cold (e.g. not hotter than 100 degrees but also not colder than 70)."}]},{"type":"element","tag":"pre","props":{"code":"# create the mask\ngood_days = (matrix_year > 70) & (matrix_year < 100)\ngood_days\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# create the mask\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"good_days = (matrix_year > 70) & (matrix_year < 100)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"good_days\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, we will use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.sum(matrix, axis=0)"}]},{"type":"text","value":" function while making the axis parameter equal to 1 so that numpy knows that we want the operation to pass through the mask matrix column-wise and not row-wise. That way we can count how many days per month throughout the year were within our criteria."}]},{"type":"element","tag":"pre","props":{"code":"np.sum(good_days, axis=0)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.sum(good_days, axis=0)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are many other cool tricks you can do with with masking, and we will explore those as we progress throghout the course."}]},{"type":"element","tag":"h2","props":{"id":"exercise-11"},"children":[{"type":"text","value":"Exercise 11"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tag":"a","props":{"href":"https://finance.yahoo.com/","rel":["nofollow"]},"children":[{"type":"text","value":"yahoo finance"}]},{"type":"text","value":", pick a company you like and figure out the minimum and maximum prices it traded for in the last year."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create an array of 240 random floats with the minimum and maximum values determined in step 1."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reshape your array into a matrix with 12 columns."}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-12"},"children":[{"type":"text","value":"Exercise 12"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Get the average price of each month on the matrix from exercise 11."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a mask to determinte the numbers between the 25th and 75th percentiles of the original 1-dimensional array not the matrix."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Test your mask in your 1-dimensional array with stock prices."}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Congratulations you are more and more resembling a full-fledged data analyst."}]},{"type":"element","tag":"h2","props":{"id":"_5-summary"},"children":[{"type":"text","value":"5. Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You have learned a great deal today and should be proud of your accomplishments. Let's recap what we have seen thus far."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lists in Python can be treated as the arrays and matrices that will hold our data for us. They are extremely powerful and versatile data structures and can be used in almost every aspect of the data analytics cycle."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NumPy is a library built on top of the programming language C. This particular characteristic allows it to communicate with the hardware of our machines and run our computations faster than with regular Python code."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When possible, use broadcasting instead of loops in order to optimise your code and run-time."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Generating random data allows us to test models and functions very fast and numpy has a lot of useful methods to generate random data. It has functions such as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.ones"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.random.random"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.linspace"}]},{"type":"text","value":", and many more."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Masking is a type of filtering method that allows us to have a closer look at our data. It is, in a way, a similar way of constructing if-else evaluations."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"List comprehensions are a type of for loop that gives us the ability to generate a list from repeated commands."}]}]},{"type":"element","tag":"h2","props":{"id":"_6-references"},"children":[{"type":"text","value":"6. References"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sweigart, Al. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Automate the Boring Stuff with Python: Practical Programming for Total Beginners"}]},{"type":"text","value":". No Starch Press, 2020."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"VanderPlas, Jake. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"A Whirlwind Tour of Python"}]},{"type":"text","value":". O'Reilly, 2016."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"VanderPlas, Jake. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Python Data Science Handbook"}]},{"type":"text","value":". O'Reilly, 2017."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"_1-intro-to-numpy","depth":2,"text":"1. Intro to Numpy"},{"id":"_2-arrays-and-matrices","depth":2,"text":"2. Arrays and Matrices"},{"id":"exercise-2","depth":2,"text":"Exercise 2"},{"id":"exercise-3","depth":2,"text":"Exercise 3"},{"id":"exercise-4","depth":2,"text":"Exercise 4"},{"id":"exercise-5","depth":2,"text":"Exercise 5"},{"id":"exercise-6","depth":2,"text":"Exercise 6"},{"id":"_3-generating-data-with-numpy","depth":2,"text":"3. Generating Data With NumPy"},{"id":"exercise-7","depth":2,"text":"Exercise 7"},{"id":"exercise-8","depth":2,"text":"Exercise 8"},{"id":"_4-computations-with-numpy","depth":2,"text":"4. Computations with NumPy","children":[{"id":"_41-operations","depth":3,"text":"4.1 Operations"},{"id":"_42-descriptive-statistics-on-arrays","depth":3,"text":"4.2 Descriptive Statistics on Arrays"}]},{"id":"exercise-9","depth":2,"text":"Exercise 9"},{"id":"exercise-10","depth":2,"text":"Exercise 10","children":[{"id":"_43-combining-arrays","depth":3,"text":"4.3 Combining Arrays"}]},{"id":"_5-masking","depth":2,"text":"5. Masking"},{"id":"exercise-11","depth":2,"text":"Exercise 11"},{"id":"exercise-12","depth":2,"text":"Exercise 12"},{"id":"_5-summary","depth":2,"text":"5. Summary"},{"id":"_6-references","depth":2,"text":"6. References"}]}},"_type":"markdown","_id":"content:2.analytics:2.numerical_computing.md","_source":"content","_file":"2.analytics/2.numerical_computing.md","_extension":"md"},{"_path":"/analytics/structured_data","_dir":"analytics","_draft":false,"_partial":false,"_locale":"","title":"Intro to pandas","description":"Source: https://analyticsindiamag.com/","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"intro-to-pandas"},"children":[{"type":"text","value":"Intro to pandas"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"pandas","src":"https://miro.medium.com/max/791/1*e7lYKpF5FJYjNMVPlQgaKg.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source"}]},{"type":"text","value":": "},{"type":"element","tag":"a","props":{"href":"https://analyticsindiamag.com/","rel":["nofollow"]},"children":[{"type":"text","value":"https://analyticsindiamag.com/"}]}]},{"type":"element","tag":"h2","props":{"id":"outline-for-this-noteboook"},"children":[{"type":"text","value":"Outline for this Noteboook"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Arrays, Matrices, and NumPy Recap"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Learning Outcomes for the Module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Introduction to pandas"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Series"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DataFrames"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indexing - Accessing and Selecting Data with pandas"}]}]},{"type":"element","tag":"h1","props":{"id":"_1-arrays-matrices-and-numpy-recap"},"children":[{"type":"text","value":"1. Arrays, Matrices, and NumPy Recap"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the last lessons we covered,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lists methods and how in Python they can be treated as arrays and matrices that will hold our data for us in the same way as rows and columns do in Excel. Lists are extremely powerful and versatile data structures and they can be used in almost every aspect of the data analytics cycle."}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"In Python"}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"my_array = [10, 20, 30, 40, 50, 60, 70, 80, 90]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"my_array = [10, 20, 30, 40, 50, 60, 70, 80, 90]\n"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"In Spreadsheets"}]},{"type":"text","value":"\n|  | A |\n|:--------:|:--------:|\n| 1 | my_array |\n| 2 | 10 |\n| 3 | 20 |\n| 4 | 30 |\n| 5 | 40 |\n| 6 | 50 |\n| 7 | 60 |\n| 8 | 70 |\n| 9 | 80 |\n| 10 | 90 |"}]}]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NumPy is a library for fast computations on arrays and matrieces, and it is built on top of the C and Fortran programming languages."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Where possible, we can take advatage of broadcasting instead of using loops to apply an operation to every element in an array."}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"With Python Lists"}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"a_list = []\n\nfor num in lots_of_nums_list:\n    a_list.append(num + 5)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"a_list = []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"for num in lots_of_nums_list:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    a_list.append(num + 5)\n"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"With NumPy"}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"new_array = nums_numpy_array + 5\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_array = nums_numpy_array + 5\n"}]}]}]}]},{"type":"element","tag":"ol","props":{"start":4},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Generating random data allows us to test models and functions and numpy has a lot of functions to help us generate random data. Some of the functions are "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.ones"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.random.random"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.linspace"}]},{"type":"text","value":", and many more."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Masking is a type of filtering method that allows us to slice and dice the data given a condition or a set of them. It is, in a way, similar to constructing if-else statements with regular Python code."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import numpy as np\n\n# in the thousands\nhabitants_per_state = np.array([1000, 700, 1100, 500, 300, 450, 640])\n\nhigh_population_mask = (habitants_per_state > 600)\n\nhabitants_per_state[high_population_mask] # returns array([1000, 1100, 700, 640])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import numpy as np\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# in the thousands\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"habitants_per_state = np.array([1000, 700, 1100, 500, 300, 450, 640])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"high_population_mask = (habitants_per_state > 600)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"habitants_per_state[high_population_mask] # returns array([1000, 1100, 700, 640])\n"}]}]}]}]},{"type":"element","tag":"ol","props":{"start":6},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"List comprehensions are a type of for loop that gives us the ability to generate a list from repeated instructions. The main differences between loops and list comprehensions is that in the former, the action takes place after defining the for loop while in the latter, the action takes place at the beginning."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"## for loops\n\na_new_list = []\n\nfor a_element in some_list:\n    a_new_list.append(a_element + 2)\n    \n## lists comprehensions\na_new_list = [a_element + 2 for a_element in some_list]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"## for loops\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"a_new_list = []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"for a_element in some_list:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    a_new_list.append(a_element + 2)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"## lists comprehensions\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"a_new_list = [a_element + 2 for a_element in some_list]\n"}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_2-learning-outcomes"},"children":[{"type":"text","value":"2. Learning Outcomes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this module you will,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Learn how to create and load datasets to Python using the pandas library"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Learn how to manipulate different datasets"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Learn how to clean and prepare data for analysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Understand why data preparation is one of the most important steps in the data analytics cycle"}]}]},{"type":"element","tag":"h1","props":{"id":"_3-introduction-to-pandas"},"children":[{"type":"text","value":"3. Introduction to pandas"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"pandas","src":"https://i.redd.it/c6h7rok9c2v31.jpg"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source"}]},{"type":"text","value":": "},{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/","rel":["nofollow"]},"children":[{"type":"text","value":"https://pandas.pydata.org/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/","rel":["nofollow"]},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":" is a Python library originally developed with the goal of making data manipulation and analysis in Python easier. The library was created by Wes McKinney and collaborators, and it was first released as an open source library in 2010. It has been designed to work (very well) with tabular data. In essence, pandas gives you, in a way, the same capabilities you would get when working with data in tools such as Microsoft Excel or Google Spreadsheets, but with the added benefit of allowing you to use and manipulate more data."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The pandas library is also built on top of NumPy, this means that a lot of the functionalities that you learned in the previous module will transfer seamlessly to this lesson and this new tool we are about to explore. What you will find in pandas is, the ability to control your NumPy arrays as if you were viewing them in a spreadsheet."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some of pandas main characteristics are:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Straightforward and convinient way for loading and saving datasets from and into different formats"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Swiss army knife for data cleaning"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Provides the same broadcasting operations as NumPy, hence, were possible, avoid loops..."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Allows for different data types and structures inside its two main data structures, Series and DataFrames"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Provides functionalities for visualising your data"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"pandas, like NumPy, also has a industry standard alias that we will be using throughout the course. This library is usually imported as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import pandas as pd\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just like NumPy has the very efficient data structure called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ndarray"}]},{"type":"text","value":"'s, pandas, as NumPy's child, has its own data structures called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":"s, which are the equivalent of a NumPy matrix with many more functionalities, and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Series"}]},{"type":"text","value":" (the equivalent of a NumPy array). We will cover these two structures next."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Warning:"}]},{"type":"text","value":" It is possible that the control boost you will feel as you begin to learn how to use pandas to clean, manipulate, and analyse data, will prevent you from going back to using the tools you have been using in the past (e.g. Excel, Google Sheets, regular calculators, etc.). 😎"}]},{"type":"element","tag":"h2","props":{"id":"dataframes-and-series-in-pandas"},"children":[{"type":"text","value":"DataFrames and Series in pandas"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"pandas","src":"https://media.giphy.com/media/txsJLp7Z8zAic/giphy.gif"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we are able to import data into Python from outside sources, we'll walk over how to transform existing data (i.e., data we will come up with), into the two main data structures of pandas, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":"s and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Series"}]},{"type":"text","value":". We will do so through several different avenues, so let's first talk about what "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":"s and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Series"}]},{"type":"text","value":" are."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":" is a data structure particular to pandas that allows us to work with data in a tabular format. You can also think of a pandas DataFrames as a NumPy matrix but with (to some extent and depending on the user) more flexibility. Some characteristics of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":"s are:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"they have a two-dimesional matrix-like shape by default but can also handle more dimensions (e.g. with a multilevel index)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"their rows and columns are clearly defined with a visible index for the rows and names (or numbers) for the columns"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pivot tables, which are one of the main tools of spreadsheets, are also available in pandas"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"lots of functionalities for reshaping, cleaning, and munging the data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indexes can be strings, dates, numbers, etc."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"very powerful and flexible "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".groupby()"}]},{"type":"text","value":" operation"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A pandas "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Series"}]},{"type":"text","value":" is the equivalent of a column in a pandas "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":", a one-dimensional numpy array, or a column in Excel. In fact, since pandas derives most of its functionalities from NumPy, you can tranform a Series data structure (and also a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":") back into a NumPy array (or matrx) by adding the attribute "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".values"}]},{"type":"text","value":" to it. A Series has most of the functionalities you will see in a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":" and they can be concatenated to form a complete "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":" as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's first start by importing "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":" with its industry alias, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd"}]},{"type":"text","value":", and then check the version we have installed."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" At the time of writing, the latest version of pandas is 1.1.4."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import pandas as pd\nimport numpy as np\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import numpy as np\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pd.__version__\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.__version__\n"}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_4-series"},"children":[{"type":"text","value":"4. Series"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create some fake data first and turn it into a pandas "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Series"}]},{"type":"text","value":". We will do so in the following ways:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"with lists"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"with NumPy arrays"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"and with a dictionary containing lists and tuples"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Say we have data for a large order of pizzas we purchased a while back for a friends gathering. We ordered the pizzas from different stores and now we would like to have a look at the quantity we order using a pandas "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Series"}]},{"type":"text","value":" and assign it to a variable for later use. Let's see what the data looks like first in a list."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# This will be your fake pizza data representing amount of pizzas purchased\n[2, 1, 6, 5, 1, 4, 2, 6, 2, 1]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# This will be your fake pizza data representing amount of pizzas purchased\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"[2, 1, 6, 5, 1, 4, 2, 6, 2, 1]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a pandas Series we use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.Series(data= , name=)"}]},{"type":"text","value":" method, pass our data through the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"data="}]},{"type":"text","value":" parameter and give it a name using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"name="}]},{"type":"text","value":" parameter (the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" parameter is optional though)."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# This will be your first pandas Series\nfirst_series = pd.Series(data=[2, 1, 6, 5, 1, 4, 2, 6, 2, 1], name='pizzas')\nfirst_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# This will be your first pandas Series\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"first_series = pd.Series(data=[2, 1, 6, 5, 1, 4, 2, 6, 2, 1], name='pizzas')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"first_series\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that when we visualize a pandas Series we can immediately see the index next to the array."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also use NumPy arrays for the data we pass into our Series. As noted earlier, while using pandas we are essentially using NumPy data structures under the hood."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"second_series = pd.Series(data=np.arange(20, 30))\nsecond_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"second_series = pd.Series(data=np.arange(20, 30))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"second_series\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Another neat functionality of Series is that they are not bound to only having a numerical index, unlike lists and NumPy arrays. Let's look at an example where we add our own index to a pandas Series. Note that indexes can be strings and dates as well."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"third_series = pd.Series(data=np.arange(8), \n                          index=['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'], \n                          name='random_data')\nthird_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"third_series = pd.Series(data=np.arange(8), \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                          index=['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'], \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                          name='random_data')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"third_series\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"third_series['d']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"third_series['d']\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the previous module, we spent quite some time on NumPy because it is a great segway into pandas since a lot of the methods, and the slicing and dicing techniques you've already learned, will be applicable to pandas data structures as well. For example, broadcasting operations over an entire array, instead of using a loop, are perfectly doable operations with pandas Series."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# add 5 to every element in our second_series\nsecond_series + 5\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# add 5 to every element in our second_series\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"second_series + 5\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"first_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"first_series\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# raise every element to the power of 3\nfirst_series ** 3\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# raise every element to the power of 3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"first_series ** 3\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Keep in mind though that, just like with NumPy arrays, when we broadcast an operation on a pandas object, the change won't happen inplace so we would have to assign the changed object to a new variable, or back into the original one, to keep the changes in memory."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# the Series did not keep the changes\nprint(first_series)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# the Series did not keep the changes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(first_series)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# now the Series will keep the changes\nfirst_series = first_series ** 3\nprint(first_series)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# now the Series will keep the changes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"first_series = first_series ** 3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(first_series)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is worth mentioning again that if you would like to access the NumPy "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ndarray"}]},{"type":"text","value":" data structure underneath a pandas Series, you can do so by calling the attribute "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".values"}]},{"type":"text","value":" on the Series. For example:"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"first_series, first_series.values\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"first_series, first_series.values\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"type(first_series), type(first_series.values)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"type(first_series), type(first_series.values)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also use a dictionary to create our pandas Series. The only caveat is that since key-value pairs can contain a lot of data, we have to explicitely call out the data we want in the rows by using the name of the key on the dictionary. If we do not select the key for the data we want, it would assign the key to the index of the Series and the values to the corresponding elements of such keys. The result won't be any better than using the regular dictionary itself unless, of course, there is a need for this kind of structure."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's look at an example."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"first_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"first_series\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pizzas = {'pizzas': [2, 1, 6, 5, 1, 4, 2, 6, 2, 1]}\n# Not good, one index only\nfourth_series = pd.Series(data=pizzas)\nfourth_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pizzas = {'pizzas': [2, 1, 6, 5, 1, 4, 2, 6, 2, 1]}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Not good, one index only\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"fourth_series = pd.Series(data=pizzas)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"fourth_series\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that what we got back was a 1-element pandas Series where the key "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pizza"}]},{"type":"text","value":" is now the index and the amount of pizzas we purchased are, still as a list, represented as 1 element. To fix this, let's explicitly call out the values of our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pizza"}]},{"type":"text","value":" key."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# good example\nfourth_series = pd.Series(data=pizzas['pizzas'])\nfourth_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# good example\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"fourth_series = pd.Series(data=pizzas['pizzas'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"fourth_series\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In some instances we might want to use the default behavior. For example, when we have one key mapping to one single element in a dictionary."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"states_city = {\n    'NSW':'Sydney',\n    'VIC':'Melbourne',\n    'SA':'Adelaide',\n    'TAZ':'Hobart',\n    'WA':'Perth',\n    'QLD':'Brisbane',\n    'NT':'Darwin',\n    'ACT':'Canberra',\n}\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"states_city = {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'NSW':'Sydney',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'VIC':'Melbourne',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'SA':'Adelaide',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'TAZ':'Hobart',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'WA':'Perth',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'QLD':'Brisbane',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'NT':'Darwin',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'ACT':'Canberra',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# this is a nice example\nsc_series = pd.Series(states_city)\nsc_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this is a nice example\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sc_series = pd.Series(states_city)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sc_series\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tuples work in the same way as lists when we pass them into a pandas Series, but be careful with sets though. Since sets are moody and don't like order, pandas cannot represent their index well and thus, is unable to build Series or DataFrames from them."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# this works well\nsome_tuple = (40, 3, 2, 10, 31, 29, 74)\npd.Series(some_tuple, index=list('abcdefg'))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this works well\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_tuple = (40, 3, 2, 10, 31, 29, 74)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.Series(some_tuple, index=list('abcdefg'))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# this does not work\nsome_set = {40, 3, 2, 10, 31, 29, 74}\npd.Series(some_set, index=list('abcdefg'))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this does not work\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_set = {40, 3, 2, 10, 31, 29, 74}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.Series(some_set, index=list('abcdefg'))\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-1"},"children":[{"type":"text","value":"Exercise 1"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a pandas Series of 100 elements using a linearly spaced array from 50 to 75. Call it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"my_first_series"}]},{"type":"text","value":" and print the results."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Multiply the array by 20 and assign it to a new variable called, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"my_first_broadcast"}]},{"type":"text","value":". Print the results."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-2"},"children":[{"type":"text","value":"Exercise 2"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a pandas Series from an array of integers from 100 to 500 in steps of 50, and with a index made up of letters. Call it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"first_cool_index"}]},{"type":"text","value":" and print it."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do a floor division by 11 on the entire array, assign the result a variable called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"low_div"}]},{"type":"text","value":" and print the result."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-3"},"children":[{"type":"text","value":"Exercise 3"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a pandas Series of 7 elements from a dictionary where the keys are a sport and the value is a famous player in that sport. Call the Series "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sports_players"}]},{"type":"text","value":" and print it."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_5-dataframes"},"children":[{"type":"text","value":"5. DataFrame's"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"dataframe","src":"../images/dataframes.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can think of a pandas DataFrame as a collection of Series with the difference being that all of the values in those Series will share the same index once they are in the DataFrame."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Another distinction between the two is that you can have a DataFrame of only one column, but you cannot have a Series of more than one (or at least you shouldn't since that is what the DataFrame is for)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's now create some fake data and reshape it into a pandas "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DataFrame"}]},{"type":"text","value":" object. We will do so in the following ways:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"a dictionary object with lists and tuples"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"lists and/or tuples"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NumPy arrays"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"multiple pandas Series"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One of the fastest and more common ways to construct a DataFrame is by passing in a Python dictionary to the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"data="}]},{"type":"text","value":" parameter in the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.DataFrame()"}]},{"type":"text","value":" method. Doing this with dictionaries can save us time with having to name each one of the columns in our DataFrame."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# Create a dictionary of fake pizza data\ndata_le_pizza = {\n    'pizzas': [2, 1, 6, 5, 1, 4, 2, 6, 2, 1], # some fake pizzas purchased\n    'price_pizza': (20, 16, 18, 21, 22, 27, 30, 21, 22, 17), # some fake prices per pizza \n    'pizzeria_location': ['Sydney', 'Sydney', 'Seville', 'Perth', 'Perth', 'Melbourne',\n                          'Sydney', 'Seville', 'Melbourne', 'Perth']\n}\n\ndata_le_pizza\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Create a dictionary of fake pizza data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_le_pizza = {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'pizzas': [2, 1, 6, 5, 1, 4, 2, 6, 2, 1], # some fake pizzas purchased\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'price_pizza': (20, 16, 18, 21, 22, 27, 30, 21, 22, 17), # some fake prices per pizza \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'pizzeria_location': ['Sydney', 'Sydney', 'Seville', 'Perth', 'Perth', 'Melbourne',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                          'Sydney', 'Seville', 'Melbourne', 'Perth']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_le_pizza\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# Check the data in the dictionary\ndata_le_pizza['pizzas']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Check the data in the dictionary\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_le_pizza['pizzas']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# remember the get method\ndata_le_pizza.get('price_pizza', 'not here')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# remember the get method\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_le_pizza.get('price_pizza', 'not here')\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we ordered international pizza, literally : )\ndata_le_pizza['pizzeria_location']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we ordered international pizza, literally : )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_le_pizza['pizzeria_location']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we can pass in the dictionary as it is\ndf_la_pizza = pd.DataFrame(data=data_le_pizza)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we can pass in the dictionary as it is\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza = pd.DataFrame(data=data_le_pizza)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_la_pizza.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice how our new object, the pandas DataFrame, resembles the way we would see data in a spreadsheet. In addition, the keys of our dictionary map perfectly to the dataframe column names and the values to, well, their respective columns."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can access the data inside your new DataFrame by calling the names of your columns as attributes (like a method without the round brackets or parentheses) or as a key in a dictionary. Note though that you can only access the columns of a dataframe as if it were an attribute if the name of the column has no spaces in it, otherwise, it can only be accessed as a key inside a dictionary."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# access the pizzas column as an attribute\ndf_la_pizza.pizzas\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# access the pizzas column as an attribute\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza.pizzas\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# access the pizzas variable as the key in a dictionary\ndf_la_pizza['pizzas']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# access the pizzas variable as the key in a dictionary\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza['pizzas']\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can broadcast operations to an entire column the same way you did with the Series in this lesson and the NumPy "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ndarray"}]},{"type":"text","value":"s in the previous module."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_la_pizza['pizzas'] + 2\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza['pizzas'] + 2\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also add the values to an entire DataFrame or subsection of it, although this might not be possible or desirable if all of the columns contain different data types, but it is still good to know that you can. For example, the following code will give you an error because there is a column with string data types in it, but the subsequent one, the group of numerical columns, won't."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_la_pizza + 2\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza + 2\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_la_pizza[['pizzas', 'price_pizza']] + 2\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza[['pizzas', 'price_pizza']] + 2\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DataFrames have several useful attributes such as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".index"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".columns"}]},{"type":"text","value":" that allows us to retrieve these pieces of information from the dataframe."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# shows us the start, stop, and step of our DataFrame's index, a.k.a. the range of the index\ndf_la_pizza.index\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# shows us the start, stop, and step of our DataFrame's index, a.k.a. the range of the index\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza.index\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# shows the names of the columns we have in our DataFrame\ndf_la_pizza.columns\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# shows the names of the columns we have in our DataFrame\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza.columns\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also add new columns by passing in the name of the new column as a key just like in a dictionary, and the corresponding values as an operation after the equal sign. The kind of assignment identical to that used when creating new variables."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_la_pizza['new_pizzas'] = df_la_pizza['pizzas'] * 3.5\ndf_la_pizza\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza['new_pizzas'] = df_la_pizza['pizzas'] * 3.5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"pandas also gives us the option of naming the set of columns we have as well as the index column of our DataFrame. We can do this by calling the sub-attribute "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".name"}]},{"type":"text","value":" on the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".columns"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".index"}]},{"type":"text","value":" attributes of our DataFrame. Let's name our columns array, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pizza_attr"}]},{"type":"text","value":", for pizza attributes, and let's name our index array, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"numbers"}]},{"type":"text","value":", to see this functionality of pandas in action."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_la_pizza.columns.name = 'pizza_attr'\ndf_la_pizza.index.name = 'numbers'\ndf_la_pizza\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza.columns.name = 'pizza_attr'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza.index.name = 'numbers'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice how the new element assignment happened in place and now our DataFrame displays even more information than before. In addition to giving the set of columns a name, we can also rename a particular columns or columns ourselves if we wanted to with the method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".rename()"}]},{"type":"text","value":". Which takes in a dictionary with the old column name as the key and new one a the value."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_la_pizza.rename(mapper={'new_pizzas': 'New Pizzas'}, axis=1, inplace=True)\ndf_la_pizza\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza.rename(mapper={'new_pizzas': 'New Pizzas'}, axis=1, inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's unpack what just happened."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mapper="}]},{"type":"text","value":" argument takes in a dictionary with the old column name as the key and new column name as the value"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"axis="}]},{"type":"text","value":" argument set to one indicates that we want the change to happen in the columns. The other option, which is the default as well, applies to the rows"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"inplace=True"}]},{"type":"text","value":" argument tells Python to keep the changes in the dataframe so that we don't have to reasign the dataframe back to its original variable"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If we wanted to get rid of a column we don't need or want anymore, we can use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"del"}]},{"type":"text","value":" call of Python, just like we saw in the chapter of lists, arrays, and matrices in lesson 2."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For illustration purposes, let's delete the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"New Pizzas"}]},{"type":"text","value":" column we just renamed."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"del df_la_pizza['New Pizzas']\ndf_la_pizza # notice that the column is now gone\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"del df_la_pizza['New Pizzas']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_la_pizza # notice that the column is now gone\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let us look at how to convert a list of lists and tuples into a pandas DataFrame. We will first create a list called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"la_pizzas"}]},{"type":"text","value":" with lists and tuples, and then pass this matrix into our DataFrame constructor."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"la_pizzas = [[2, 20, 'Sydney'],\n            [1, 16, 'Sydney'],\n            (6, 18, 'Seville'),\n            [5, 21, 'Perth'],\n            [1, 22, 'Perth'],\n            (4, 27, 'Melbourne'),\n            [2, 30, 'Sydney'],\n            (6, 21, 'Seville'),\n            [2, 22, 'Melbourne'],\n            [1, 17, 'Perth']]\nla_pizzas\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"la_pizzas = [[2, 20, 'Sydney'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            [1, 16, 'Sydney'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            (6, 18, 'Seville'),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            [5, 21, 'Perth'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            [1, 22, 'Perth'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            (4, 27, 'Melbourne'),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            [2, 30, 'Sydney'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            (6, 21, 'Seville'),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            [2, 22, 'Melbourne'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            [1, 17, 'Perth']]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"la_pizzas\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_one = pd.DataFrame(data=la_pizzas, \n                      columns=['pizzas', 'price_pizza', 'pizzeria_location'])\ndf_one\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_one = pd.DataFrame(data=la_pizzas, \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                      columns=['pizzas', 'price_pizza', 'pizzeria_location'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_one\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, because we didn't have any column names this time, we had to use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"columns="}]},{"type":"text","value":" argument with a list of the strings for the names we will like our columns to have. Otherwise, pandas would have numbered the column names and you could only imagine how difficult it might be to figure out the content of a column without a name on a lengthy dataset."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also add completely new lists to our existing DataFrame, and pandas will match the index of each element in our new list with the index of each element in our DataFrame. Let's see this in action."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"new_pizza_code = list(range(20, 40, 2))\nnew_pizza_code\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_pizza_code = list(range(20, 40, 2))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"new_pizza_code\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_one['new_pizza_code'] = new_pizza_code\ndf_one\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_one['new_pizza_code'] = new_pizza_code\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_one\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the length of a list does not match that of our DataFrame, pandas will throw an error at us for the mismatched lenght."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"another_list = list(range(40, 55, 2))\ndf_one['another_list'] = another_list\ndf_one\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"another_list = list(range(40, 55, 2))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_one['another_list'] = another_list\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_one\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now let's see how to use numpy arrays and matrices to create a DataFrame. Let's begin with a matrix."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# We first create our la_pizza numpy matrix\n\nla_pizza_np = np.array([[2, 20, 'Sydney'],\n                        [1, 16, 'Sydney'],\n                        [6, 18, 'Seville'],\n                        [5, 21, 'Perth'],\n                        [1, 22, 'Perth'],\n                        [4, 27, 'Melbourne'],\n                        [2, 30, 'Sydney'],\n                        [6, 21, 'Seville'],\n                        [2, 22, 'Melbourne'],\n                        [1, 17, 'Perth']])\n\nla_pizza_np\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We first create our la_pizza numpy matrix\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"la_pizza_np = np.array([[2, 20, 'Sydney'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [1, 16, 'Sydney'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [6, 18, 'Seville'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [5, 21, 'Perth'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [1, 22, 'Perth'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [4, 27, 'Melbourne'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [2, 30, 'Sydney'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [6, 21, 'Seville'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [2, 22, 'Melbourne'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                        [1, 17, 'Perth']])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"la_pizza_np\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# then we pass the matrix into the pd.DataFrame method and provide a list of names for the columns\n\ndf_np_pizza = pd.DataFrame(la_pizza_np, columns=['pizzas', 'price_pizza', 'pizzeria_location'])\ndf_np_pizza\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# then we pass the matrix into the pd.DataFrame method and provide a list of names for the columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_np_pizza = pd.DataFrame(la_pizza_np, columns=['pizzas', 'price_pizza', 'pizzeria_location'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_np_pizza\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Another cool inherited trait from NumPy is that we can use the descriptive attributes we learned about in the previous lesson, which are "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".dtypes"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".shape"}]},{"type":"text","value":", and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".ndim"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# notice the shape of our new dataframe\n\ndf_np_pizza.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# notice the shape of our new dataframe\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_np_pizza.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# check the types\ndf_np_pizza.dtypes\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# check the types\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_np_pizza.dtypes\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_np_pizza = df_np_pizza.astype({'pizzas':int, 'price_pizza':float})\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_np_pizza = df_np_pizza.astype({'pizzas':int, 'price_pizza':float})\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_np_pizza.dtypes\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_np_pizza.dtypes\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# check the dimension\ndf_np_pizza.ndim\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# check the dimension\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_np_pizza.ndim\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is important to note that creating a matrix where the row arrays represent three different columns is not the same as creating three arrays that represent three rows and and 10 columns. Our intuition might betray us in this instance."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's look at an example with fake weather data where we pass in three arrays to a NumPy array that should represent the same DataFrame as the one above, but with different data now, of course."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"weather_np = np.random.randint(10, 45, 10)\nweather_np\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"weather_np = np.random.randint(10, 45, 10)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"weather_np\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"cities = ['Sydney', 'Sydney', 'Seville', 'Perth', 'Perth', \n          'Melbourne', 'Sydney', 'Seville', 'Melbourne', 'Perth']\ncities\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cities = ['Sydney', 'Sydney', 'Seville', 'Perth', 'Perth', \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"          'Melbourne', 'Sydney', 'Seville', 'Melbourne', 'Perth']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cities\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"days = np.random.randint(10, 30, 10)\ndays\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"days = np.random.randint(10, 30, 10)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"days\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"data_weather = np.array([weather_np,\n                         cities,\n                         days])\ndata_weather\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_weather = np.array([weather_np,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         cities,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         days])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_weather\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice the shape of our new matrix. What do you think will happen when we pass it through our DataFrame constructor?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pd.DataFrame(data=data_weather, columns=['weather', 'cities', 'days'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.DataFrame(data=data_weather, columns=['weather', 'cities', 'days'])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The tricky part of using NumPy arrays lies in that the arrays are interpreted as horizontal arrows, meaning, we would have 10 columns and 3 rows if we were to use our array with its current shape. You probably already noticed this by running the code above."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The solution is to transpose our matrix and shift the columns to the rows and the rows to the columns. NumPy provides a very nice way for doing this. By adding the method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".T"}]},{"type":"text","value":" attribute at the end of any array or matrix you can transpose it into a different shape (e.g. reshape it)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's see what this looks like and then use it to create our new DataFrame."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# same list as before with the pizzas😎\n\ndata_weather.T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# same list as before with the pizzas😎\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_weather.T\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pd.DataFrame(data=data_weather.T, columns=['weather', 'cities', 'days'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.DataFrame(data=data_weather.T, columns=['weather', 'cities', 'days'])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, imagine we had several pandas Series representing different values but with similar indexes. If we wanted to combine all of these into a single DataFrame to use these Series in combination, we could do so with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.concat([Series1, Series2, Series3])"}]},{"type":"text","value":", or with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.DataFrame(data=dictionary)"}]},{"type":"text","value":" where the keys of the dictionary would represent the variables (and the names the columns will take) in the DataFrame, and the values would be the pandas Series (e.g. the elements of the columns) you will be using in your DataFrame."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One important thing to keep in mind is that, just like with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.concatenate"}]},{"type":"text","value":" function we saw on the last lesson, you will need to pick an axis when using this method."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" pandas will try to match the indexes of your multiple Series when combining their elements, but, if the indexes do not match, it will add an "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.nan"}]},{"type":"text","value":" (Not a Number) at that place to show that a particular element does not exist."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's start with two series\nseries_one = pd.Series(np.random.randint(0, 20, 20), name='random_nums')\nseries_two = pd.Series(list(range(20, 60, 2)), name=\"two_steps\")\nprint(series_one, '\\n', series_two)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's start with two series\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"series_one = pd.Series(np.random.randint(0, 20, 20), name='random_nums')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"series_two = pd.Series(list(range(20, 60, 2)), name=\"two_steps\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(series_one, '\\n', series_two)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_of_series = pd.concat([series_one, series_two], axis=1)\ndf_of_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_of_series = pd.concat([series_one, series_two], axis=1)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_of_series\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As noted above, the concatenation happens at the index level and both columns have been merged into a single dataframe. Let's now see what happens with different indexes that are not numerical."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's start with two series\nseries_three = pd.Series(np.linspace(0, 3, 10), index=list('abcdefghij'), name='random_nums')\nseries_four = pd.Series(list(range(50, 70, 2)), index=list('abcdefghij'), name=\"two_steps\")\nprint(series_three, '\\n', series_four)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's start with two series\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"series_three = pd.Series(np.linspace(0, 3, 10), index=list('abcdefghij'), name='random_nums')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"series_four = pd.Series(list(range(50, 70, 2)), index=list('abcdefghij'), name=\"two_steps\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(series_three, '\\n', series_four)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_of_series = pd.concat([series_three, series_four], axis=1)\ndf_of_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_of_series = pd.concat([series_three, series_four], axis=1)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_of_series\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We are still able to concatenate at the index level on matching letters, which is what we'd like. So let's now examine what would happend if we don't have the same amount of elements in both Series' we are trying to concatenate."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's start with two series\nseries_five = pd.Series(np.linspace(0, 3, 8), index=list('abcdehij'), name='random_nums')\nseries_six = pd.Series(list(range(50, 70, 2)), index=list('abcdefghij'), name=\"two_steps\")\nprint(series_five, '\\n', series_six)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's start with two series\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"series_five = pd.Series(np.linspace(0, 3, 8), index=list('abcdehij'), name='random_nums')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"series_six = pd.Series(list(range(50, 70, 2)), index=list('abcdefghij'), name=\"two_steps\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(series_five, '\\n', series_six)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_of_series = pd.concat([series_five, series_six], axis=1)\ndf_of_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_of_series = pd.concat([series_five, series_six], axis=1)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_of_series\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We get what is called an NaN value, which stands for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Not a Number"}]},{"type":"text","value":". It is a special value assigned to missing values which we will learn how to deal with very soon in the cleaning notebook."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's now examine how to create a pandas dataframe from a dictionary of Series."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# same approach as above but with dictionaries of Series's\n\ndict_of_series = {\n    'random_nums': pd.Series(np.random.randint(0, 20, 20), name='random_nums'),\n    'two_steps': pd.Series(list(range(20, 60, 2)), name=\"two_steps\")\n}\ndict_of_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# same approach as above but with dictionaries of Series's\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dict_of_series = {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'random_nums': pd.Series(np.random.randint(0, 20, 20), name='random_nums'),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'two_steps': pd.Series(list(range(20, 60, 2)), name=\"two_steps\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dict_of_series\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"dict_of_series['random_nums']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dict_of_series['random_nums']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we can use a regular dataframe call for this one\ndf_dict_series = pd.DataFrame(dict_of_series)\ndf_dict_series\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we can use a regular dataframe call for this one\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_dict_series = pd.DataFrame(dict_of_series)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_dict_series\n"}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"exercise-4"},"children":[{"type":"text","value":"Exercise 4"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create two pandas Series with ones and zeros, respectively"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"add 5 to the one with zeros and assign it to a new variable,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"add 8 to the one with ones and it to a new variable"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"add the two previous Series together, and assign the result to a variable."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create two pandas Series with 5 random numbers each, and 3 countries as the index of each. Only two countries should match in the Series's indeces."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"exercise-5"},"children":[{"type":"text","value":"Exercise 5"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a DataFrame using pandas lists of lists."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a DataFrame using a NumPy matrix with different data types in each column."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Perform a computation with two columns and add the result as a new column in the DataFrame. (e.g. add or subtract two columns to create a third one.)"}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"exercise-6"},"children":[{"type":"text","value":"Exercise 6"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Crate 3 Series with 15 linearly spaced numbers in each, and a index based on letters for each."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Concatenate the 3 Series you just create into a DataFrame."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sum an entire column and assign the result to a variable call `one_num'."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Get the average of an entire column and assign the result to a variable call `one_mean'."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_23-accessing-and-selecting-data"},"children":[{"type":"text","value":"2.3 Accessing and Selecting Data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To access and select data in a pandas DataFrame we can use the same tools we learned in lesson 2, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"array[start:stop:step, start:stop:step]"}]},{"type":"text","value":" for rows and columns, fancy indexing, and masking for n-dimensional arrays. pandas also provides us with two additional tools for accessing data inside a DataFrame "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.loc[]"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.iloc[]"}]},{"type":"text","value":"."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.loc[]"}]},{"type":"text","value":" helps us select data in the same manner as with NumPy arrays except that we need to select the columns by their names and not by their numbers."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.iloc[]"}]},{"type":"text","value":" allows to select rows and columns by numbers. For example, if I have the columns "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[weather, cities, days]"}]},{"type":"text","value":", I could select weather with index 0, cities with index 1, and days with index 2, that same way we would do it with NumPy. One caveat of this method is that regardless of were the index start (e.g. 10 to 20), or how it is represented (e.g. a, b, c, d), it will start counting from 0."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's look at the regular way first."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# our previous weather dataframe\ndf_weather = pd.DataFrame(data=data_weather.T, columns=['weather', 'cities', 'days'])\ndf_weather\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# our previous weather dataframe\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather = pd.DataFrame(data=data_weather.T, columns=['weather', 'cities', 'days'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# regular indexing\ndf_weather[3:5]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# regular indexing\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather[3:5]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# masking\ndf_weather[df_weather['cities'] == 'Perth']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# masking\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather[df_weather['cities'] == 'Perth']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# more masking or fancy indexing\ndf_weather.loc[df_weather['cities'] == 'Sydney']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# more masking or fancy indexing\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.loc[df_weather['cities'] == 'Sydney']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_weather.loc[df_weather['cities'] == 'Sydney', 'days']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.loc[df_weather['cities'] == 'Sydney', 'days']\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is a great, quick and dirty approach, but if we wanted to get more granular with how we select our data, we would have to resort to the additional functionality of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".iloc[]"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".loc[]"}]},{"type":"text","value":". Namely, selecting what we want and how with want it with the rows and columns of our dataset."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is important to note that "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".loc[]"}]},{"type":"text","value":" includes the end point of a slice but "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".iloc[]"}]},{"type":"text","value":" does not. Meaning, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.loc[:10]"}]},{"type":"text","value":" would actually select the element at index 10 as well. The same would apply with the columns."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's look at pandas methods for slicing and dicing."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# select the first 7 rows of the days column\n\ndf_weather.loc[0:7, 'days']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# select the first 7 rows of the days column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.loc[0:7, 'days']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# select the first 5 rows of the days and weather columns\n\ndf_weather.loc[0:5, ['weather', 'days']]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# select the first 5 rows of the days and weather columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.loc[0:5, ['weather', 'days']]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# same as before but with iloc now and integers\n\ndf_weather.iloc[0:7, 2]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# same as before but with iloc now and integers\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.iloc[0:7, 2]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_weather.iloc[0:5, [0, 2]]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.iloc[0:5, [0, 2]]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_weather.iloc[0:-2, 1:]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.iloc[0:-2, 1:]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# multiple steps iloc\ndf_weather.iloc[::2, 1:]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# multiple steps iloc\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.iloc[::2, 1:]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# multiple steps loc\ndf_weather.loc[[3, 5, 7], ::2]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# multiple steps loc\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_weather.loc[[3, 5, 7], ::2]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Both of these methods, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".iloc[]"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".loc[]"}]},{"type":"text","value":" will become extremely useful as we move along the course and our data analytics journey. A good tip for remembering the differences between the two is to always think of integers when you see the i in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".iloc[]"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h1","props":{"id":"exercise-7"},"children":[{"type":"text","value":"Exercise 7"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Crate a numpy array with 100 random integers. Assign it to the variable "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"one_hundred_nums"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reshape "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"one_hundred_nums"}]},{"type":"text","value":" into a 10 by 10 matrix. Assing it the variable name "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"matrix"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"With "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"matrix"}]},{"type":"text","value":" create a pandas DataFrame and call it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df"}]},{"type":"text","value":". Make the columns different upper-case letters."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".iloc[]"}]},{"type":"text","value":" select the first 5 rows and the last 5 columns. Assign it to the var my "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"islice"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".loc[]"}]},{"type":"text","value":" select the every other row starting from the third one, and every other column starting from the second one. Assign it to the var my "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dos_slice"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"awesome-work-head-to-notebook-06"},"children":[{"type":"text","value":"Awesome Work - Head to Notebook 06"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"great work","src":"https://media.giphy.com/media/xTQXENNW77nUsNVmV4/giphy.gif"},"children":[]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"outline-for-this-noteboook","depth":2,"text":"Outline for this Noteboook"},{"id":"dataframes-and-series-in-pandas","depth":2,"text":"DataFrames and Series in pandas"},{"id":"exercise-1","depth":2,"text":"Exercise 1"},{"id":"exercise-2","depth":2,"text":"Exercise 2"},{"id":"exercise-3","depth":2,"text":"Exercise 3"}]}},"_type":"markdown","_id":"content:2.analytics:3.structured_data.md","_source":"content","_file":"2.analytics/3.structured_data.md","_extension":"md"},{"_path":"/analytics/stats_intro","_dir":"analytics","_draft":false,"_partial":false,"_locale":"","title":"Intro to Statistics","description":"Source: Information is Beautiful 2018 Awards - Data Visualisation Created by Dimiter Toshkov","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"intro-to-statistics"},"children":[{"type":"text","value":"Intro to Statistics"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"stats","src":"https://infobeautiful4.s3.amazonaws.com/2019/02/static_winner.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" Information is Beautiful 2018 Awards - Data Visualisation Created by "},{"type":"element","tag":"a","props":{"href":"http://dimiter.eu/","rel":["nofollow"]},"children":[{"type":"text","value":"Dimiter Toshkov"}]}]},{"type":"element","tag":"h2","props":{"id":"notebook-outline"},"children":[{"type":"text","value":"Notebook Outline"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Recap of Module 4"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Learning Outcomes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Introduction to Statistics"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Data Collection"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Descriptive Statistics"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Inferential Statistics"}]}]},{"type":"element","tag":"h2","props":{"id":"_2-learning-outcomes"},"children":[{"type":"text","value":"2. Learning Outcomes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By the end of this module you will have"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"a better understanding of what is Statistics and what questions it might help you answer"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"learned about data collection and its importance"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"learned what are descriptive statistics"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"a better understanding on how to describe data effectively to convey facts"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"learned how to explore your data more effectively by grouping different sets of information in categories within your data"}]}]},{"type":"element","tag":"h1","props":{"id":"_3-introduction-to-statistics"},"children":[{"type":"text","value":"3. Introduction to Statistics"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Statistics is one of the most widely used areas of mathematics. It helps us mere mortals collect, describe, and make inferences about natural and unnatural phenomena using data. It allows us to approximate answers to questions that were thought to be impossible to answer. In addition, a large number of scientific advancements have used this area of mathematics to quantify, test, validate, and improve our answers to problems with a wide range of complexities. For example, Albert Einstein and his groundbreaking theories of Special and General Relativity used statistics to approximate the movement of the sun in relation to that of other bodies of masses. To provide you with a more formal definition of statistics, the UCI Department of statistics has defined it as:"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"...the science concerned with developing and studying methods for collecting, analyzing, interpreting and presenting empirical data.\""}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Empirical here means based on observations and verifiable evidence as opposed to logic and deduction. In essence though, statistics as a field is broadly divided into three categories, data collection, description (analysis), and inference."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we know what \""},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Statistics"}]},{"type":"text","value":"\" is, let's define what \""},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"A Statistic"}]},{"type":"text","value":"\" means. A "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Statistic"}]},{"type":"text","value":" is a piece of evidence or a fact obtained via a calculation performed on a sample of data. When you hear comments on the radio or read news statements that begin with, \"the average rugby player...\", \"the average Australian nowadays...\", etc., you are essentially being given \""},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"A Statistic"}]},{"type":"text","value":"\". A fact compiled from data coming from (most likely) a smaple or a population."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What is a Sample?"}]},{"type":"text","value":" A sample is a fraction of the population. For example, the students in this course are a sample of the overall number of students in Australia. In this case, the number of students in Australia would be considered the total population of students, and the students of this course the sample."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What is a Population?"}]},{"type":"text","value":" The population is all of the data available for a particular questions, problem, or phenomenon. It is a set of data with some similarity, and it represents the whole from where a sample is drawn from. Think about a cake sliced into pieces, the full cake is the population and a slice of it is the sample. Our friend Mickey can show us a good representation of this example."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"cake","src":"https://media.giphy.com/media/9u8GF7MuhdvS8/giphy.gif"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Going back to the example above, all students in Australia would be the population and one of the defining characteristics of this population is that they would all have to be active students. If we needed, for example, the address of every one of these students but were unable to get, say, 10 of them, we would call the set of students belonging to that characteristic, the address, a sample as it is a fraction of the full set. Another way to put it would be "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Population - 10 = Sample"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"so-what-can-we-do-with-statistics"},"children":[{"type":"text","value":"So, what can we do with Statistics?"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We can learn from information."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Draw informed conclusions based on evidence."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Simulate the reality in a completely made up world."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Mine massive amounts of data and extract relationships from them."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Spot liars and deal with outliers."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Separate correlations from causation."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As one of the most famous statisticians put it,"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“The best thing about being a statistician is that you get to play in everyone else’s backyard.” ~ John Tukey"}]}]},{"type":"element","tag":"h2","props":{"id":"what-should-we-not-do-with-statistics"},"children":[{"type":"text","value":"What should we not do with Statistics?"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lie/deceive others."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"lie_stats","src":"https://herdingcats.typepad.com/.a/6a00d8341ca4d953ef01a511d248cc970c-pi"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" \""},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"How to Lie with Statistics"}]},{"type":"text","value":"\" by Darrell Huff, 1954"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Assume that because two things seem to be related to each other, one causes the other. A famous example of this was given by Franz H. Messerli, MD in 2012. He found a surprisingly large positive correlation between the chocolate consumption of a country and the amount of Nobel Laureates that same country has produced. See below."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"chocolate","src":"https://i.insider.com/5353e29b6da8115322dd4816?width=1200"},"children":[]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Overgeneralise results. Just because an analysis of a group of consumers found that 60% of them buy goods before a holiday does not mean that 60% of all humans do."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Avoid falling pray of confusing annecdotal evidence vs real evidence. For example, XYZ thing happened to both of my friends, hence, this happens to everyone or all the time."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now let's talk about data collection."}]},{"type":"element","tag":"h1","props":{"id":"_2-data-collection"},"children":[{"type":"text","value":"2. Data Collection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is very important to have a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"question"}]},{"type":"text","value":", project or idea you wish to explore before moving onto the data collection part. The idea behind this is that once you have some context on what you would like to study, you might be able to search for that information more efficiently. For example, (1) if you need to study the profitability of a movie theatre in a given year, you would need data about sales and airing times for the movies shown within your specific timeframe. (2) If you would like to evaluate peoples' sentiment towards a political candidate on social media, you would need social media data and might benefit from looking in Twitter first. (3) If you want to test the effects of a newly developed drug are real, you might want to do a randomised control trial and give one group the real drug and a placebo to the other, that way, any difference detected regarding the outcome, could be attributed to the drug."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Whether you have a question or set of questions to answer, how you collect the data matters and that is why it is one of the most important pieces of the statistics puzzle. Especially because after all, without data to analyse we would be left with theoretical work only. Theory is extremely important, of course, but you need people and data to prove/use them as well. There is also an important difference to keep in mind, data gets collected for many, many purposes and collecting data from transactions at a supermarket is not the same as collected information from a group of interest (e.g. survey, focus groups, experiments, etc.)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Collecting data can also be done by clicking a button and downloading a table full of content that can be opened in excel (structured data), or it can be as difficult as conducting an experiment with human subjects, or (although not the same) crawling over many websites to get (unstructured) data and then formatting it into a more usable structure. Here are two examples of how we might encounter data in the wild:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Structured"}]}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Income"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Age"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Favourite Brand"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Abraham"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"70,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"25"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Nike"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Lisa"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"110,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"31"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Apple"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Bella"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"80,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"24"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Garmin"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Penelope"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"55,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"49"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Microsoft"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Mikaela"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"74,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"51"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"ZARA"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Nicholas"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"61,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"36"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Adiddas"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Unstructured"}]}]},{"type":"element","tag":"img","props":{"src":"https://www.lubys.com/img/recipes/L929_RecipeCards_7x5_cfs_front.jpg","alt":"recipe","width":600},"children":[]},{"type":"text","value":" \n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://www.lubys.com/recipes","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.lubys.com/recipes"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that in the example above, the structured data resembles what we are used to seeing when we use or think of data. On the other hand, we might not be used to thinking that recipes from a restaurant, emails, poems, social media posts, all qualify as data as well but in a different format. The most notable differences being the immediate usability of the two and the unclear picture as to how to set it into a structured format."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As analysts, we can collect data through surveys, purchasing history (these are often stored automatically into a database like SQL or NoSQL), by tracking visits to a website, and many more. The information we get in a dataset, the data in its variables (or in excel lingo, the columns), is often represented in three ways: as categorical and quantitative information and as date-related data (e.g. years, months, time, etc.)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Categorical data represent groups or specific characteristics of the data. For example, a column called gender that contains whether a survey participant was a male, female, or other, will count as a categorical variable. This type of classification, gender, counts as a specific type of categorical data called nominal."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nominal data is the type of data that can be classified into groups but with no particular order to it. In the example of gender, we cannot say that female is greater than male or vice-versa. This takes us to our next type of categorical data, ordinal."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ordinal data are the type of data where order matters. Imagine you have a dataset with formula one drivers in the rows and all of the characteristics regarding their professional careers in the columns. If we were to have a variable for every race in which the drivers competed, plus their placement within each race, keeping the order in which they crossed the finish line would be crucial in order for our dataset to be meaningful. Especially since first has a higher value than second, and, of course, last. Another example of ordinal data is the temperature of a meal ordered at a restaurant. If we order a stake cooked medium-well, we would expect to get the stake at a temperature within that range. In this scenario, the order of the categories would go from hot to cold, and that matters in an analysis."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Quantitative data, on the other hand, represents numerical data that can be quantified, summarized, averaged, and visualized, usually in as many or more ways than categorical data. Especially because we can bin quantitative data into groups of categories but the reverse is not true. Quantitative data can be income, revenue, stock prices, miles, weight, height, and many more."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is important to notice that categorical data, whether nominal or ordinal, can still be collected in a numerical format without it being considered quantitative. Say we collect data for the level of spiciness of different meals at a restaurant and assign these values the numbers 3 (hot), 2 (medium), and 1 (not spicy), they would still be considered categorical data even though it would now be represented by a numerical value."}]},{"type":"element","tag":"h2","props":{"id":"statistical-data-collection"},"children":[{"type":"text","value":"Statistical Data Collection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"florence","src":"https://cdn8.openculture.com/wp-content/uploads/2016/03/27203643/1024px-Nightingale-mortality.jpg"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" Florence Nightingale"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we collect data specifically for statistical purposes we want to gain knowledge or learn about something that is important to us. There are two ways in which statistics concerns itself when it comes to data collection, and those are through observation and experimentation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An important point to keep in mind is that, although we might have an idea of what the population we're interested in looks like, or what the magnitude of the data we need might be, we would hardly ever collect enough data to make a 100% prediction or inference based on it. With that said though, there are many techniques and sampling methods that do allow us to get pretty close to our desired outcome. Let's first define what observational and experimental studies are."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Sample Study:"}]},{"type":"text","value":" a study where we try to estimate the true value of a parameter based on a sample of the real population. A parameter in this case would be a piece of information such as the mean, median, and mode in a sample regarding our question of interest. If we wanted to know how many people per country, on average, believe in global warming, asking everyone in the planet would be impossible. But by asking a random sample of people from each country, we could approximate the true average of people that believe in global warming."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Observational Study:"}]},{"type":"text","value":" In these kinds of studies, we are interested in a particular subsection of the population and we would like to determine what causes what without intervening with the sample being studied. For example, say we want to study the relatioship between smoking and drinking and whether one causes the other and vice-versa. We would observe people in their natural environment and collect data about what happens when these actions take place. We would then different statistical techniques to try to arrive at the root of our question, what causes what, if such causal link exists at all."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We also need to be cautious when, upon first inspection, all of our assumptions seem to match. A high correlation between both, smoking and drinking does not mean that one causes the other. It could be that there is a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"confounding variable"}]},{"type":"text","value":" behind the scenes controling the outcomes. For example, drinking and smoking could be due to being in a circle of friends where everyone smokes. It could also be a habbit triggered by the cue, for example, beign out with friends socialising. Confounding variables, or for that matter, the real causes of a phenomena, are often hard to pick appart but not impossible."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Experimental Study:"}]},{"type":"text","value":" Experiments are the toughest ones to conduct but are also the ones that can get you the closest to determine a causal effect between two or more variables. With experiments we are in search of what causes what and we might even go to great lenghts to pick a random sample of people, then assign them to different random groups, and induce the variable of interest to half of that sample and a placebo to the other. These two groups are also called, control and treatment group. If the size of the difference between the two groups is large or significant enough once the experiment ends, it can be possible to determine causation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are other concepts in data collection that, although they are beyond the scope of this course, you are higly encouraged to explore further. These are,"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.questionpro.com/blog/types-of-sampling-for-social-research/","rel":["nofollow"]},"children":[{"type":"text","value":"Different sampling techniques"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Cluster sampling"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Stratified sampling"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Simple random sampling"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Systematic sampling"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Snowball sampling"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Selection bias"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Qualitative data collection (e.g. focus groups, interviews, etc.)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Quantitative data collection (e.g. experiments)"}]}]},{"type":"element","tag":"h2","props":{"id":"_5-descriptive-statistics"},"children":[{"type":"text","value":"5. Descriptive Statistics"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"cool_stats","src":"https://miro.medium.com/max/2416/1*x562RQ21PKPV4BCdt2TkJg.gif"},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://github.com/jwilber/roughViz","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/jwilber/roughViz"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are descriptive statistics?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Descriptive Statistics is the process of describing and presenting your data. This is usually done through tables, visualisations and written descriptions of data. For example, if you conduct a survey to find out how much people like a particular brand, you will want to report the number of people that took the survey (the count), the average, minimum, and maximum age or even the median income of every respondant. With these data alone, we could move onto to making more informed and important decisions."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the previous survey example, every survey taker would be a row, and every question in that survey would form the columns (see the table below). Income, age, and favourite brand, would all represent different arrays or vectors of information in a two-dimensional matrix or dataset."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Income"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Age"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Favourite Brand"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Abraham"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"70,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"25"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Nike"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Lisa"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"110,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"31"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Apple"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Mark"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"80,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"24"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Garmin"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Penelope"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"55,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"49"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Microsoft"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Michaela"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"74,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"51"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"ZARA"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Nicholas"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"61,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"36"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Adiddas"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every one of these arrays can represent a categrorical or quantitative variable. Since data are often messy and even unstructured, we might also find other data structures, or free text (long strings) as the elements of a table like the one above. For the most part though, we will focus on the two types of variables we will often see, quantitative and categorical variables to describe our dataset."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Descriptive statistics are often shown through tables and visualisations. For example, imagine you'd like to know how the average life expectancy of people at age 60 in different countries has changed over time. That visualisation would look like the one below."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"life_exp","src":"../images/live_exp.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"So what should we look for when we want to describe data?"}]},{"type":"text","value":" We want to look for information that gives us facts about the data, such as the most common value of a set of characteristics, how far is a given value in a variable from the average value of that same variable (e.g. how far is the age of a teacher selected at random in all the schools in Sydney from the average age of all teachers in New South Wales). These two kinds of values, the average of a set and the variability of each value in a set, are part of what is known as measures of central tendency and measures of variability, respectively."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Measures of Central tendency"}]},{"type":"text","value":", also classified as summary statistics, are calculations that help us describe any data point in our dataset in relation to the most common values. The most common determinants of central tendency are the mean, median, and mode."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Measures of Variability"}]},{"type":"text","value":" tell us how spread-out our data is. Think about this as how much variation there is, whether up or down, in the income of your closest friends to that of the income of the average Australian. That distance from the income of your friends to the most common income (the average of all) gives us insights as to how much income variability there is in the entire population of Australia. In this instance, your friends would be consider a sample of the population. The most common measures of variability are the range, variance and standard deviation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"How do we describe categories and quantities?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Categorical variables can be shown using frequency tables and visualisations where each category of the variable is given a number representing the amount of times that category was found in the dataset. For example, a question in a survey containing answer choices ranging from Strongly Agree to Strongly Disagree will have 5 categories."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Quantitative variables, on the other hand, can be summarised with averages, percentiles, scatterplots, etc., and tend to provide different perspectives and insights than qualitative variables."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The most useful set of facts we will need will often come from a combination of both, qualitative and quantitative variables. Nontheless, Descriptive Statistics are not only an essential step in the data analytics cycle but are also specially useful when we have a lot of data and want to convey relevant a message with relevant information fast."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will go over the most important descriptive statistics (with code) in the following notebooks."}]},{"type":"element","tag":"h2","props":{"id":"_6-inferential-statistics"},"children":[{"type":"text","value":"6. Inferential Statistics"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"inf","src":"https://user-images.githubusercontent.com/35218826/37026890-1e2bcfe0-2173-11e8-9b06-3db329d5f477.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Statistical inference is one of the divisions of statistics that deals with what cannot (or has not) been observed in the data. It is the side of statistics used to make predictions about what might happen in the future based on what has happen in the past. In other words, it helps us estimate, among many things, some degree of uncertainty in the future (something we don't know anything about)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Another way for thinking about inferential statistics goes as follows. We have evidence about the characteristics of all of the observations in our sample, the true parameters of the population are unkown but we can approximate an answer to the true parameters if the sample is large or representative enough. In this scenario, we would like to make an inference or educated guess about the truth, and representative would mean that we capture as much variation as possible in the sample as that which we could expect in to see in the population"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Three broad goals of statistical inference are parameter estimation, prediction, and model comparison."}]},{"type":"element","tag":"img","props":{"src":"https://imgs.xkcd.com/comics/null_hypothesis.png","alt":"null h","width":300},"children":[]},{"type":"text","value":"  \n**Source:** https://xkcd.com/892/\n"},{"type":"element","tag":"h2","props":{"id":"questions"},"children":[{"type":"text","value":"Questions"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is Statistics?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is \"a Statistic\"?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What are the three broad areas of Statistics and how does one define them?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is one way in which we can collect data?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is Statistics useful for?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"How can Statistics be harmful?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What are measures of central tendencies?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is an Observational Study?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What are the 2 types of categorical variables?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is an experimental study and can you think of an example of it?"}]}]},{"type":"element","tag":"h2","props":{"id":"references"},"children":[{"type":"text","value":"References"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Herne, H., & Huff, D. (1973). "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"How to Lie with Statistics"}]},{"type":"text","value":". Applied Statistics, 22(3), 401. doi: 10.2307/2346789"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Downey, Allen B. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Think Stats: Exploratory Data Analysis in Python"}]},{"type":"text","value":". Green Tea Press, 2014."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lock, Robin H., et al. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Statistics: Unlocking the Power of Data"}]},{"type":"text","value":". John Wiley & Sons, 2019."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"notebook-outline","depth":2,"text":"Notebook Outline"},{"id":"_2-learning-outcomes","depth":2,"text":"2. Learning Outcomes"},{"id":"so-what-can-we-do-with-statistics","depth":2,"text":"So, what can we do with Statistics?"},{"id":"what-should-we-not-do-with-statistics","depth":2,"text":"What should we not do with Statistics?"},{"id":"statistical-data-collection","depth":2,"text":"Statistical Data Collection"},{"id":"_5-descriptive-statistics","depth":2,"text":"5. Descriptive Statistics"},{"id":"_6-inferential-statistics","depth":2,"text":"6. Inferential Statistics"},{"id":"questions","depth":2,"text":"Questions"},{"id":"references","depth":2,"text":"References"}]}},"_type":"markdown","_id":"content:2.analytics:4.stats_intro.md","_source":"content","_file":"2.analytics/4.stats_intro.md","_extension":"md"},{"_path":"/analytics/describing_data","_dir":"analytics","_draft":false,"_partial":false,"_locale":"","title":"Describing Data","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"describing-data"},"children":[{"type":"text","value":"Describing Data"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"Facts are stubborn things, but statistics are pliable.” ~ Mark Twain"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“Most people use statistics like a drunk man uses a lamppost; more for support than illumination” ~ Andrew Lang"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“Statistics don't determine whether you find love or get married. You do!” ~ Suzette Vearnon"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"inequality","src":"https://i1.wp.com/flowingdata.com/wp-content/uploads/2020/12/Tudor-Networks.png?resize=1536%2C1439&ssl=1"},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"http://tudornetworks.net/","rel":["nofollow"]},"children":[{"type":"text","value":"Tudor Networks by Kim Albrecht, Ruth Ahnert, and Sebastian Ahnert"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are descriptive statistics?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Descriptive Statistics is the process of describing and presenting your data. This is usually done through tables, visualisations and written descriptions of data. For example, if you conduct a survey to find out how much people like a particular brand, you will want to report the number of people that took the survey (the count), the average, minimum, and maximum age or even the median income of every respondant. With these data alone, we could move onto to making more informed and important decisions."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the previous survey example, every survey taker would be a row, and every question in that survey would form the columns (see the table below). Income, age, and favourite brand, would all represent different arrays or vectors of information in a two-dimensional matrix or dataset."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Income"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Age"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Favourite Brand"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Abraham"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"70,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"25"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Nike"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Lisa"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"110,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"31"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Apple"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Mark"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"80,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"24"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Garmin"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Penelope"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"55,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"49"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Microsoft"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Michaela"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"74,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"51"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"ZARA"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Nicholas"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"61,000"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"36"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Adiddas"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every one of these arrays can represent a categrorical or quantitative variable. Since data are often messy and even unstructured, we might also find other data structures, or free text (long strings) as the elements of a table like the one above. For the most part though, we will focus on the two types of variables we will often see, quantitative and categorical variables to describe our dataset."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Descriptive statistics are often shown through tables and visualisations. For example, imagine you'd like to know how the average life expectancy of people at age 60 in different countries has changed over time. That visualisation would look like the one below."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"life_exp","src":"/images/live_exp.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"So what should we look for when we want to describe data?"}]},{"type":"text","value":" We want to look for information that gives us facts about the data, such as the most common value of a set of characteristics, how far is a given value in a variable from the average value of that same variable (e.g. how far is the age of a teacher selected at random in all the schools in Sydney from the average age of all teachers in New South Wales). These two kinds of values, the average of a set and the variability of each value in a set, are part of what is known as measures of central tendency and measures of variability, respectively."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Measures of Central tendency"}]},{"type":"text","value":", also classified as summary statistics, are calculations that help us describe any data point in our dataset in relation to the most common values. The most common determinants of central tendency are the mean, median, and mode."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Measures of Variability"}]},{"type":"text","value":" tell us how spread-out our data is. Think about this as how much variation there is, whether up or down, in the income of your closest friends to that of the income of the average Australian. That distance from the income of your friends to the most common income (the average of all) gives us insights as to how much income variability there is in the entire population of Australia. In this instance, your friends would be consider a sample of the population. The most common measures of variability are the range, variance and standard deviation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"How do we describe categories and quantities?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Categorical variables can be shown using frequency tables and visualisations where each category of the variable is given a number representing the amount of times that category was found in the dataset. For example, a question in a survey containing answer choices ranging from Strongly Agree to Strongly Disagree will have 5 categories."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Quantitative variables, on the other hand, can be summarised with averages, percentiles, scatterplots, etc., and tend to provide different perspectives and insights than qualitative variables."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The most useful set of facts we will need will often come from a combination of both, qualitative and quantitative variables. Nontheless, Descriptive Statistics are not only an essential step in the data analytics cycle but are also specially useful when we have a lot of data and want to convey relevant a message with relevant information fast."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's go over each one of the most important descriptive statistics."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom utilities import check_or_add\nimport os\n\nplt.style.use('fivethirtyeight')\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', None)\n\n# Setting pandas fload option to 5 decimal places helps us get rid of scientific notation\npd.options.display.float_format = '{:.3f}'.format\n\n%matplotlib inline\n%load_ext autoreload\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import numpy as np\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import matplotlib.pyplot as plt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import seaborn as sns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from utilities import check_or_add\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import os\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.style.use('fivethirtyeight')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.set_option('display.max_columns', None)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.set_option('display.max_rows', None)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Setting pandas fload option to 5 decimal places helps us get rid of scientific notation\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.options.display.float_format = '{:.3f}'.format\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%matplotlib inline\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%load_ext autoreload\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"path = '../data'\n\n# for windows users\n# path = '..\\data'\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"path = '../data'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# for windows users\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# path = '..\\data'\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"parquet_file = os.path.join(check_or_add(path, 'clean_parquet'), 'clean_airbnb.parquet')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"parquet_file = os.path.join(check_or_add(path, 'clean_parquet'), 'clean_airbnb.parquet')\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# csv_file = os.path.join(check_or_add(path, 'clean_csv'), 'clean_airbnb.csv')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# csv_file = os.path.join(check_or_add(path, 'clean_csv'), 'clean_airbnb.csv')\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df = pd.read_parquet(parquet_file)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df = pd.read_parquet(parquet_file)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.info(memory_usage='deep')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.info(memory_usage='deep')\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.head(3)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.head(3)\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"count"},"children":[{"type":"text","value":"Count"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will need to know how many observations (also known as the n count) are in our dataset and that is exactly what "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"len()"}]},{"type":"text","value":" gives us. We pass an array of values through the function and it returns the number of all values in that array. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"len()"}]},{"type":"text","value":" also takes in strings and gives us back the total number of elements inside a string. Please note, counting and adding several numbers is not the same. To put this into perspective, think about what the average represents, the nominator is a sum of all the elements in an array while the denominator is the amount of elements in such array."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"len(df)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"len(df)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.shape[1]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.shape[1]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also count specific categories visually with seaborn."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sns.catplot(x='room_type', data=df, kind='count')\nplt.xlabel(\"Room Type\")\nplt.title(\"Count per room type offered in Melbourne\")\nplt.show()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sns.catplot(x='room_type', data=df, kind='count')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.xlabel(\"Room Type\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.title(\"Count per room type offered in Melbourne\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"mean"},"children":[{"type":"text","value":"Mean"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What we call the mean is actually the arithmetic mean. This is the sum of all the values in a set or array, divided by the amount of numbers in such array. While zeros are always counted in the arithmetic mean, in Python, empty values or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"NaN"}]},{"type":"text","value":"s are never counted towards that or any other operation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$\\overline{X}=\\dfrac{1}{n}\\sum x_$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the folmula above,"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\overline{X}$ stands for the mean of array X"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"$n$"}]},{"type":"text","value":" is the lenght of the array, vector, set, or list"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\dfrac{1}{n}$ means we will divide everything by the lenght"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The greek letter $\\sum$ denotes the sumation of all proceding values"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$x_$ means every value in the array starting from "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"$i$"}]},{"type":"text","value":", and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"$i$"}]},{"type":"text","value":" in this instance can be any number"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can observe the mean of some of the quantitative variables in our dataframe with the method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".mean()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"some_numerical_vars = ['bathrooms', 'price', 'extra_people', 'minimum_nights_avg_ntm', 'maximum_nights_avg_ntm']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_numerical_vars = ['bathrooms', 'price', 'extra_people', 'minimum_nights_avg_ntm', 'maximum_nights_avg_ntm']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df[some_numerical_vars].mean()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[some_numerical_vars].mean()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# the same works with np methods\nnp.mean(df[some_numerical_vars])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# the same works with np methods\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.mean(df[some_numerical_vars])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also calculate the mean ourselves with plain Python code."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sum(df['price']) / len(df)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sum(df['price']) / len(df)\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"median"},"children":[{"type":"text","value":"Median"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The median will order an array of numbers from lowest to highest and select the number in the middle. This means that the median is effectively the 50th percentile of any array. If the array has an even amount of numbers, it will return the average of the middle two numbers. If the arrays has an odd amount of numbers, it will return the one in the middle."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just like with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".mean()"}]},{"type":"text","value":" method, we can use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".median()"}]},{"type":"text","value":" method on the quantitative variables of our dataframe and pandas will return the median for all variables. We could also use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".median()"}]},{"type":"text","value":" method and it will return the a median value for all numerical variables in our dataset. This is not recommended if your dataset is too large and has a lot of variables."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"more_numerical_vars = ['accommodates', 'guests_included', 'minimum_minimum_nights', 'maximum_minimum_nights', 'minimum_maximum_nights', \n                      'maximum_maximum_nights', 'availability_30', 'availability_60', 'availability_90']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"more_numerical_vars = ['accommodates', 'guests_included', 'minimum_minimum_nights', 'maximum_minimum_nights', 'minimum_maximum_nights', \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                      'maximum_maximum_nights', 'availability_30', 'availability_60', 'availability_90']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df[more_numerical_vars].median()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[more_numerical_vars].median()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Say we know that our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"price"}]},{"type":"text","value":" array has an odd number of elements and we want to get the value at the 50th percentile of our variable. We could, for instance, pass in a slice that selects that same middle numberof the array by computing floor division on the lenght of the array. The reason we would use a floor division is because all divisions in Python return a float and we can't pass floats to a slice. We could, in turn, wrap "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"int()"}]},{"type":"text","value":" around our division, or the function "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"round()"}]},{"type":"text","value":" instead to achieve the same result. Let's have a look."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"len(df)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"len(df)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"39742 / 2\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"39742 / 2\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# if your number is even, get the lower bound\nlower_bound = (len(df) // 2) - 1\nlower_bound\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# if your number is even, get the lower bound\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"lower_bound = (len(df) // 2) - 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"lower_bound\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# if your number is even, also get the upper bound\nupper_bound = (len(df) // 2)\nupper_bound\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# if your number is even, also get the upper bound\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"upper_bound = (len(df) // 2)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"upper_bound\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# check out the value at x bound\nsorted(df['price'])[lower_bound]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# check out the value at x bound\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(df['price'])[lower_bound]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# check out the value at x bound\nsorted(df['price'])[upper_bound]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# check out the value at x bound\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(df['price'])[upper_bound]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# confirm the true median\ntrue_median = (sorted(df['price'])[lower_bound] + sorted(df['price'])[upper_bound]) / 2\ntrue_median\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# confirm the true median\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"true_median = (sorted(df['price'])[lower_bound] + sorted(df['price'])[upper_bound]) / 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"true_median\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.median(df['price'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.median(df['price'])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also divide normally and surround the operation with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"int()"}]},{"type":"text","value":" to make sure we get an integer for our slice."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"odd_array = np.arange(9)\n# odd array again\nsorted(odd_array)[int(len(odd_array) / 2)]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"odd_array = np.arange(9)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# odd array again\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(odd_array)[int(len(odd_array) / 2)]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.median(odd_array)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.median(odd_array)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To manually get the median of an even array, we need to do a bit more work. We need to"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"sort the array"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create a slice for the middle number and subtract one"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"add the value on the previous step to another slice without subtracting 1"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"divide the result by 2"}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# even array\narr = np.random.randint(0, 200, 14)\n\n# sum the lower and higher slicers surrounding the median and divide by 2\n(sorted(arr)[len(arr) // 2 - 1] + sorted(arr)[len(arr) // 2]) / 2\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# even array\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr = np.random.randint(0, 200, 14)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# sum the lower and higher slicers surrounding the median and divide by 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"(sorted(arr)[len(arr) // 2 - 1] + sorted(arr)[len(arr) // 2]) / 2\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"arr\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arr\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.median(arr)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.median(arr)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, the above cell is illegible and does not help much. Let's decompose it step by step."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# first step\nsorted_array = sorted(arr)\nsorted_array\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# first step\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted_array = sorted(arr)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted_array\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# second step\narray_count = len(arr)\narray_count\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# second step\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array_count = len(arr)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"array_count\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# third step\nmiddle_of_array = (array_count // 2)\nmiddle_of_array\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# third step\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"middle_of_array = (array_count // 2)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"middle_of_array\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# fourth step\nlow_bound = sorted_array[middle_of_array - 1]\nlow_bound\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# fourth step\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"low_bound = sorted_array[middle_of_array - 1]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"low_bound\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# fifth step\nupper_bound = sorted_array[middle_of_array]\nupper_bound\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# fifth step\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"upper_bound = sorted_array[middle_of_array]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"upper_bound\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# final step\nanswer = (low_bound + upper_bound) / 2\nanswer\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# final step\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"answer = (low_bound + upper_bound) / 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"answer\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# confirm results\nnp.median(arr)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# confirm results\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.median(arr)\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"mode"},"children":[{"type":"text","value":"Mode"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Mode is the most frequent number in an array of numbers. To get the mode we can pass the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".mode()"}]},{"type":"text","value":" method to a series or we take advantage of on of the many methods in the library SciPy. (SciPy stands for scientific computing.) This library is a cousing of NumPy, or maybe a children, and it comes with many similar functionalities as the ones you would find in NumPy."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df['city'].mode()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['city'].mode()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we import the mode function from scipy\nfrom scipy.stats import mode\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we import the mode function from scipy\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from scipy.stats import mode\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we import the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mode"}]},{"type":"text","value":" function we can pass it to our dataframe and it will return a scipy object with two arrays, one for the values that appear the most, and another for the times it appears the most."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"more_cols = ['price', 'cleaning_fee', 'security_deposit', 'host_is_superhost']\nmode(df[more_cols])[1]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"more_cols = ['price', 'cleaning_fee', 'security_deposit', 'host_is_superhost']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"mode(df[more_cols])[1]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can pass in this structure to an "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.array()"}]},{"type":"text","value":", transpose it, and get an array of tuples with each element and its respective value next to each other."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.array(mode(df[more_cols])).T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.array(mode(df[more_cols])).T\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can confirm the median of any variable using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".value_counts()"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df['host_is_superhost'].value_counts(normalize=True)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['host_is_superhost'].value_counts(normalize=True)\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"percentiles"},"children":[{"type":"text","value":"Percentiles"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Percentiles give us the value at a given location of the array. For example, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.percentile(array, 25)"}]},{"type":"text","value":" will return the number where 75% of the data is above of, and 25% of the data is below of. In contrast, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.percentile(array, 50)"}]},{"type":"text","value":" would return the median the median of the array."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# This answers the question, what prices am I looking within the lower quarter of the array?\nnp.percentile(df['price'], 25)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# This answers the question, what prices am I looking within the lower quarter of the array?\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.percentile(df['price'], 25)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.percentile(df['price'], 95)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.percentile(df['price'], 95)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.median(df['price'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.median(df['price'])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also get a particular percentile manually by multiplying percentages by the length of the array inside a slice of a sorted array. Think of this as masking."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"print(f\"Our fancy percentage finding scheme --> {sorted(df['cleaning_fee'])[int(0.30 * len(df))]}\")\nprint(\"NumPy's version --> %f\" % np.percentile(df['cleaning_fee'], 30))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Our fancy percentage finding scheme --> {sorted(df['cleaning_fee'])[int(0.30 * len(df))]}\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"NumPy's version --> %f\" % np.percentile(df['cleaning_fee'], 30))\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"range"},"children":[{"type":"text","value":"Range"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Range of a set is the difference between the maximum and minimum numbers of an array. Going back to our income example, if the highest-paid person in Australia made 2,000,000/year and the lowest-paid person made 500/year, then the range of that set would be the difference between the two, or 1,999,500. This is regardless of the lenght of the array as the range focuses on content not quantity of values."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.ptp()"}]},{"type":"text","value":" to get the range of a numerical array or we can compute the range ourselves in several different ways with regular Python."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# numpy's way\nnp.ptp(df['cleaning_fee'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# numpy's way\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.ptp(df['cleaning_fee'])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# python's way\nmax(df['cleaning_fee']) - min(df['cleaning_fee'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# python's way\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"max(df['cleaning_fee']) - min(df['cleaning_fee'])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# no helper functions\nsorted(df['cleaning_fee'])[-1] - sorted(df['cleaning_fee'])[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# no helper functions\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(df['cleaning_fee'])[-1] - sorted(df['cleaning_fee'])[0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sorted(df['cleaning_fee'])[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(df['cleaning_fee'])[0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sorted(df['cleaning_fee'])[-1]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(df['cleaning_fee'])[-1]\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"variance"},"children":[{"type":"text","value":"Variance"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Variance tells us how much variation to expect in an array of data ($x$) with at least 2 numbers. For example, say we have two groups with 5 professional athletes in each. One group has soccer players and the other has tennis players. Now imagine we first ask each group how much do they spend eating out each week, and then we calculate the average of those amounts. Once we do this, we are surprised to find out that both groups of athletes spend the same on average eating out, about 570/week. Here is the data."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Athlete"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Group"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Money Spent/Week"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Serena Williams"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Tennis"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$570"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Roger Federer"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Tennis"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$570"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Venus Williams"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Tennis"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$570"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Rafael Nadal"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Tennis"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$570"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Maria Sharapova"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Tennis"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$570"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Cristiano Ronaldo"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Soccer"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$700"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Hope Solo"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Soccer"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$380"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Loenel Messi"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Soccer"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$200"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Mia Hamm"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Soccer"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$650"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Diego Maradona"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Soccer"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"$920"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Although the average is the same for both groups, the variation per group and player (as seen above) is extremely large. The tennis group's variation is equal to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" while the variation of the soccer group is much greater than that."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is the mathematical formula for the variance before we see it in code. To calculate it, we sum the squared difference of each data point of an array from the mean of that same array. We then divide the sum by the lenght of the array."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$\\sigma^{2}=\\dfrac {1}{n-1}\\sum "},{"type":"element","tag":"em","props":{"i":""},"children":[{"type":"text","value":"\\left( x"}]},{"type":"text","value":"-\\overline {x}\\right) ^{2}$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the folmula above,"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\overline{X}$ stands for the mean"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$n$ is the lenght of the array, vector, set, or list"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\dfrac{1}{n-1}$ means we will divide everything by the lenght"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The greek letter $\\sum$ denotes sumation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$x_$ means every "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" value starting from "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i"}]},{"type":"text","value":". In other words, every element of the array"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\sigma^{2}$ --> squared standard deviation, aka result"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\left( x_-\\overline {x}\\right) ^{2}$ means the square difference"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's calculate the variance using different methods in Python."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# remember this variable\nsome_numerical_vars\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# remember this variable\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_numerical_vars\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we can use a method on the entire array\ndf[some_numerical_vars].var()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we can use a method on the entire array\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[some_numerical_vars].var()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also use the numpy method on a one dimensional array."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.var(df['minimum_nights_avg_ntm'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.var(df['minimum_nights_avg_ntm'])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The last option is to do it ourselved with by coding every step of the formula."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df['price'].mean()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['price'].mean()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# first take the difference between each data point and the mean of the array\ndiff_var = (df['price'] - df['price'].mean())\ndiff_var.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# first take the difference between each data point and the mean of the array\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"diff_var = (df['price'] - df['price'].mean())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"diff_var.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# then squared the difference\npower_two = diff_var ** 2\npower_two.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# then squared the difference\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"power_two = diff_var ** 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"power_two.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# sum the array of differences\nsum_price_diff = power_two.sum()\nsum_price_diff\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# sum the array of differences\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sum_price_diff = power_two.sum()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sum_price_diff\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# then divide the sum of differences by the lenght of the array minus 1\nvariance = sum_price_diff / (len(df) - 1)\nvariance\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# then divide the sum of differences by the lenght of the array minus 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"variance = sum_price_diff / (len(df) - 1)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"variance\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# imagine if we were to do that whole process in one line of code\nsum([(x - df['price'].mean()) ** 2 for x in df['price']]) / (len(df['price']) - 1)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# imagine if we were to do that whole process in one line of code\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sum([(x - df['price'].mean()) ** 2 for x in df['price']]) / (len(df['price']) - 1)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's unpack what just happened in the cell above."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We initialised a list comprehension"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"then subtracted the mean of the price column from every one its prices"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"we then squared the result"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"summed everything up"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"and finished by dividing the final product by the n count of the price variable minus 1"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In statistics, the variance and the standard deviation of a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"sample"}]},{"type":"text","value":" al always divided by "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"n - 1"}]},{"type":"text","value":". This is to signify the understatement of the true parameter $\\overline {X}$ which we don't know."}]},{"type":"element","tag":"h2","props":{"id":"standard-deviation"},"children":[{"type":"text","value":"Standard Deviation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Standard Deviation"}]},{"type":"text","value":" measures the dispersion of some data from its mean. Think of the dispertion of (normally distributed) data as percentage blocks surrounding the average, mean and median values (see the picture below)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"std","src":"https://sway.office.com/s/EfPj5fmDwSziDupy/images/iJQFxVhHL6o7Sq?quality=860&allowAnimation=false"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://sixsigmadsi.com/standard-deviation-measure-of-dispersion/","rel":["nofollow"]},"children":[{"type":"text","value":"https://sixsigmadsi.com/standard-deviation-measure-of-dispersion/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every data point in these blocks is said to be 1, 2, or 3 standard deviations away from the mean. Additionally, these blocks provide us with an expectation for future values in percentage terms. Meaning, if we were to ask how many of the data points in our set are 1 standard deviation below the mean, we would mention that X% of our data points would land on that block. A more succint example would be, if crazy rainy days in Australia happened with a frequency of 1 standard deviation below or above the mean, and the weather temperatures were normally distributed, we could say that we would expect crazy rainy weather about 34% (up or down) of the time in a year. Of course, we could be even more specific about this, but the important distinction to keep in mind here is that sequential regions within a distribution can only be found in this form when the distribution of the data is normal."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$\\sigma = \\sqrt{\\dfrac {1}{n-1}\\sum "},{"type":"element","tag":"em","props":{"i":""},"children":[{"type":"text","value":"\\left( x"}]},{"type":"text","value":"-\\overline {x}\\right) ^{2}}$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the folmula above,"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\overline{x}$ stands for the sample mean"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$n$ is the lenght of the array, vector, set, or list"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\dfrac{1}{n-1}$ means we will divide everything by the lenght minus 1"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The greek letter $\\sum$ denotes sumation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$x_$ means every "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" value in our array starting from "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\sigma$ --> sigma == Result"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\left( x_-\\overline {x}\\right) ^{2}$ means the square difference"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.std()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df[quant_vars_list].std()"}]},{"type":"text","value":" will return the standard deviation of an array or matrix."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# givent the average and the standard deviation of prices, what's the highest value we expect to see 34%\n# of the time above the mean? Should this be a normally distributed array of course.\ndf['price'].std()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# givent the average and the standard deviation of prices, what's the highest value we expect to see 34%\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# of the time above the mean? Should this be a normally distributed array of course.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['price'].std()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.std(df['price'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.std(df['price'])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also calculate the standard deviation by taking the square root of the variance."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.sqrt(np.var(df['price']))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.sqrt(np.var(df['price']))\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"minimum-maximum"},"children":[{"type":"text","value":"Minimum & Maximum"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Minimum & Maximum are the lowest and highest values in an array, respectively. These are useful when we have quantitative variables such as income, or house prices, but not when we have categorical variables such as gender or weekdays. For example, imagine having a variable called food temperature that is classified as hot, warm, or cold (with numerical equivalents of 1, 2, 3). Our functions MIN and MAX will not be very useful for this categorical variable since the distance of such categories would not carry much meaning. In contrast, the difference between an income of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$97,000"}]},{"type":"text","value":" and an income of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$45,000"}]},{"type":"text","value":" would be "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$52,000"}]},{"type":"text","value":", and that is also the range between the two."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can pass in min and max as methods to a dataframe or as numpy functions to arrays."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.min(df)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.min(df)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"np.max(df)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.max(df)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also sort the array and select the first and last elements for the min and the max."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# manual min\nsorted(df['minimum_nights'])[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# manual min\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(df['minimum_nights'])[0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# manual max\nsorted(df['minimum_nights'])[-1]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# manual max\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(df['minimum_nights'])[-1]\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"skewness"},"children":[{"type":"text","value":"Skewness"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Skewness of an array tells us how distorted the distribution of such array is from the most common value or the peak of the curve. A rightly-skewed distribution is said to be positively skewed, and the opposite means that there will be a mountain going on the opposite direction (see below)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"skewness","src":"https://4.bp.blogspot.com/-e-CL8iluz2o/Vt3Ntg_38kI/AAAAAAAAIJo/zGJMyNaMbFY/s1600/skewed.jpg"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://www.resourceaholic.com/p/resource-library-statistics-level.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.resourceaholic.com/p/resource-library-statistics-level.html"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$Skewness = \\frac{\\sum_^{N} (X_ - \\overline{X})^{3}}{(N - 1)\\sigma^3}$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the folmula above,"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\overline{X}$ stands for the mean"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$N$ is the lenght of the array, vector, set, or list"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The greek letter $\\sum$ denotes sumation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$X_$ means every "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" value in our array starting from "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i=1"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\sigma^3$ --> standard deviation to the cube"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Another important point to remember is that the mean of a positively-skewed distribution will be larger than the median, and the opposite is true for a negatively-skewed distribution. When skeweness is zero, there's no distortion in the distribution."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's see if the cleaning fees in our dataset present a distorted distribution\nsns.kdeplot(df['cleaning_fee'].sample(500))\nplt.title(\"Density distribution for Price per stay\")\nplt.show()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's see if the cleaning fees in our dataset present a distorted distribution\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sns.kdeplot(df['cleaning_fee'].sample(500))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.title(\"Density distribution for Price per stay\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also pass the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".skew()"}]},{"type":"text","value":" method to our dataframe and get a sense of how distorted our variables might be."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df[['cleaning_fee', 'security_deposit']].sample(500).skew()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[['cleaning_fee', 'security_deposit']].sample(500).skew()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"SciPy has convenient skew formula in the stats library as well."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"from scipy.stats import skew\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from scipy.stats import skew\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df['extra_people'].skew()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['extra_people'].skew()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"print(\"Extra People Skewness is %.2f\" % skew(df['extra_people']))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"Extra People Skewness is %.2f\" % skew(df['extra_people']))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sns.kdeplot(df['extra_people'])\nplt.title(\"Density distribution for the price for extra people\")\nplt.show()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sns.kdeplot(df['extra_people'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.title(\"Density distribution for the price for extra people\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"kurtosis"},"children":[{"type":"text","value":"Kurtosis"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Kurtosis is a very useful statistic that tells us how much do the tails of the distribution of a random variable differ from those of a normal distribution (e.g. a true bell-shaped curve). It tells us if we have extreme values or not in our variable."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The kurtosis of a normal distribution is usually at a value of 3. A much higher kurtosis than this means that we are dealing with outliers. On the other hand, a lower kurtosis means that the distribution we are dealing with has less extreme values than those seen in a normaly distributed array of data."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"example_kurt","src":"https://anuradhasaha.weebly.com/uploads/5/4/4/1/54419337/kurtosis2.jpg"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" image author, "},{"type":"element","tag":"a","props":{"href":"https://anuradhasaha.weebly.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Anuradha Saha"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Formula:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$Kurtosis = \\frac{1}{n} \\sum_^{n} (\\frac{x_ - \\overline{x}}{n - 1})\\sigma^4$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the folmula above,"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\overline{x}$ stands for the mean"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$n$ is the lenght of the array, vector, set, or list"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The greek letter $\\sum$ denotes sumation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$x_$ means every "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" value in our array starting from "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i=1"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\sigma^3$ --> standard deviation to the cube"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our pandas dataframe has two methods to calculate the Kurtosis. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".kurt()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".kurtosis()"}]},{"type":"text","value":". They both return the same output."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NB."}]},{"type":"text","value":" There is a great medium article on skewness and kurtosis that you can find "},{"type":"element","tag":"a","props":{"href":"https://towardsdatascience.com/skewness-kurtosis-simplified-1338e094fc85","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"some_numerical_vars\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_numerical_vars\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df[some_numerical_vars].kurt()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[some_numerical_vars].kurt()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df[some_numerical_vars].kurtosis() == df[some_numerical_vars].kurt()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[some_numerical_vars].kurtosis() == df[some_numerical_vars].kurt()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"from scipy.stats import kurtosis\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from scipy.stats import kurtosis\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"print(\"Cleaning fee Kurtosis %.2f\" % kurtosis(df['cleaning_fee']))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"Cleaning fee Kurtosis %.2f\" % kurtosis(df['cleaning_fee']))\n"}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"relationships"},"children":[{"type":"text","value":"Relationships"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As data analysts we want to be able to determine how does one variable changes or moves in relation to another. We can do this visually using quantitative variables and scatter plots or with some handy mathematical functions that we can either create ourselves, or use from libraries like NumPy and SciPy. Let's begin by talking about correlation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Correlation"}]},{"type":"text","value":" is a measure of how strongly related two variables are with one another. It gives us a way of quantifying the similarity, disimilarity, or lack-therof between variables. The value of the correlation between two variables goes from -1 to 1, where 1 means positively correlated, -1 means negatively correlated, and 0 means no correlation whatsoever. This value is derived by calculating the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Pearson Correlation Coefficient"}]},{"type":"text","value":", among other measures."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"corr","src":"https://www.investopedia.com/thmb/PXAx5y_OS5z7n-Rn9m--QOC29rw=/1500x1000/filters:no_upscale():max_bytes(150000):strip_icc()/TC_3126228-how-to-calculate-the-correlation-coefficient-5aabeb313de423003610ee40.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://www.investopedia.com/ask/answers/032515/what-does-it-mean-if-correlation-coefficient-positive-negative-or-zero.asp","rel":["nofollow"]},"children":[{"type":"text","value":"Investopedia"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The correlation between two or more variables can be best observed through visualisations such as scatter plots and they can also be directly computed by hand or by using different functions in Python. The mathematical formula is:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$r_=\\dfrac {\\sum \\left( x_-\\overline {x}\\right) \\left( y_-\\overline {y}\\right) }{\\sqrt {\\sum \\left( x_-\\overline {x}\\right) ^{2}\\sum \\left( y_-\\overline {y}\\right) ^{2}}}$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Where"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$r_$ is the relationship between the variables X and Y"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$x_$ is every element in array X"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$y_$ is every element in array Y"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\overline {x}$ is the mean of array X"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"$\\overline {y}$ is the mean of array Y"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the correlation, we are dividing the covariance between the product of the standard deviations of each array. More on covariance below."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's create some columns for our prices\nprices = df['price']\nclean_fee = df['cleaning_fee']\n\nmean_price = prices.mean()\nmean_clean = clean_fee.mean()\nmean_price, mean_clean\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's create some columns for our prices\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"prices = df['price']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clean_fee = df['cleaning_fee']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"mean_price = prices.mean()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"mean_clean = clean_fee.mean()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"mean_price, mean_clean\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's sum up the product of the differences between the elements in each array and their mean\narrays_diff_sum = sum((prices - mean_price) * (clean_fee - mean_clean))\narrays_diff_sum\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's sum up the product of the differences between the elements in each array and their mean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arrays_diff_sum = sum((prices - mean_price) * (clean_fee - mean_clean))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"arrays_diff_sum\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's now compute the square root of the sum of the squared difference between each of the \n# elements in an array and its mean\ndiff_sqrt = np.sqrt(sum((prices - mean_price)**2) * sum((clean_fee - mean_clean)**2))\ndiff_sqrt\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's now compute the square root of the sum of the squared difference between each of the \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# elements in an array and its mean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"diff_sqrt = np.sqrt(sum((prices - mean_price)**2) * sum((clean_fee - mean_clean)**2))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"diff_sqrt\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"r_xy = arrays_diff_sum / diff_sqrt\nprint(\"The correlation between regular prices per stay and the cleaning fees is: %.3f\" % r_xy)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"r_xy = arrays_diff_sum / diff_sqrt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"The correlation between regular prices per stay and the cleaning fees is: %.3f\" % r_xy)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# you can conveniently call the pandas method .corr with two Series as well and achieve the same result\nprint(\"Correlation between prices per stay and the cleaning fees is: %.3f\" % prices.corr(clean_fee))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# you can conveniently call the pandas method .corr with two Series as well and achieve the same result\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(\"Correlation between prices per stay and the cleaning fees is: %.3f\" % prices.corr(clean_fee))\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pearsonr()"}]},{"type":"text","value":" function from scipy stats will also give you the pearson correlation plus the p-value of the arrays. The P-value is the probability that you would have found the current result in another similar sample if the correlation was in fact zero. Think about this as the least likely chance to see another value like the one we got."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"from scipy.stats import pearsonr\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from scipy.stats import pearsonr\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pearsonr(prices, clean_fee)[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pearsonr(prices, clean_fee)[0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sample_data = df.sample(500)\n\ng = sns.JointGrid(x='cleaning_fee', y='number_of_reviews', data=sample_data, space=0, ratio=17, height=8)\n\ng.plot_joint(sns.scatterplot, size=sample_data[\"price\"], sizes=(30, 120),\n             color=\"#B48EAD\", alpha=.8, legend=False)\n\ng.plot_marginals(sns.rugplot, height=1, color=\"#A3BE8C\", alpha=.6);\n\ng.set_axis_labels(xlabel='Cleaning Fee', ylabel='# of Reviews');\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sample_data = df.sample(500)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"g = sns.JointGrid(x='cleaning_fee', y='number_of_reviews', data=sample_data, space=0, ratio=17, height=8)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"g.plot_joint(sns.scatterplot, size=sample_data[\"price\"], sizes=(30, 120),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"             color=\"#B48EAD\", alpha=.8, legend=False)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"g.plot_marginals(sns.rugplot, height=1, color=\"#A3BE8C\", alpha=.6);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"g.set_axis_labels(xlabel='Cleaning Fee', ylabel='# of Reviews');\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Covariance:"}]},{"type":"text","value":" this statistic tells us how two variables vary together. That is, how does the variation of one variable relates to the variation of another."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can calculate the covariance of two arrays X and Y by first computing the distance between the mean and each of the values within the arrays. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dx"}]},{"type":"text","value":" below represents the distance of each value "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" from its mean. The same is true for the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dy"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$dx = x_ - \\overline {x}$"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n$dy = y_ - \\overline {y}$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, we multiply each distance from both arrays, add the resulting values, and then divide by the lenght of one of the arrays (which have to be both of the same length)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$cov\\left( X,Y\\right) =\\dfrac {1}{n}\\sum dx_dy_$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If both arrays variate in the same direction, the result will be positive. If their variations are completely unrelated, we are likely to get a 0. If both arrays variate negatively, the result will be negative. This is also visible when the a corresponding value in each array is below or above the mean. In this instance, the latter would be positive and former negative."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Both numbers tend to scale with each other. A large positive covariance means that if x is large then y is large as well, and when x is small then y is small as well. If the covariance between arrays is 0, there is no relationship whatsoever between them."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"prices.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"prices.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's make sure both have the same lenght\nprices.shape[0] == clean_fee.shape[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's make sure both have the same lenght\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"prices.shape[0] == clean_fee.shape[0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# np.dot takes the products of two elements and sums them up\nnp.dot((prices - prices.mean()), (clean_fee - clean_fee.mean())) / len(prices)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# np.dot takes the products of two elements and sums them up\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"np.dot((prices - prices.mean()), (clean_fee - clean_fee.mean())) / len(prices)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sum((prices - prices.mean()) * (clean_fee - clean_fee.mean())) / len(prices)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sum((prices - prices.mean()) * (clean_fee - clean_fee.mean())) / len(prices)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that Pearson Correlation only measures whether there is a linear relationship between the variables in question. This mean, that the relationship could be other than linear, hence, no relationship in the Pearson's test doesn't mean that there is no relationship at all."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One of the flaws of pearson correlation is that it does not deal well with outliers. There are other methods available for determining non-linear relationships that do deal with outliers, but we won't cover those here. These are the Spearman Rank Correlation test and the Kendall Correlation test."}]},{"type":"element","tag":"h1","props":{"id":"cross-tabulating-and-visualising-data"},"children":[{"type":"text","value":"Cross-tabulating and Visualising Data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Another way to use descriptive statistics to gain deeper insights from a particular dataset is by cross-tabulating its variables. This technique allows us to aggregate and observe data based on distinct variables sitting on top of one another (columns) or standing next to each other (rows)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You have already seen a bit of cross-tabulation in previous lessons and provably while using a spreadsheet software, but let's dig a bit deeper into how to use these tools."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.head(3)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.head(3)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.shape\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"pivot-tables"},"children":[{"type":"text","value":"Pivot Tables"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's look at the comparison between prices charged by super hosts and prices charged by non superhosts per different countries. We will do so by using a pivot table for our aggregation method. The most important arguments of a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pivot_table"}]},{"type":"text","value":" are"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"values"}]},{"type":"text","value":" --> what we want to aggregate (single column or list of columns). Usually a quantitative variable"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"index"}]},{"type":"text","value":" --> what we want to represent in the rows (single column or list of columns). Usually a categorical variable or a date one"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"columns"}]},{"type":"text","value":" --> what we want to represent in our columns (single column or list of columns). Usually a categorical variable"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"aggfunc"}]},{"type":"text","value":" --> the aggregation method we want to use (single method or list of methods)"}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"super_country_hosts = df.pivot_table(\n        values='price',\n        index='country',\n        columns='host_is_superhost',\n        aggfunc='mean'\n)\n\nsuper_country_hosts\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_country_hosts = df.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        values='price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        index='country',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        columns='host_is_superhost',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        aggfunc='mean'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_country_hosts\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"super_country_hosts['t']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_country_hosts['t']\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Because the output of a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pivot_table"}]},{"type":"text","value":" is essentially a reduced dataframe, we can use the plot method from pandas to visualise our results."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"super_country_hosts.plot(kind='bar', title='Average Price Charged by Super and Regular Hosts', rot=45, color=['#434C5E', '#88C0D0'])\nplt.legend(['False', 'True'])\nplt.show()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_country_hosts.plot(kind='bar', title='Average Price Charged by Super and Regular Hosts', rot=45, color=['#434C5E', '#88C0D0'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.legend(['False', 'True'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.columns\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.columns\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"super_hosts = df.pivot_table(\n        values='price',\n        index='room_type',\n        columns='host_is_superhost',\n        aggfunc=['mean', 'count', 'median']\n)\n\nsuper_hosts\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_hosts = df.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        values='price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        index='room_type',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        columns='host_is_superhost',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        aggfunc=['mean', 'count', 'median']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_hosts\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"super_hosts.loc[:, 'mean'].loc[:, 't']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_hosts.loc[:, 'mean'].loc[:, 't']\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Upon first inspection it seems as if the most"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"cancel_super_host = df.pivot_table(\n    index='property_type',\n    values='price',\n    columns='host_is_superhost',\n    aggfunc='median'\n)\n\ncancel_super_host\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cancel_super_host = df.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='property_type',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values='price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='host_is_superhost',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc='median'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cancel_super_host\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we can also perform operations with the reduced pivot table\ncancel_super_host['diff'] = cancel_super_host['t'] - cancel_super_host['f']\ncancel_super_host\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we can also perform operations with the reduced pivot table\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cancel_super_host['diff'] = cancel_super_host['t'] - cancel_super_host['f']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cancel_super_host\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can also explore very complex interactions within the data."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"identity_price = df.pivot_table(index=['host_is_superhost', 'country'], \n                                values=['price', 'cleaning_fee'], \n                                columns=['host_identity_verified', 'instant_bookable'],\n                                aggfunc=['count', 'mean'])\n\nidentity_price\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"identity_price = df.pivot_table(index=['host_is_superhost', 'country'], \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                values=['price', 'cleaning_fee'], \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                columns=['host_identity_verified', 'instant_bookable'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                aggfunc=['count', 'mean'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"identity_price\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I found that Japan has about 1500 listings from non-identified regular hosts whose listings are not instantly bookable."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"identity_price['count']['price']['f']['f'].loc['f', :].loc['f', :]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"identity_price['count']['price']['f']['f'].loc['f', :].loc['f', :]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"identity_price.loc['f', ('count', 'price', 'f', 'f')]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"identity_price.loc['f', ('count', 'price', 'f', 'f')]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As a side note. It would also be interesting to see whether there is a big gap between the distribution of reviews received by super hosts and regular hosts, and across rooms."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sns.set('notebook')\nsns.set(rc={'figure.figsize':(11.7, 8.27)})\nsns.violinplot(x=\"room_type\", \n               y=\"number_of_reviews\", \n               hue=\"host_is_superhost\", \n               data=df.sample(5000), \n               palette=\"Pastel1\")\nplt.title(\"Reviews Distribution by Host and Room Type\")\nplt.xlabel(\"Types of Rooms\")\nplt.ylabel(\"Prices\")\nplt.show()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sns.set('notebook')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sns.set(rc={'figure.figsize':(11.7, 8.27)})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sns.violinplot(x=\"room_type\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"               y=\"number_of_reviews\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"               hue=\"host_is_superhost\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"               data=df.sample(5000), \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"               palette=\"Pastel1\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.title(\"Reviews Distribution by Host and Room Type\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.xlabel(\"Types of Rooms\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.ylabel(\"Prices\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plt.show()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"groupby"},"children":[{"type":"text","value":"GroupBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To understand groups better, we cam create a multi-index object using the pandas method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".grouby()"}]},{"type":"text","value":". This method is another useful tool for aggregating data and one that you might end up using a lot for data analysis with Python. Its mechanics are a bit different than that of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pivot_tables"}]},{"type":"text","value":" but the results are almost the same. How does "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".groupby()"}]},{"type":"text","value":" works then"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We first call the method on our data, e.g. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.groupby"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We then select the variable or variables (as a list if multiple) that we would like to split our data by, e.g. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.groupby('cars')"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.groupby(['cars', 'cylinders'])"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We now have a lazy "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"groupby"}]},{"type":"text","value":" object from which we can select columns and aggregation methods for, e.g. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.groupby('cars')['km_per_galons'].mean()"}]},{"type":"text","value":" would give us the average kilometers per gallons by car brand"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We can also specify multiple aggregation functions for a column, or specific aggregation methods for each columns (e.g. as a dictionary "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{'column': 'mean'}"}]},{"type":"text","value":") using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".agg()"}]},{"type":"text","value":" method after the a specific columns or the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"groupby"}]},{"type":"text","value":" object itself"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can learn more about the awesome "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"groupby"}]},{"type":"text","value":" through the pandas documentation "},{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.head(2)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.head(2)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# first groupby\ngroup_rooms = df.groupby('room_type')\ngroup_rooms\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# first groupby\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"group_rooms = df.groupby('room_type')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"group_rooms\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# select one column\na_column = group_rooms['accommodates']\na_column\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# select one column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"a_column = group_rooms['accommodates']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"a_column\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# perform a computation on the column\na_column.max()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# perform a computation on the column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"a_column.max()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# you can call other pandas functions on that same column\n# here is the percentage of people each room accommodates\na_column.value_counts(normalize=True)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# you can call other pandas functions on that same column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# here is the percentage of people each room accommodates\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"a_column.value_counts(normalize=True)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# you can also describe a column by the categories of your groupby object\ngroup_rooms['price'].describe()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# you can also describe a column by the categories of your groupby object\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"group_rooms['price'].describe()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# in addition, you can be as specific as you want when specifying your aggregation methods\ngroup_rooms['cleaning_fee'].agg(['mean', 'count', 'max', 'min', 'var', 'std'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# in addition, you can be as specific as you want when specifying your aggregation methods\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"group_rooms['cleaning_fee'].agg(['mean', 'count', 'max', 'min', 'var', 'std'])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# multiple columns will give you multiple levels between your columns and aggregations\ngroup_rooms[['accommodates', 'beds']].agg(['mean', 'count', 'max', 'min', 'var', 'std'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# multiple columns will give you multiple levels between your columns and aggregations\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"group_rooms[['accommodates', 'beds']].agg(['mean', 'count', 'max', 'min', 'var', 'std'])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# you can also get multiple levels on the indeces with the groupby call\nrooms_cancel_policy = df.groupby(['room_type', 'cancellation_policy'])\nrooms_cancel_policy['number_of_reviews'].max()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# you can also get multiple levels on the indeces with the groupby call\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rooms_cancel_policy = df.groupby(['room_type', 'cancellation_policy'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rooms_cancel_policy['number_of_reviews'].max()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we can also aggregate specific columns\nspecific_group = df.groupby(['host_identity_verified', 'instant_bookable'])\nspecific_group.agg({\n    'price':'mean',\n    'cleaning_fee':'median',\n    'security_deposit': 'max',\n    'extra_people': 'min'\n})\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we can also aggregate specific columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"specific_group = df.groupby(['host_identity_verified', 'instant_bookable'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"specific_group.agg({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'price':'mean',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'cleaning_fee':'median',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'security_deposit': 'max',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'extra_people': 'min'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a pivot table with at least one index variable, two columns, and 3 aggregation methods."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-1"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a pivot table with a multi-index, one quantitative variable as the values, and 1 aggregation method."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-2"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a groupby object with 4 aggregation methods for 4 different columns."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-3"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a groupby object with a 2-level index, 3 columns, and 1 aggregation method."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_5-summary"},"children":[{"type":"text","value":"5. Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We have covered a lot in this module, so let's go over a few of the things we covered"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The three main branches of statistics, collecting, describing and inferring from data, at a high level"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A variety of techniques to deal with missing data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The shape and form of how data, structured and unstructured, might be collected"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Different approaches for collecting data through sampling, observation and experimentation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The characteristics of measures of central tendency and measures of variability and what each describes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"In-depth descriptive statistics and how to calculate these with plain Python"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We also covered a variety of aggregation, or cross-tabulation methods with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pivot_table()"}]},{"type":"text","value":" and the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".groupby()"}]},{"type":"text","value":" functions\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The best way to think of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".groupby()"}]},{"type":"text","value":" is by stating: _for each \"category or group\" I'm interested in, show me \"x\" column(s) aggregated by \"z\" method"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pivot_table()"}]},{"type":"text","value":" function provides us with a different kind of control over the way we cross-tabulate data"}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_6-references"},"children":[{"type":"text","value":"6. References"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Herne, H., & Huff, D. (1973). "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"How to Lie with Statistics"}]},{"type":"text","value":". Applied Statistics, 22(3), 401. doi: 10.2307/2346789"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Downey, Allen B. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Think Stats: Exploratory Data Analysis in Python"}]},{"type":"text","value":". Green Tea Press, 2014."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lock, Robin H., et al. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Statistics: Unlocking the Power of Data"}]},{"type":"text","value":". John Wiley & Sons, 2019."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"count","depth":2,"text":"Count"},{"id":"mean","depth":2,"text":"Mean"},{"id":"median","depth":2,"text":"Median"},{"id":"mode","depth":2,"text":"Mode"},{"id":"percentiles","depth":2,"text":"Percentiles"},{"id":"range","depth":2,"text":"Range"},{"id":"variance","depth":2,"text":"Variance"},{"id":"standard-deviation","depth":2,"text":"Standard Deviation"},{"id":"minimum-maximum","depth":2,"text":"Minimum & Maximum"},{"id":"skewness","depth":2,"text":"Skewness"},{"id":"kurtosis","depth":2,"text":"Kurtosis"},{"id":"pivot-tables","depth":2,"text":"Pivot Tables"},{"id":"groupby","depth":2,"text":"GroupBy"},{"id":"exercise","depth":2,"text":"Exercise"},{"id":"exercise-1","depth":2,"text":"Exercise"},{"id":"exercise-2","depth":2,"text":"Exercise"},{"id":"exercise-3","depth":2,"text":"Exercise"}]}},"_type":"markdown","_id":"content:2.analytics:5.describing_data.md","_source":"content","_file":"2.analytics/5.describing_data.md","_extension":"md"},{"_path":"/analytics/eda","_dir":"analytics","_draft":false,"_partial":false,"_locale":"","title":"Exploratory Data Analysis","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"exploratory-data-analysis"},"children":[{"type":"text","value":"Exploratory Data Analysis"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“Most of the world will make decisions by either guessing or using their gut. They will be either lucky or wrong.” ~ Suhail Doshi"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“There is nothing more deceptive than an obvious fact.” ~ (Sherlock Holmes) Arthur Conan Doyle"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"eda","src":"https://mir-s3-cdn-cf.behance.net/project_modules/fs/3db83c97871397.5ecf4f75da3b3.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://www.behance.net/weiyi_1991c64f","rel":["nofollow"]},"children":[{"type":"text","value":"New Retail Big Data Situation Awareness Screen by Zoe Shen"}]}]},{"type":"element","tag":"h2","props":{"id":"notebook-outline"},"children":[{"type":"text","value":"Notebook Outline"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is EDA?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Questions To Explore"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Exploratory Data Analysis Stage\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A Bit of Data Prep"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Exploratory Stage"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dashboard"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Takeaways / Reporting"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Blind Spots"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Future work"}]}]},{"type":"element","tag":"h2","props":{"id":"_1-what-is-eda"},"children":[{"type":"text","value":"1. What is EDA?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"gloabl_emission","src":"https://mir-s3-cdn-cf.behance.net/project_modules/1400_opt_1/a199d32434363.5635ff285dc8d.jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://www.behance.net/gallery/2434363/How-to-Reduce-CO2-Emission","rel":["nofollow"]},"children":[{"type":"text","value":"Paulina Urbańska"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exploratory Data Analysis (EDA) is summarised in the name itself, it is an approach to data analysis where the goal is the exploration of the data and not necessarily hypothesis/model testing, although this can happen at this stage."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Exploratory_data_analysis","rel":["nofollow"]},"children":[{"type":"text","value":"Wikepedia, along with all of its cited sources,"}]},{"type":"text","value":" has a great definition which in turn was derived from the work of late John Tukey, a well-known statistician who is considered the creator of EDA as a concept and approach to data analysis."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In statistics, exploratory data analysis is an approach to analyzing data sets to summarize their main characteristics, often with visual methods. A statistical model can be used or not, but primarily EDA is for seeing what the data can tell us beyond the formal modeling or hypothesis testing task. Exploratory data analysis was promoted by John Tukey to encourage statisticians to explore the data, and possibly formulate hypotheses that could lead to new data collection and experiments. EDA is different from initial data analysis (IDA), which focuses more narrowly on checking assumptions required for model fitting and hypothesis testing, and handling missing values and making transformations of variables as needed. EDA encompasses IDA."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Characteristics of EDA"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"It allows us to spot further inconsistencies within the data after the preparation stage"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"It helps us ask questions that expose facts about the data we have"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"It allows us to see complex interactions within the data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The visualisations at this stage are not necessarily meant to be publication-ready but rather quick and dirty constructs to asnwer questions from a different perspectives"}]}]},{"type":"element","tag":"h2","props":{"id":"_2-questions-to-explore"},"children":[{"type":"text","value":"2. Questions to Explore"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"funny_question","src":"https://imgs.xkcd.com/comics/questions.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://xkcd.com/1256/","rel":["nofollow"]},"children":[{"type":"text","value":"xkcd.com"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are the questions we will be exploring in this notebook. Before you head to the explanations, pause for a bit and think about how you would go about answering the following questions. Ask yourself, what kind of information would be most useful, which method/function and the like would be most appropriate to answer it? Should I visualise the answer as well?"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What does the distribution of our monetary columns look like?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What's the difference in the average price charged by super hosts versus the regular ones?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do more bathrooms make a listing more expensive? 🛁 | 🚽"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do more rooms make a listing more expensive?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Does the availability of more beds make a listing more expensive? 🛏"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Is there a noticeable price difference between room types offered by hosts? 🏘"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Is there a noticeable price difference between room types that offer different quantities of beds in the listing? 🛏 + 🛏 != 🛏"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"How important is it that our host is a verified one? ✍🏽"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Should we care whether the listings asks for a license or not?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do we need Wifi, or can we be without it?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reviews! How important are they in our decision to buy or not to buy? 🤔"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do we care about the cancellation policy?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is the average price difference between getting a listing that can be booked instantly vs one that we cannot book it instantly?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is the price difference between listings that charge a security deposit vs those that don't?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What does the average price between different property types look like?"}]}]},{"type":"element","tag":"h1","props":{"id":"_3-exploratory-data-analysis-stage"},"children":[{"type":"text","value":"3. Exploratory Data Analysis Stage"}]},{"type":"element","tag":"h2","props":{"id":"_31-a-bit-of-preparation"},"children":[{"type":"text","value":"3.1 A Bit of Preparation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will need to install the following packages for this session. Once you install them, make sure you restart the notebook before you begin working on the lesson."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# !conda install -c pyviz holoviews panel bokeh -y\n# !jupyter labextension install @pyviz/jupyterlab_pyviz\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# !conda install -c pyviz holoviews panel bokeh -y\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# !jupyter labextension install @pyviz/jupyterlab_pyviz\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import pandas as pd, os, numpy as np\nfrom bokeh.plotting import figure, show, output_file, output_notebook\nfrom bokeh.models import ColumnDataSource # similar to a pandas dataframe but specific for bokeh\nfrom bokeh.transform import dodge # a helpful tool for placing bar charts close to each other\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport holoviews as hv\nfrom holoviews import opts, dim\n\n\nimport urllib # we will use this again to get more websites\nfrom PIL import Image # we will be looking at some Airbnb images\nimport requests\nfrom io import BytesIO # for the images\n\npd.options.display.max_columns = None\npd.options.display.max_rows = None\npd.options.display.float_format = '{:.4f}'.format # reduce numbers to 4 decimals\nhv.extension('bokeh') # holoviews will be using bokeh behind the scenes\n\noutput_notebook()\n\n# this magic command helps us to not reload our session every time we install a new package\n\n%matplotlib inline\n%load_ext autoreload \n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd, os, numpy as np\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from bokeh.plotting import figure, show, output_file, output_notebook\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from bokeh.models import ColumnDataSource # similar to a pandas dataframe but specific for bokeh\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from bokeh.transform import dodge # a helpful tool for placing bar charts close to each other\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import seaborn as sns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import matplotlib.pyplot as plt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import holoviews as hv\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from holoviews import opts, dim\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import urllib # we will use this again to get more websites\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from PIL import Image # we will be looking at some Airbnb images\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import requests\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from io import BytesIO # for the images\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.options.display.max_columns = None\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.options.display.max_rows = None\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.options.display.float_format = '{:.4f}'.format # reduce numbers to 4 decimals\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"hv.extension('bokeh') # holoviews will be using bokeh behind the scenes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"output_notebook()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this magic command helps us to not reload our session every time we install a new package\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%matplotlib inline\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%load_ext autoreload\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's first add a variable with the path to where all of our data lives at. If yours is different than the one below, make sure you change the variable below to the correct path."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"path = '../data'\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"path = '../data'\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can choose to read in the cleaned dataset in whichever format you prefer, CSV or parquet. Uncomment the one you prefer and continue on."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" If you were not able to save your file in the parquet format at the end of the previous notebook, make sure you go back and install the packages at the end of the notebook before you run it again. For now, go on with your CSV file."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# csv file\n# df = pd.read_csv(os.path.join(path, 'clean_csv', 'clean_airbnb.csv'), parse_dates=True)\n\n# parquet file\ndf = pd.read_parquet(os.path.join(path, 'clean_parquet', 'clean_airbnb.parquet'))\n\ndf.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# csv file\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# df = pd.read_csv(os.path.join(path, 'clean_csv', 'clean_airbnb.csv'), parse_dates=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# parquet file\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df = pd.read_parquet(os.path.join(path, 'clean_parquet', 'clean_airbnb.parquet'))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's quickly examine our data\ndf.head(2)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's quickly examine our data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.head(2)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The first step we are going to take is to create a column that represents the real price per stay. You might wonder, what do we mean by the real price per stay, so here is a quick explanation for that. Airbnb is an online marketplace with buyers (us) and sellers (the hosts), and in the same way we have our own specifications regarding where we would like to stay, the hosts might also have their own specifications in regards to whom they rent their places to. Here are some characteristics we need to pay attention to when creating our real price column."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price is given per night"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"There is a cleaning fee which, if available, is not included in the price"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The minimum amount of nights one can rent a listing for differs from country to country, and from listing to listing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"There might be a security deposit we have to pay in advance"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The second step we are going to take is to start introducting our specifications to our analysis to narrow down the scope of our search. We will be traveling solo and even though our specifications will reflect this, each step of our process can also be extended to a much larger group of travelers."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's begin by creating our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"min_price_per_stay"}]},{"type":"text","value":" column by multiplying the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"price"}]},{"type":"text","value":" column by the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"minimum_nights"}]},{"type":"text","value":" column and then adding the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cleaning_fee"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"security_deposit"}]},{"type":"text","value":" columns. We will check the data types of our variables first to make sure these are all numerical variables."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's make sure all of the columns we need are numerical\ndf.dtypes\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's make sure all of the columns we need are numerical\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.dtypes\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"minimum_nights"}]},{"type":"text","value":" column was not of a numerical type so we will convert to an integer column in the cell below."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# minimum_nights was not numerical so we will convert it to int32 with the .astype() method\ndf['minimum_nights'] = df['minimum_nights'].astype(np.int32)\ndf['minimum_nights'].describe()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# minimum_nights was not numerical so we will convert it to int32 with the .astype() method\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['minimum_nights'] = df['minimum_nights'].astype(np.int32)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['minimum_nights'].describe()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's now create our true cost variable\ndf['min_price_per_stay'] = (df['price'] * df['minimum_nights']) + df['cleaning_fee'] + df['security_deposit']\ndf[['price', 'min_price_per_stay']].head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's now create our true cost variable\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['min_price_per_stay'] = (df['price'] * df['minimum_nights']) + df['cleaning_fee'] + df['security_deposit']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[['price', 'min_price_per_stay']].head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, let's examine the differences between the columns we just used, first throughout the entire dataset, and then split by country using the pandas "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"describe()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".groupby()"}]},{"type":"text","value":" methods to see what we have."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# select the columns we want\nmoney_columns = ['price', 'cleaning_fee', 'security_deposit', 'minimum_nights', 'min_price_per_stay']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# select the columns we want\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"money_columns = ['price', 'cleaning_fee', 'security_deposit', 'minimum_nights', 'min_price_per_stay']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# describe them to see what we have\ndf[money_columns].describe().T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# describe them to see what we have\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[money_columns].describe().T\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# now look at the distribution of these variables per country\nmoney_measures = df.groupby('country')[money_columns].agg(['min', 'mean', 'median', 'max'])\nmoney_measures.T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# now look at the distribution of these variables per country\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"money_measures = df.groupby('country')[money_columns].agg(['min', 'mean', 'median', 'max'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"money_measures.T\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The first thing that should come to our attention is the fact that we have extremely low and high prices that, although we may have been able to deal with during the cleaning stage, they would have been difficult to spot without some analysis throughout that stage (and we would have peaked at the data too 👀). Nonetheless, since we know our budget quite well, max 1,500 USD for 2 weeks, we will go ahead and filter out the listings that don't match that criterion. In addition, since we know (or assume that) it is very unlikely to see free listings (a price of 0) in Airbnb, we will get rid of any listing that costs less than 40 USD per stay, as this is a reasonable amount for a minimum per night (you can pick another value if you'd like)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create a max budget column by multiplying the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"price"}]},{"type":"text","value":" column by "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"14"}]},{"type":"text","value":" and then adding the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cleaning_fee"}]},{"type":"text","value":". We will count on getting our deposit back so we will not include it in this particular variable."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df['two_weeks_price'] = df['price'] * 14 + df['cleaning_fee']\ndf['two_weeks_price'].head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['two_weeks_price'] = df['price'] * 14 + df['cleaning_fee']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['two_weeks_price'].head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we have our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"two_weeks_price"}]},{"type":"text","value":" we will create a low price condition to filter out prices less then "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" can be anything you'd like). We will also create a minimum amount of nights condition as we are going on a 2 week trip, nothing more, nothing less. Lastly, we will need a budget condition for our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"two_weeks_price"}]},{"type":"text","value":" variable that filters out anything over 1,500 USD, and then we will filter our data using these conditions."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# our minimum amount\nlow_price_condition = df['price'] > 40\n# our highest amount\nbudget_condition = df['two_weeks_price'] <= 1500\n# minimum amount of nights cannot be greater than 2 weeks\nnights_min_condition = df['minimum_nights'] < 15\n# let's filter our data\ndf_budget = df[low_price_condition & budget_condition & nights_min_condition].copy()\ndf_budget.shape, df.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# our minimum amount\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"low_price_condition = df['price'] > 40\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# our highest amount\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"budget_condition = df['two_weeks_price'] <= 1500\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# minimum amount of nights cannot be greater than 2 weeks\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"nights_min_condition = df['minimum_nights'] < 15\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's filter our data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_budget = df[low_price_condition & budget_condition & nights_min_condition].copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_budget.shape, df.shape\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We should make sure there are no more "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" in the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"min"}]},{"type":"text","value":" index for the price column of our countries."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"money_measures = df_budget.groupby('country')[money_columns].agg(['min', 'mean', 'median', 'max'])\nmoney_measures.T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"money_measures = df_budget.groupby('country')[money_columns].agg(['min', 'mean', 'median', 'max'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"money_measures.T\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_32-exploratory-stage"},"children":[{"type":"text","value":"3.2 Exploratory Stage"}]},{"type":"element","tag":"h3","props":{"id":"question-1"},"children":[{"type":"text","value":"Question 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What does the distribution of our monetary columns look like? In other words, where are most of the prices at in relation to the most common vlues of our columns."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For this question we could use the pandas plotting functionality first, and then move on to making a bit more informative plots."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# plain pandas\nprice_hist = df_budget['price'].hist(bins=25)\nprice_hist;\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# plain pandas\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"price_hist = df_budget['price'].hist(bins=25)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"price_hist;\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We could also use the library we just imported, holoviews, with NumPy and create a nicer looking histograms. But, what is a histogram anyways? "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Histogram","rel":["nofollow"]},"children":[{"type":"text","value":"Acording to Wikipedia"}]},{"type":"text","value":" and their wonderful cited sources, a histogram is"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"an approximate representation of the distribution of numerical data. It was first introduced by Karl Pearson. To construct a histogram, the first step is to \"bin\" (or \"bucket\") the range of values—that is, divide the entire range of values into a series of intervals—and then count how many values fall into each interval. The bins are usually specified as consecutive, non-overlapping intervals of a variable. The bins (intervals) must be adjacent and are often (but not required to be) of equal size."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Awesome! How can we create one with holoviews and NumPy?"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"np.histogram()"}]},{"type":"text","value":" to create 2 new arrays, one with the edges of the bins and another with the frequencies of the values within each edge. The function returns a tuple with 2 arrays so we will unpack the tuple into 2 variables."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pass your two variables as a tuple with your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"edges"}]},{"type":"text","value":" first and the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"frequencies"}]},{"type":"text","value":" second, to the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"hv.Histogram"}]},{"type":"text","value":" function."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Evaluate your plot."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's see how this works."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"frequencies, edges = np.histogram(df_budget['price'], bins=40)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"frequencies, edges = np.histogram(df_budget['price'], bins=40)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"frequencies[:5] # first array\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"frequencies[:5] # first array\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"edges[:5] # second array\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"edges[:5] # second array\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"hv.Histogram((edges, frequencies)) # our dataviz\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"hv.Histogram((edges, frequencies)) # our dataviz\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It would be great if we could see all columns in one visualisation and have a widget to pick which column we'd like to see. Let's create just that."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First we will create a function that takes in a column, creates a numpy histogram based on the data and the column we have selected, and then create a holoviews histogram. Remember that "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"**kwargs"}]},{"type":"text","value":" means any combination of key-value pairs that could be overwritten or added to a function. We will call our new function "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"load_currency"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def load_currency(column, **kwargs):\n    frequencies, edges = np.histogram(df_budget[column], 50)\n    return hv.Histogram((frequencies, edges)).opts(framewise=True, tools=['hover'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def load_currency(column, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    frequencies, edges = np.histogram(df_budget[column], 50)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return hv.Histogram((frequencies, edges)).opts(framewise=True, tools=['hover'])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"money_columns = ['price', 'cleaning_fee', 'security_deposit', 'minimum_nights', 'min_price_per_stay', 'two_weeks_price']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"money_columns = ['price', 'cleaning_fee', 'security_deposit', 'minimum_nights', 'min_price_per_stay', 'two_weeks_price']\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will then use holoviews "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DynamicMap"}]},{"type":"text","value":" function as it allows us to map functions to the data to make interactive charts. The first argument is the plain function we just created and the second is the key dimension where the interactivity is coming from. In our case, this is our list of currency columns which will now be in a dropdown box for us to pick and choose. We will assign our new object to a variable called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dmap"}]},{"type":"text","value":" and finish our visualisation by adding some options to the figure, mainly, height and width. The last step is to tell holoviews where these columns are coming from using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".redim.values()"}]},{"type":"text","value":" method. Note that "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Money_Cols"}]},{"type":"text","value":" is a name we came up with for the widget but it can be anything we'd like. All we need to do is to make sure that we use the same name for our kdims argument."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" You could add more numerical variables to the list above and visualize even more histograms."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"dmap = hv.DynamicMap(load_currency, kdims='Money_Cols').redim.values(Money_Cols=money_columns)\ndmap.opts(height=600, width=800)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dmap = hv.DynamicMap(load_currency, kdims='Money_Cols').redim.values(Money_Cols=money_columns)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dmap.opts(height=600, width=800)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"That's an awesome visualisation and it allows us to evaluate the dispersion within our monetary columns more clearly. See if you can tweak the function and other parameters to come up with another cool visualization."}]},{"type":"element","tag":"h3","props":{"id":"question-2"},"children":[{"type":"text","value":"Question 2"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What's the difference in the average price charged by super hosts versus the regular ones? What would be the difference if we were to split it by country?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"price_super_diff = df_budget.pivot_table(\n    columns='host_is_superhost',\n    values='two_weeks_price',\n    aggfunc='mean'\n)\nprice_super_diff\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"price_super_diff = df_budget.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='host_is_superhost',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values='two_weeks_price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc='mean'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"price_super_diff\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"price_super_diff['t'] - price_super_diff['f']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"price_super_diff['t'] - price_super_diff['f']\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Not a big difference at all. Let's look at the same measure but by country now."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"q1 = df_budget.pivot_table(\n    index='country',\n    columns='host_is_superhost',\n    values='two_weeks_price',\n    aggfunc='mean'\n)\nq1\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"q1 = df_budget.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='country',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='host_is_superhost',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values='two_weeks_price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc='mean'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"q1\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As we can see, even though there are some instances where the regular hosts are more expensive than the super hosts, for the most part, super hosts seem to have slightly higher prices for a two week stay than the regular ones. Let's go ahead and visualize this."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will first use "},{"type":"element","tag":"a","props":{"href":"https://docs.bokeh.org/en/latest/docs/user_guide/data.html","rel":["nofollow"]},"children":[{"type":"text","value":"bokeh's ColumnDataSource object to create"}]},{"type":"text","value":" a bokeh-specific dataframe. This makes it easier for bokeh to convert any specification to JavaScript code before creating and showing the plot for us. In addition, it not only allows us to share data between different plots but there are also bokeh objects/glyphs/models that will only interact with data coming from a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ColumnDataSource"}]},{"type":"text","value":" frame. To use it we can pass in the full dataset or specify the pieces of a dataset we will need using a dictionary or a similar object. We will use the dictionary to reassign all of the pieces from our table above and add this to a variable called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"source"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"source = ColumnDataSource(dict(\n    countries=q1.index,\n    super_host=q1.t,\n    regular_host=q1.f\n))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"source = ColumnDataSource(dict(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    countries=q1.index,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    super_host=q1.t,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    regular_host=q1.f\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"))\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will now create a bar chart with our data."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# create your figure\np = figure(x_range=list(q1.index), # the names or numbers to be used in the x axis\n           plot_height=350,\n           title=\"Average Cost for a 2-week Stay per Country\",\n           toolbar_location=None, tools=\"\") # we won't be using any toolbars here but you can if you'd like\n\np.vbar(x=dodge('countries', -0.15, range=p.x_range), # dodge helps us separate the bars\n       top='super_host', \n       width=0.25, # this is the width of the green bars\n       source=source, # the data\n       color=\"#A3BE8C\", legend_label=\"Super Host\")\n\np.vbar(x=dodge('countries',  0.15,  range=p.x_range), # dodge helps us separate the bars\n       top='regular_host', width=0.25, source=source,\n       color=\"#5E81AC\", legend_label=\"Regular Host\")\n\n\np.x_range.range_padding = 0.3 # the space from the range of countries to the edges of the figure\np.xgrid.grid_line_color = None # bars from each country to the top\np.legend.location = (320, 255) # play with these numbers and see where you can place the legend at\np.legend.orientation = \"horizontal\" # items are next to each other in the legend\n\nshow(p)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# create your figure\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"p = figure(x_range=list(q1.index), # the names or numbers to be used in the x axis\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"           plot_height=350,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"           title=\"Average Cost for a 2-week Stay per Country\",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"           toolbar_location=None, tools=\"\") # we won't be using any toolbars here but you can if you'd like\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"p.vbar(x=dodge('countries', -0.15, range=p.x_range), # dodge helps us separate the bars\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"       top='super_host', \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"       width=0.25, # this is the width of the green bars\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"       source=source, # the data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"       color=\"#A3BE8C\", legend_label=\"Super Host\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"p.vbar(x=dodge('countries',  0.15,  range=p.x_range), # dodge helps us separate the bars\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"       top='regular_host', width=0.25, source=source,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"       color=\"#5E81AC\", legend_label=\"Regular Host\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"p.x_range.range_padding = 0.3 # the space from the range of countries to the edges of the figure\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"p.xgrid.grid_line_color = None # bars from each country to the top\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"p.legend.location = (320, 255) # play with these numbers and see where you can place the legend at\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"p.legend.orientation = \"horizontal\" # items are next to each other in the legend\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"show(p)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There doesn't seem to be a big difference between the prices charged by super hosts and regular hosts among the countries we picked. Let's keep exploring."}]},{"type":"element","tag":"h3","props":{"id":"question-3"},"children":[{"type":"text","value":"Question 3"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Do more bathrooms make a listing more expensive?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To answer this question, let's first plot the distribution of prices among the bathrooms available per listing."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"bathrooms_group = df_budget.groupby('bathrooms')\nbathrooms_group['two_weeks_price'].mean().plot(kind='bar', rot=-70);\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bathrooms_group = df_budget.groupby('bathrooms')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bathrooms_group['two_weeks_price'].mean().plot(kind='bar', rot=-70);\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It seems as if listings with 7.5 bathrooms will give us the absolute best deal, right? Let's look at the frequencies of these listings first to see whether this is a true average of more than one value."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"bathrooms_group['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bathrooms_group['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In effect, this average is not what we were expecting, but, we can explore further and see what's up with the ones with a lot of bathrooms and a relatively low price. Remember our image function?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def image_show(image_url):\n    return Image.open(BytesIO(requests.get(image_url).content))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def image_show(image_url):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return Image.open(BytesIO(requests.get(image_url).content))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"bathroom_num = 7.5\nsome_images = df_budget.loc[df_budget['bathrooms'] == bathroom_num, ['id', 'picture_url', 'two_weeks_price']]\nsome_images.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bathroom_num = 7.5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_images = df_budget.loc[df_budget['bathrooms'] == bathroom_num, ['id', 'picture_url', 'two_weeks_price']]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_images.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"image_show(some_images.iloc[0, 1])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"image_show(some_images.iloc[0, 1])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Okay at least we know that we do not want to stay a place without a single bathroom, so we will remove observations without at least one bathroom and assign the resulting dataframe to a new variable."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"bathroom_cond = df_budget['bathrooms'] < 1 # we have to have bathrooms\nbathroom_cond.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bathroom_cond = df_budget['bathrooms'] < 1 # we have to have bathrooms\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bathroom_cond.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_bath = df_budget[~bathroom_cond].copy()\nprint(f\"We reduced our search space by {df_budget.shape[0] - df_bath.shape[0]} listings!!\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_bath = df_budget[~bathroom_cond].copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"We reduced our search space by {df_budget.shape[0] - df_bath.shape[0]} listings!!\")\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"question-4"},"children":[{"type":"text","value":"Question 4"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Do more rooms make a listing more expensive on average? or, put in other words, what is the difference between prices in a listing with 0 or a few bedrooms versus a listing with (say) more than 5?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"room_num_group = df_bath.groupby('bedrooms')['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\nroom_num_group\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"room_num_group = df_bath.groupby('bedrooms')['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"room_num_group\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"room_num_group.iloc[:, 1:].plot(kind='bar');\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"room_num_group.iloc[:, 1:].plot(kind='bar');\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"room_num_group['mean'].plot(kind='bar');\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"room_num_group['mean'].plot(kind='bar');\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can't really compare averages here as the amount beds available in our dataset differs drastically, but there's still something useful to be said though. Let's look at the sorted values in decreasing order to see if we can spot the lowest prices of all. We'll create a function that takes in a dataframe, a column name, and a number to display after it sorts the array. We will then use our function in a for loop to print all of the variables."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def sort_n_show(series, col_to_sort, n_toshow):\n    print(series.sort_values(col_to_sort)[col_to_sort][:n_toshow])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def sort_n_show(series, col_to_sort, n_toshow):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(series.sort_values(col_to_sort)[col_to_sort][:n_toshow])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"for col in room_num_group.columns:\n    print(f\"This is the {col} column\")\n    sort_n_show(room_num_group, col, 3)\n    print('-' * 30)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"for col in room_num_group.columns:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(f\"This is the {col} column\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    sort_n_show(room_num_group, col, 3)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print('-' * 30)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Although 12 bedrooms seem to be the one with the overall lowest price (and the one that appears the most), we need to do some further digging to really be sure of any selection. Before we move on, let's have a look at our infamous cheap listing with 12 bedrooms."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_budget.loc[df_budget['bedrooms'] == 12, 'picture_url']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_budget.loc[df_budget['bedrooms'] == 12, 'picture_url']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"image_show(df_budget.loc[df_budget['bedrooms'] == 12, 'picture_url'].iloc[1])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"image_show(df_budget.loc[df_budget['bedrooms'] == 12, 'picture_url'].iloc[1])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_budget.loc[df_budget['bedrooms'] == 12, 'description'].iloc[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_budget.loc[df_budget['bedrooms'] == 12, 'description'].iloc[0]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ahhh! That makes sense now, the guest house is not necessarily commenting on a room per se but rather putting down information that belongs to both, the entire house and the rooms. Hence, this might be a bargain for such a low price. Let's keep exploring though."}]},{"type":"element","tag":"h3","props":{"id":"question-5"},"children":[{"type":"text","value":"Question 5"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What about the beds? Do we care about the amount of beds available within our listing, and/or is there a price difference between having more, none, or just 1? In other words, does the availability of more beds make a listing more expensive?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"beds_group = df_bath.groupby('beds')['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\nbeds_group.T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"beds_group = df_bath.groupby('beds')['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"beds_group.T\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"prices_two = df_bath['two_weeks_price'] > 1498.2335\nbeds_0 = df_bath['beds'] == 0\nimage_show(df_bath.loc[prices_two & beds_0, 'picture_url'].iloc[0])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"prices_two = df_bath['two_weeks_price'] > 1498.2335\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"beds_0 = df_bath['beds'] == 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"image_show(df_bath.loc[prices_two & beds_0, 'picture_url'].iloc[0])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"beds_group['mean'].plot(kind='bar');\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"beds_group['mean'].plot(kind='bar');\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"While there is very little variation within the minimum price of a listing regardless of the amount of beds available, the median and mean tell a different story. As shown in the table and image above, while the minimum prices vary drastically, the mean and median do seem to be capturing the most commmon prices for x number of beds available in a listing. The oddball here was the number 22. We don't necessarily want to stay in a room with 22 beds if we don't have to so let's see what the image of that listing has to offer."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"bed_url = df_bath.loc[df_bath['beds'] == 22, 'picture_url'].iloc[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bed_url = df_bath.loc[df_bath['beds'] == 22, 'picture_url'].iloc[0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"image_show(bed_url)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"image_show(bed_url)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"While this is the second time we see this listing with the super low price, and while it doesn't seem like that bad a deal to take, we'll continue exploring to see if we can find better offerings."}]},{"type":"element","tag":"h3","props":{"id":"question-6"},"children":[{"type":"text","value":"Question 6"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Is there a noticeable price difference between room types offered by hosts?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"rooms = df_bath.groupby('room_type')['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\nrooms\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rooms = df_bath.groupby('room_type')['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rooms\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"roomba = rooms[['min', 'mean', 'median', 'max']].plot(kind='bar', rot=45)\nroomba;\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"roomba = rooms[['min', 'mean', 'median', 'max']].plot(kind='bar', rot=45)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"roomba;\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here we can see that there are not that many differences between most of the prices per se but the n count differs drastically between room type, and the shared rooms seem to have the lowest price of all on average. Let's keep exploring."}]},{"type":"element","tag":"h3","props":{"id":"question-7"},"children":[{"type":"text","value":"Question 7"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Is there a noticeable average price difference between room types that offer different quantities of beds?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create a dummy variable of three categories for no beds, 1 bed, or more beds. We will use a function alogside some if-else statements, and the apply it to every element in our beds column."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def get_a_dummy(x):\n    if x == 1:\n        return \"One\"\n    elif x < 1:\n        return 'None'\n    else:\n        return \"More than One\"\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def get_a_dummy(x):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if x == 1:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        return \"One\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif x < 1:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        return 'None'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        return \"More than One\"\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_bath['beds_dummy'] = df_bath.loc[:, 'beds'].apply(get_a_dummy).copy() # applies a function to every element in a column\ndf_bath['beds_dummy'].value_counts()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_bath['beds_dummy'] = df_bath.loc[:, 'beds'].apply(get_a_dummy).copy() # applies a function to every element in a column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_bath['beds_dummy'].value_counts()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create a slightly more complex groupby object and see how our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"two_weeks_price"}]},{"type":"text","value":" changes with our new categorical variables."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"rooms_and_beds = df_bath.groupby(['room_type', 'beds_dummy'])['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\nrooms_and_beds.T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rooms_and_beds = df_bath.groupby(['room_type', 'beds_dummy'])['two_weeks_price'].agg(['count', 'min', 'mean', 'median', 'max'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rooms_and_beds.T\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So we want at least one bed, and because of this, we will filter out those with no beds whatsoever."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_beds = df_bath[df_bath['beds_dummy'] != 'None'].copy()\nprint(f\"We reduced our search by {df_bath.shape[0] - df_beds.shape[0]} listings!!\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_beds = df_bath[df_bath['beds_dummy'] != 'None'].copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"We reduced our search by {df_bath.shape[0] - df_beds.shape[0]} listings!!\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_beds.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_beds.shape\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"question-8"},"children":[{"type":"text","value":"Question 8"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"How important is it that our host is a verified one? Should we stay with a host that has not been verified? Probably not, but let's see what we have in terms of prices."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_beds.host_identity_verified.value_counts()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_beds.host_identity_verified.value_counts()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_beds.pivot_table(\n    index='host_identity_verified',\n    columns='host_is_superhost',\n    values='two_weeks_price',\n    aggfunc='count'\n)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_beds.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='host_identity_verified',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='host_is_superhost',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values='two_weeks_price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc='count'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_beds.pivot_table(\n    index='host_identity_verified',\n    columns='host_is_superhost',\n    values='two_weeks_price',\n    aggfunc='mean'\n)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_beds.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='host_identity_verified',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='host_is_superhost',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values='two_weeks_price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc='mean'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Is it even possible to be a super host without being verified first? Apparently one can, but the verified ones are still cheaper. Let's go ahead and remove the hosts that have not been verified."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_verified = df_beds[df_beds['host_identity_verified'] == 't'].copy()\nprint(f\"We reduced our search by {df_beds.shape[0] - df_verified.shape[0]} listings!!\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_verified = df_beds[df_beds['host_identity_verified'] == 't'].copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"We reduced our search by {df_beds.shape[0] - df_verified.shape[0]} listings!!\")\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"question-9"},"children":[{"type":"text","value":"Question 9"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Should we care whether the listings asks for a license or not?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We don't have a license for either of this countries and your intructor, personally, does not have one at all (although he is a great driver nontheless 😎 + 🚗 = 🙌🏼), but that does not mean we should get rid of the ones that require one since we technically don't know whether they mean an ID or an actual license. In addition, we might be getting rid of a lot of obsevations that we would not want to get rid of in the first place. Let's examine this variable."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_verified.requires_license.value_counts()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_verified.requires_license.value_counts()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_verified.pivot_table(\n    index='room_type',\n    columns='requires_license',\n    values=['two_weeks_price', 'cleaning_fee'],\n    aggfunc=['count', 'mean']\n)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_verified.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='room_type',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='requires_license',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values=['two_weeks_price', 'cleaning_fee'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc=['count', 'mean']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It seems upon first inspection the price for our stay is cheaper with hosts that don't require a lisence. Let's see the rest of the story by country."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_verified.pivot_table(\n    index='country',\n    columns='requires_license',\n    values='two_weeks_price',\n    aggfunc=['count', 'mean']\n)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_verified.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='country',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='requires_license',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values='two_weeks_price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc=['count', 'mean']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In effect, if we get rid of the listings that do require a lisence (which might be the hosts saying you need an ID), we would be getting rid of all listings in Japan and we don't want that to happen."}]},{"type":"element","tag":"h3","props":{"id":"question-10"},"children":[{"type":"text","value":"Question 10"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Do we need Wifi, or can we be without it?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_verified.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_verified.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_verified['amenities'].head().iloc[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_verified['amenities'].head().iloc[0]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"wifi_yes = df_verified.amenities.str.contains('Wifi', case=False)\nwifi_yes.sum()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"wifi_yes = df_verified.amenities.str.contains('Wifi', case=False)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"wifi_yes.sum()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"hot_water = df_verified.amenities.str.contains('Washer', case=False)\nhot_water.sum()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"hot_water = df_verified.amenities.str.contains('Washer', case=False)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"hot_water.sum()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_verified.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_verified.shape\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We won't have service and would hate to miss any important information regarding any activity we might have scheduled ahead of time. Because of this, we will have to take out the places that do not include Wifi."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_wifi = df_verified[wifi_yes].copy()\ndf_wifi.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_wifi = df_verified[wifi_yes].copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_wifi.shape\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"question-11"},"children":[{"type":"text","value":"Question 11"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Reviews! How important are they in our decision to rent or not to rent? 🤔"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's look at the distribution first."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_wifi.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_wifi.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_wifi['number_of_reviews'].describe()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_wifi['number_of_reviews'].describe()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Review columns are informative but we need to make sure there are no reviews equal to 0 before we examine the next ones. That way we can actually explore them."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's extract the reviews columns."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"review_cols = [col for col in list(df_wifi.columns) if 'review_scores' in col]\nreview_cols\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"review_cols = [col for col in list(df_wifi.columns) if 'review_scores' in col]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"review_cols\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"reviews_condition = df_wifi['number_of_reviews'] != 0 # condition for no reviews\nyes_reviews = df_wifi.loc[reviews_condition].copy() # dataset with reviews\nno_reviews = df_wifi.loc[~reviews_condition].copy() # dataset without reviews\nyes_reviews['number_of_reviews'].describe(), no_reviews['number_of_reviews'].describe()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"reviews_condition = df_wifi['number_of_reviews'] != 0 # condition for no reviews\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"yes_reviews = df_wifi.loc[reviews_condition].copy() # dataset with reviews\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"no_reviews = df_wifi.loc[~reviews_condition].copy() # dataset without reviews\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"yes_reviews['number_of_reviews'].describe(), no_reviews['number_of_reviews'].describe()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"yes_reviews[review_cols].describe().T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"yes_reviews[review_cols].describe().T\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"yes_reviews.groupby(['country', 'room_type'])[review_cols].mean().T\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"yes_reviews.groupby(['country', 'room_type'])[review_cols].mean().T\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"revs_price = sns.scatterplot(x='review_scores_rating', y='two_weeks_price', data=yes_reviews)\nrevs_price;\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"revs_price = sns.scatterplot(x='review_scores_rating', y='two_weeks_price', data=yes_reviews)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"revs_price;\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice how the story changes when we split by room. We know we don't want to spend a fortune with this trip, but we are also aware that a bad pick could be detrimental to our stay. So, since we rather err on the cautious side, let's pick a cut off point for the reviews that makes sense to us."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"clean = yes_reviews['review_scores_cleanliness'] > 9\nrating = yes_reviews['review_scores_rating'] > 85\nvalue = yes_reviews['review_scores_value'] > 8\naccuracy = yes_reviews['review_scores_accuracy'] > 9\ncheckin = yes_reviews['review_scores_checkin'] > 7.5\ncomms = yes_reviews['review_scores_communication'] > 8\nlocation = yes_reviews['review_scores_location'] > 8.5\nrating.head(2)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clean = yes_reviews['review_scores_cleanliness'] > 9\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rating = yes_reviews['review_scores_rating'] > 85\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"value = yes_reviews['review_scores_value'] > 8\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"accuracy = yes_reviews['review_scores_accuracy'] > 9\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"checkin = yes_reviews['review_scores_checkin'] > 7.5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"comms = yes_reviews['review_scores_communication'] > 8\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"location = yes_reviews['review_scores_location'] > 8.5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rating.head(2)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_revs = yes_reviews.loc[clean & rating & value & accuracy & checkin & comms & location].copy()\ndf_revs.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_revs = yes_reviews.loc[clean & rating & value & accuracy & checkin & comms & location].copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_revs.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_revs.country.value_counts()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_revs.country.value_counts()\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"question-12"},"children":[{"type":"text","value":"Question 12"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Do we care about the cancellation policy?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since it is an expensive trip, it is important to at least account for last minute emergencies and be sure that we can recuperate at least some of our money."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_revs.cancellation_policy.value_counts()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_revs.cancellation_policy.value_counts()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_revs.cancellation_policy.value_counts().plot(kind='bar', rot=45)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_revs.cancellation_policy.value_counts().plot(kind='bar', rot=45)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"super_strict = df_revs['cancellation_policy'] != 'super_strict_30'\nsuper_less_strict = df_revs['cancellation_policy'] != 'strict_14_with_grace_period'\n\ndf_cancellation = df_revs.loc[super_strict & super_less_strict].copy()\ndf_cancellation.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_strict = df_revs['cancellation_policy'] != 'super_strict_30'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"super_less_strict = df_revs['cancellation_policy'] != 'strict_14_with_grace_period'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_cancellation = df_revs.loc[super_strict & super_less_strict].copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_cancellation.shape\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since emergencies don't happen 14 days in advance, maybe, we will got rid of the two very strict cancellation policies and are down to about 1000 listings."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_cancellation.country.value_counts()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_cancellation.country.value_counts()\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"question-13"},"children":[{"type":"text","value":"Question 13"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What is the average price difference between getting a listing that can be booked instantly vs one that we cannot book it instantly?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_cancellation.instant_bookable.value_counts()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_cancellation.instant_bookable.value_counts()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"money_columns\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"money_columns\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_cancellation.pivot_table(\n    index='country',\n    columns='instant_bookable',\n    values=money_columns,\n    aggfunc=['count', 'mean']\n)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_cancellation.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='country',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='instant_bookable',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values=money_columns,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc=['count', 'mean']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Prices don't seem to be too one-sided when it comes to the speed at which one can book the listing, because of this, we will not worry about this measure."}]},{"type":"element","tag":"h3","props":{"id":"question-14"},"children":[{"type":"text","value":"Question 14"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What is the price difference between listings that charge a security deposit vs those that don't?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's see the count difference first\ndeposit = df_cancellation['security_deposit'] == 0\nprint(f\"Require a deposit - {df_cancellation.loc[~deposit, 'security_deposit'].count()}\")\nprint(f\"Does not require a deposit - {df_cancellation.loc[deposit, 'security_deposit'].count()}\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's see the count difference first\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"deposit = df_cancellation['security_deposit'] == 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Require a deposit - {df_cancellation.loc[~deposit, 'security_deposit'].count()}\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(f\"Does not require a deposit - {df_cancellation.loc[deposit, 'security_deposit'].count()}\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_cancellation[~deposit].pivot_table(\n    index='country',\n    columns='room_type',\n    values=['two_weeks_price', 'security_deposit'],\n    aggfunc='mean'\n)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_cancellation[~deposit].pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='country',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    columns='room_type',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values=['two_weeks_price', 'security_deposit'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc='mean'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Overall, the average security deposit fee varies drastically and Belgium seems to be the country with the highest deposit fee on average. Prices per country don't seem to vary much in Entire home/apt but they do vary a bit in a Private room."}]},{"type":"element","tag":"h3","props":{"id":"question-15"},"children":[{"type":"text","value":"Question 15"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What does the average price between different property types look like?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_cancellation.pivot_table(\n    index='property_type',\n    values='two_weeks_price',\n    aggfunc=['count', 'mean']\n)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_cancellation.pivot_table(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    index='property_type',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    values='two_weeks_price',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    aggfunc=['count', 'mean']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"loft = df_cancellation.loc[df_cancellation['property_type'] == 'Hostel', ['picture_url', 'country']]\nloft.tail(28)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"loft = df_cancellation.loc[df_cancellation['property_type'] == 'Hostel', ['picture_url', 'country']]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"loft.tail(28)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"image_show(loft.iloc[0, 0])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"image_show(loft.iloc[0, 0])\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Come up with 5 questions to help you narrow the search to at most 100 listings."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_4-dashboard"},"children":[{"type":"text","value":"4. Dashboard"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"dashboard","src":"http://materialdesignblog.com/wp-content/uploads/2015/05/energy_mix.gif"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"http://materialdesignblog.com/10-material-design-concepts-of-captivating-data-visualization/","rel":["nofollow"]},"children":[{"type":"text","value":"Material Design Blog"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will now go over several of the many ways in which we can create a dashboard in Python. We will use the library panel for this. Here is the description of Panel from its website,"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Panel is an open-source Python library that lets you create custom interactive web apps and dashboards by connecting user-defined widgets to plots, images, tables, or text. ~ "},{"type":"element","tag":"a","props":{"href":"https://panel.holoviz.org/index.html","rel":["nofollow"]},"children":[{"type":"text","value":"HoloViz Team"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What is a dashboard anyways?"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A dashboard is a tool for summarizing critical or general information about a multitude of things that involve data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"In business dashboards are used as graphical user interfaces to show the performance of a company from different angles"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"At a research center or market research firm, dashboards are used to explore data interactively"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dashboards display important statistics found in a dataset"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dashboards are used to enhance the viewers experience and ability to see more than one piece of information at a time"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the words of data visualisation expert, "},{"type":"element","tag":"a","props":{"href":"http://www.stephen-few.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Steven Few"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"A dashboard is a visual display of the most important information needed to achieve one or more objectives; consolidated and arranged on a single screen so the information can be monitored at glance.”"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we now what a dashboard is, let's talk about how to build one with Python."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Load your libraries"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Load your data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sketch out what you need to build"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select a type, interactive or static"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select the appropriate chart for the information you would like to display"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Choose an appropriate color"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If it is interactive, build a function that returns your visual as an object"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If it is static assign your visual to a variable"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Build the blocks/components of your dashboard into a shape that makes sense for you, e.g. rows, columns, both, none"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"the list goes on ..."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's import Panel and a few other functions we will need. A few things to note about Panel first"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Panel has 3 main components: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Pane, Widget, and Panel"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Almost anything can go into a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Panel"}]},{"type":"text","value":" (e.g. markdown, visualisations, images, tables, etc.)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Widgets"}]},{"type":"text","value":" provide us with interactivity"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Pane"}]},{"type":"text","value":"'s can be any element, addition or subtraction for a Panel or dashboard"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The convention for importing Panel is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pn"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pn.extension()"}]},{"type":"text","value":" allows us to build interactive objects in the notebook"}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import panel as pn\nfrom bokeh.transform import factor_cmap, factor_mark\nfrom bokeh.palettes import brewer\n\npn.extension() # setting panel extension from the start allows us to create interactive object in the notebook\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import panel as pn\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from bokeh.transform import factor_cmap, factor_mark\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from bokeh.palettes import brewer\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pn.extension() # setting panel extension from the start allows us to create interactive object in the notebook\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create the title of one of our dashboards. Note that we can write markdown text in a piece of string that will go into panel."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"text = \"# A Place to Stay\\nThis dashboard has information found in three places we wish to stay at during our next vacation: South Africa, Japan, and Belgium\"\ntext\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"text = \"# A Place to Stay\\nThis dashboard has information found in three places we wish to stay at during our next vacation: South Africa, Japan, and Belgium\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"text\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will now use our two visualisations from earlier to create a small dashboard."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pn.Row(pn.Column(text, p), pn.Spacer(width=25), dmap)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pn.Row(pn.Column(text, p), pn.Spacer(width=25), dmap)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's talk about what just happened."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pn.Row()"}]},{"type":"text","value":" allows us to pass in visualisations, plain or markdown text, and other Panel options row-wise"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pn.Column()"}]},{"type":"text","value":" does the same as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pn.Row()"}]},{"type":"text","value":" but column-wise"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pn.Spacer"}]},{"type":"text","value":" allows us to put space in between our visualisations"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create an informative plot. We will plot the price per night against the amount of bathrooms in our dataset, and split each point by the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"room_type"}]},{"type":"text","value":" column and increase the size of the plots by the amount of beds in that listing. In addition, because our prices vary drastically, we will transform our price variable to a logarithmic scale, this means that the prices will be in the scale of 10 to the power of 1, 2, 3, and so forth. The benefit of doing this is that it allows us to better observe variables that have values very spread out."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note"}]},{"type":"text","value":" that we are using a sample of our entire dataset from earlier."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"listings_types = df.room_type.unique()\nMARKERS = ['hex', 'circle_x', 'triangle', 'square']  # you can pick any markers you want from bokeh\ncolors = ['#5E81AC', '#EBCB8B', '#A3BE8C', '#B48EAD'] # these colors belong to Nord\n\nbottom_left = figure(title = \"Prices, Bathrooms, and Rooms\", \n                     x_axis_label='Bathrooms', \n                     y_axis_label='Price 4 Our Stay', \n                     y_axis_type=\"log\"\n)\n\nbottom_left.scatter(y=\"price\", \n                    x=\"bathrooms\", \n                    source=df.sample(2000), \n                    legend_field=\"room_type\", # our legend will have our 4 room types\n                    fill_alpha=0.5, # the points will be a bit transparent\n                    size='beds', # they points size will increase by the amount of beds available in that listing\n                    marker=factor_mark('room_type', MARKERS, listings_types), # we map the markers to the room types\n                    color=factor_cmap('room_type', colors, listings_types) # we map the colors to the room types\n)\n\nshow(bottom_left)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"listings_types = df.room_type.unique()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MARKERS = ['hex', 'circle_x', 'triangle', 'square']  # you can pick any markers you want from bokeh\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"colors = ['#5E81AC', '#EBCB8B', '#A3BE8C', '#B48EAD'] # these colors belong to Nord\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bottom_left = figure(title = \"Prices, Bathrooms, and Rooms\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                     x_axis_label='Bathrooms', \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                     y_axis_label='Price 4 Our Stay', \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                     y_axis_type=\"log\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"bottom_left.scatter(y=\"price\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    x=\"bathrooms\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    source=df.sample(2000), \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    legend_field=\"room_type\", # our legend will have our 4 room types\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    fill_alpha=0.5, # the points will be a bit transparent\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    size='beds', # they points size will increase by the amount of beds available in that listing\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    marker=factor_mark('room_type', MARKERS, listings_types), # we map the markers to the room types\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    color=factor_cmap('room_type', colors, listings_types) # we map the colors to the room types\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"show(bottom_left)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will now proceed to create a sankey diagram with part of the process we have followed so far in the EDA stage. A Sankey diagram is an acyclical flow chart where the width of a line represents the proprotion of the values that flow from the source (e.g. a characteristic of feature in our data) to the target (e.g. the next characteristic or feature we mapped the source to). For the values we can use whichever measure we wish to have flowing through the diagram (e.g. prices, reviews, etc.). In essence, to create a Sankey diagram with holoviews we need the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"source"}]},{"type":"text","value":", a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target"}]},{"type":"text","value":", and the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"values"}]},{"type":"text","value":". The source and the target can be any 2 characteristics you want to see a measure flow from and to."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create these three measures (source, target, and the values), we will use pandas groupby to create a multilevel index where the source is the first level, the target is the second, and the values will be represented by whichever measure we aggregate by--our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"two_weeks_price"}]},{"type":"text","value":" in our case."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"edges1 = df_bath.groupby(['room_type', 'host_is_superhost'])['two_weeks_price'].mean().reset_index() # first flow\nedges2 = df_bath.groupby(['host_is_superhost', 'country'])['two_weeks_price'].mean().reset_index() # second flow\nedges3 = df_bath.groupby(['country', 'cancellation_policy'])['two_weeks_price'].mean().reset_index() # third flow\n\ndatasets = [edges1, edges2, edges3] # list of smaller datasets to concatenate\n\nfor dt in datasets: \n    dt.columns = ['source', 'target', 'value'] # change the column names of all three datasets\n\nedges = pd.concat(datasets, axis=0) # combine all three\nedges.head(10)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"edges1 = df_bath.groupby(['room_type', 'host_is_superhost'])['two_weeks_price'].mean().reset_index() # first flow\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"edges2 = df_bath.groupby(['host_is_superhost', 'country'])['two_weeks_price'].mean().reset_index() # second flow\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"edges3 = df_bath.groupby(['country', 'cancellation_policy'])['two_weeks_price'].mean().reset_index() # third flow\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"datasets = [edges1, edges2, edges3] # list of smaller datasets to concatenate\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"for dt in datasets: \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    dt.columns = ['source', 'target', 'value'] # change the column names of all three datasets\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"edges = pd.concat(datasets, axis=0) # combine all three\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"edges.head(10)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We are now ready to create our Sankey diagram. Luckily, Holoviews has abstracted most of the heavy lifting for us and all we need to do is to pass our new dataframe and a title to the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"hv.Sankey()"}]},{"type":"text","value":" function of Holoviews. As with most tools in Holoviews, we can add some options to the diagram such as, the position of the labels, the color of the target, the node color, and where to choose these colors from."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sankey = hv.Sankey(edges, label='Progression of Analysis')\nsankey.opts(label_position='left', edge_color='target', node_color='index', cmap='tab20')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sankey = hv.Sankey(edges, label='Progression of Analysis')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sankey.opts(label_position='left', edge_color='target', node_color='index', cmap='tab20')\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-1"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the same schema from above, try to add one or more layers to another Sankey diagram. Use a different variable name for it."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We are always interested in the distributions of our variables, especially the distributions of combined variables. With that in mind, let's examine the distribution of beds within the different kinds of properties in our listing."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"boxwhisker = hv.BoxWhisker(df_bath.sample(2000), # our data\n                           'property_type', # our x axis\n                           'beds', # our y axis\n                           label=\"Distribution of Beds per property Type\" # our title\n                          )\n\nboxwhisker.opts(show_legend=False, # don't show a legend, the x axis has the titles already\n                height=500, \n                width=800, \n                box_fill_color='property_type', # color the boxes by the property type\n                cmap='tab20', # color to choose from\n                xrotation=70 # rotate the labels of the axes\n               )\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"boxwhisker = hv.BoxWhisker(df_bath.sample(2000), # our data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                           'property_type', # our x axis\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                           'beds', # our y axis\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                           label=\"Distribution of Beds per property Type\" # our title\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                          )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"boxwhisker.opts(show_legend=False, # don't show a legend, the x axis has the titles already\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                height=500, \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                width=800, \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                box_fill_color='property_type', # color the boxes by the property type\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                cmap='tab20', # color to choose from\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                xrotation=70 # rotate the labels of the axes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"               )\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Panel can take any object we pass through it, this includes images, blocks of color, etc. Hence, our dashboard can have almost anything we want to add to it. Let's start with a picture."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"png = pn.panel('https://www.clicdata.com/wp-content/uploads/2019/07/blog-difference-bi-dataviz-data-analytics.png', width=400, height=125)\npng\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"png = pn.panel('https://www.clicdata.com/wp-content/uploads/2019/07/blog-difference-bi-dataviz-data-analytics.png', width=400, height=125)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"png\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the second dashboard we will create will use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GridSpec()"}]},{"type":"text","value":" function from Panel. As the name implies, it is a tool that allows us to create a grid full of objects to be displayed as a dashboard. The grid can be extended and contracted as necessary and to place objects in a specific spot we can assign elements in the same fashion in which we assigned elements to our NumPy matrices, by slicing the matrix/grid and assigning the elements we want to each spot."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, we can save any Panel object with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".save()"}]},{"type":"text","value":" function. We can save our dashboard as an HTML file and send/share it with anyone in an email, post, etc., or we can save it as a PNG, SVG, or JPEG file and share a snapshot of our dashboard."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create our dashboard."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# first create a variable containing your GridSpec object\n# sizing mode specifies if we want it expand and contract with different window sizes\ngspec = pn.GridSpec(sizing_mode='stretch_both', max_height=800, max_width=1000)\n\n# first row and first column, some color\ngspec[0, 0] = pn.Spacer(background='#88C0D0')\n\n# second row and first column, our picture from earlier\ngspec[1, 0] = png\n\n# third row and first column, our title for the dashboard\ngspec[2, 0] = text\n\n# first 2 rows and 2nd and 3rd columns, our boxplots\ngspec[0:3, 1:3] = boxwhisker\n\n# 4th and 5th rows and first column, our scatterplot\ngspec[3:5, 0] = bottom_left\n\n# 4th and 5th rows and 2nd and 3rd columns, our sankey diagram\ngspec[3:5, 1:3] = sankey\n\n# show the plot or save it by uncommenting the .save() method\ngspec.save('testing_dashboard.html')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# first create a variable containing your GridSpec object\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# sizing mode specifies if we want it expand and contract with different window sizes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"gspec = pn.GridSpec(sizing_mode='stretch_both', max_height=800, max_width=1000)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# first row and first column, some color\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"gspec[0, 0] = pn.Spacer(background='#88C0D0')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# second row and first column, our picture from earlier\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"gspec[1, 0] = png\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# third row and first column, our title for the dashboard\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"gspec[2, 0] = text\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# first 2 rows and 2nd and 3rd columns, our boxplots\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"gspec[0:3, 1:3] = boxwhisker\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# 4th and 5th rows and first column, our scatterplot\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"gspec[3:5, 0] = bottom_left\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# 4th and 5th rows and 2nd and 3rd columns, our sankey diagram\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"gspec[3:5, 1:3] = sankey\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# show the plot or save it by uncommenting the .save() method\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"gspec.save('testing_dashboard.html')\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will now create an interactive dashboard using the following columns."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"money_columns = ['price', 'cleaning_fee', 'security_deposit', 'min_price_per_stay', 'two_weeks_price']\nsome_features = ['bathrooms', 'bedrooms', 'beds', 'accommodates', 'guests_included']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"money_columns = ['price', 'cleaning_fee', 'security_deposit', 'min_price_per_stay', 'two_weeks_price']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"some_features = ['bathrooms', 'bedrooms', 'beds', 'accommodates', 'guests_included']\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One of the ways in which we create an interactive is by first creating functions that generate our desire plots and where the only argument we care about is the variable we want to see change. Here are the steps."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a list, or lists, of variables you want to see change"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a function that generates your plot and takes as an argument the variable(s) you want to see changing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create one or two variables using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pn.widgets.Select()"}]},{"type":"text","value":", pass as arguments\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"value - the starting variable from your list"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"options - the list of variables you want to choose from with your plot"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"name (optional) - a name for such variable"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"On top of your plotting function(s) add what is called a decorator using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@pn.depends()"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Decorators in Python are functions that can be wrapped around another function and provide some additional functionality to it. Think about it as having ice cream and cone, we can eat the ice cream without the cone using a different base but cone will not serve the same purpose without any ice cream. In the same fashion, a decorator add to a function but doesn't necesarily work on it own"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@pn.depends()"}]},{"type":"text","value":" you will pass the values you want your function to change by using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"var_name_you_picked.param.value"}]}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# the x axis will change by our list of features\nx = pn.widgets.Select(value='bathrooms', options=some_features, name='x')\n# the y axis will change by our monetary columns\ny = pn.widgets.Select(value='price', options=money_columns, name='y')\n\n\n@pn.depends(y.param.value, x.param.value) # the decorators always go on top of the function and start with a @ sign\ndef make_pbr_plot(y, x, **kwargs):\n    \"\"\"\n    This is the same plot we created a bit ago but it is now inside a function\n    and the only elements that will change are the x and y axes.\n    When a variable changes, so will the title of our plot as well as the axes titles\n    \"\"\"\n    \n    listings_types = ['Entire home/apt', 'Private room', 'Hotel room', 'Shared room']\n    MARKERS = ['hex', 'circle_x', 'triangle', 'square']\n    colors = ['#5E81AC', '#EBCB8B', '#A3BE8C', '#B48EAD']\n    \n    fig = figure(title = f\"{y.title()}, {x.title()}, and Rooms\", \n                 x_axis_label=f'{x.title()}', \n                 y_axis_label=f'{y.title()} 4 Our Stay', \n                 y_axis_type=\"log\")\n    \n    fig.scatter(y=y, x=x, source=df.sample(2000), legend_field=\"room_type\", fill_alpha=0.5, size='beds',\n          marker=factor_mark('room_type', MARKERS, listings_types),\n          color=factor_cmap('room_type', colors, listings_types))\n\n    return fig\n\n\n@pn.depends(x.param.value) # this function will only change the features of a listing\ndef cat_whiskers(x, **kwargs):\n    \"\"\"\n    Same function as before but by many features now\n    \"\"\"\n    title = f\"Rooms and {x.title()} distribution\"\n    boxwhisker = hv.BoxWhisker(df.sample(2000), 'room_type', x, label=title)\n    boxwhisker.opts(show_legend=False, width=600, box_fill_color='room_type', cmap='Set1')\n    return boxwhisker\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# the x axis will change by our list of features\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"x = pn.widgets.Select(value='bathrooms', options=some_features, name='x')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# the y axis will change by our monetary columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"y = pn.widgets.Select(value='price', options=money_columns, name='y')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@pn.depends(y.param.value, x.param.value) # the decorators always go on top of the function and start with a @ sign\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def make_pbr_plot(y, x, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    This is the same plot we created a bit ago but it is now inside a function\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    and the only elements that will change are the x and y axes.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    When a variable changes, so will the title of our plot as well as the axes titles\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    listings_types = ['Entire home/apt', 'Private room', 'Hotel room', 'Shared room']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    MARKERS = ['hex', 'circle_x', 'triangle', 'square']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    colors = ['#5E81AC', '#EBCB8B', '#A3BE8C', '#B48EAD']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    fig = figure(title = f\"{y.title()}, {x.title()}, and Rooms\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                 x_axis_label=f'{x.title()}', \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                 y_axis_label=f'{y.title()} 4 Our Stay', \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                 y_axis_type=\"log\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    fig.scatter(y=y, x=x, source=df.sample(2000), legend_field=\"room_type\", fill_alpha=0.5, size='beds',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"          marker=factor_mark('room_type', MARKERS, listings_types),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"          color=factor_cmap('room_type', colors, listings_types))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return fig\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@pn.depends(x.param.value) # this function will only change the features of a listing\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def cat_whiskers(x, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    Same function as before but by many features now\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    title = f\"Rooms and {x.title()} distribution\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    boxwhisker = hv.BoxWhisker(df.sample(2000), 'room_type', x, label=title)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    boxwhisker.opts(show_legend=False, width=600, box_fill_color='room_type', cmap='Set1')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return boxwhisker\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The last piece of the puzzle is to use this functions to create a dashboard that shows the widget to interact with the variables and our two charts from before. We will arrange our dashboard in 3 rows where on will have 5 elements, another will be a bit of space between the charts, and the next will be our second chart."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# this is our dashboard\nchild_1 = pn.Row( # this creates our rows\n    pn.Column('## Vars Explorer', x, y, pn.Spacer(width=25), cat_whiskers), # first element of our row has a column of 5 elements\n    pn.Spacer(width=25), # the 2nd element of our row has a bit of space for our charts\n    make_pbr_plot) # the 3rd element has our second chart\n\n\nchild_1#.save('example.html') # save it and share it with anyone : )\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# this is our dashboard\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"child_1 = pn.Row( # this creates our rows\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    pn.Column('## Vars Explorer', x, y, pn.Spacer(width=25), cat_whiskers), # first element of our row has a column of 5 elements\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    pn.Spacer(width=25), # the 2nd element of our row has a bit of space for our charts\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    make_pbr_plot) # the 3rd element has our second chart\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"child_1#.save('example.html') # save it and share it with anyone : )\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, panel also allows us to create multiple tabs that might contain anything we want. This includes dashboards, graphs, text, etc. You can add a name to each tab by passing a tuple where the first element is the name of the tab and the second is whatever you would like to display. Let's create one with two of our dashboards and the sankey diagram."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# initialise your object and pass in the tuples with the tab name and the onject you want to display.\npn.Tabs(\n    ('Analysis', child_1), \n    ('Process', pn.Column(\"# This is our Sankey Diagram\", sankey)),\n    ('Grid', gspec)\n    \n)#.save('example2.html') # save it and share it with friends : )\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# initialise your object and pass in the tuples with the tab name and the onject you want to display.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pn.Tabs(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ('Analysis', child_1), \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ('Process', pn.Column(\"# This is our Sankey Diagram\", sankey)),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ('Grid', gspec)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")#.save('example2.html') # save it and share it with friends : )\n"}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_5-takeaways-reporting"},"children":[{"type":"text","value":"5. Takeaways / Reporting"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exploratory data analysis is fun and informative. It is a stage in which questions come and go, answers fly in and out, and we, in our way, shape up our knowledge of the data at hand. It is even more fun to do so with a dataset we are interested in, should we be doing it for a personal project, of course. So what have we learned about our quest for a good place to stay at thus far"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Prices can vary by many different factors such as beds and bathrooms available as well as the room type, and having a pre-defined set of measures to go by (e.g. budget, minimum requirements such as at least 1 bathroom and 1 bed) can help us stay more focused during the analysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reviews are important and can give us a general idea on what to expect from a listing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Don't take out variables or characteristic from within a variable (e.g. lisence) without knowing the context"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Room type alongside our own pre-defined price measure, is one of the most important factors guiding our search"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Remember our Goal"}]},{"type":"text","value":" - To find the best place to stay at for our next vacation in terms of costs, venue, and things to do around it, given our top 3 destinations for 2021."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the set of criteria chosen before our data analysis, we can continue narrowing down even further the space of options to choose from. It is now you turn to go from 1000 to 100 or less options to choose from. Don't forget to visualise them with our image function!"}]},{"type":"element","tag":"h1","props":{"id":"_6-blind-spots"},"children":[{"type":"text","value":"6. Blind Spots"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are some additional questions or key points we could have completed or think about throughout our analysis."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could have continued crosstabulating different variables together to spot diverese interactions within our data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could have extracted more keywords from the listing description and even from the amenities variable"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could have explored the locations within our countries of choice further"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Were there any price differences between the defferent amount of time hosts have been with Airbnb?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Even though we need Wifi for certain, we did not calculate the difference in prices between it and not having it"}]}]},{"type":"element","tag":"h1","props":{"id":"_7-future-work"},"children":[{"type":"text","value":"7. Future work"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are some points we could explore and cover with further analysis."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could explore the actual reviews to gain more insight as to where the best place to stay at is. This would require the other datasets in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Inside Airbnb"}]},{"type":"text","value":" and diving deep into Text Analytics"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Some statistical modeling. We could have evaluated whether the differences in average prices given "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" measure were statistically significant or not"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Geospatial analysis. Are the prices within one location significantly different from another?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This is a shareable notebook with an analysis using previously generated data, other options could have been to create an app that refreshes its data every time Inside Airbnb scrapes data from Airbnb"}]}]},{"type":"element","tag":"h1","props":{"id":"awesome-work"},"children":[{"type":"text","value":"Awesome Work!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"congrats","src":"https://media.giphy.com/media/xUOrwiqZxXUiJewDrq/giphy.gif"},"children":[]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"notebook-outline","depth":2,"text":"Notebook Outline"},{"id":"_1-what-is-eda","depth":2,"text":"1. What is EDA?"},{"id":"_2-questions-to-explore","depth":2,"text":"2. Questions to Explore"},{"id":"_31-a-bit-of-preparation","depth":2,"text":"3.1 A Bit of Preparation"},{"id":"_32-exploratory-stage","depth":2,"text":"3.2 Exploratory Stage","children":[{"id":"question-1","depth":3,"text":"Question 1"},{"id":"question-2","depth":3,"text":"Question 2"},{"id":"question-3","depth":3,"text":"Question 3"},{"id":"question-4","depth":3,"text":"Question 4"},{"id":"question-5","depth":3,"text":"Question 5"},{"id":"question-6","depth":3,"text":"Question 6"},{"id":"question-7","depth":3,"text":"Question 7"},{"id":"question-8","depth":3,"text":"Question 8"},{"id":"question-9","depth":3,"text":"Question 9"},{"id":"question-10","depth":3,"text":"Question 10"},{"id":"question-11","depth":3,"text":"Question 11"},{"id":"question-12","depth":3,"text":"Question 12"},{"id":"question-13","depth":3,"text":"Question 13"},{"id":"question-14","depth":3,"text":"Question 14"},{"id":"question-15","depth":3,"text":"Question 15"}]},{"id":"exercise","depth":2,"text":"Exercise"},{"id":"exercise-1","depth":2,"text":"Exercise"}]}},"_type":"markdown","_id":"content:2.analytics:6.eda.md","_source":"content","_file":"2.analytics/6.eda.md","_extension":"md"},{"_path":"/data-engineering/_dir","_dir":"data-engineering","_draft":false,"_partial":true,"_locale":"","title":"Data Engineering","icon":"ri:settings-2-line","_id":"content:3.data-engineering:_dir.yml","_type":"yaml","_source":"content","_file":"3.data-engineering/_dir.yml","_extension":"yml"},{"_path":"/data-engineering/data_pipelines_getting_started","_dir":"data-engineering","_draft":false,"_partial":false,"_locale":"","title":"Data Pipelines From Scratch","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"data-pipelines-from-scratch"},"children":[{"type":"text","value":"Data Pipelines From Scratch"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“Without a systematic way to start and keep data clean, bad data will happen.” ~ Donato Diorio"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"flow","src":"https://drawio-app.com/wp-content/uploads/2019/05/How-to-create-flow-charts-in-drawio-1-1.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nSource: "},{"type":"element","tag":"a","props":{"href":"https://drawio-app.com/flowcharts/","rel":["nofollow"]},"children":[{"type":"text","value":"draw.io"}]}]},{"type":"element","tag":"h2","props":{"id":"table-of-contents"},"children":[{"type":"text","value":"Table of Contents"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##1.-Overview"},"children":[{"type":"text","value":"Overview"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##2.-Learning-Outcomes"},"children":[{"type":"text","value":"Learning Outcomes"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##3.-Data"},"children":[{"type":"text","value":"Data"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##4.-Tools"},"children":[{"type":"text","value":"Tools"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##5.-Data-Pipelines"},"children":[{"type":"text","value":"Data Pipelines"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##6.-Building-a-Framework"},"children":[{"type":"text","value":"Building a Framework"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Set Up Dev Environment"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Extract"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Transform"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Load"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##7.-Reproducible-Pipelines"},"children":[{"type":"text","value":"Reproducible Pipelines"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##8.-Scheduling"},"children":[{"type":"text","value":"Scheduling"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##9.-Exercises"},"children":[{"type":"text","value":"Exercises"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##10.-Resources"},"children":[{"type":"text","value":"Resources"}]}]}]},{"type":"element","tag":"h2","props":{"id":"_1-overview"},"children":[{"type":"text","value":"1. Overview"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to create successful and reproducible data pipelines we need -- at the bare minimum -- tools that allow us manage where and how we store our data, how we run our computations, and how we version control everything we do. This is what we will focus on in this part of the workshop."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The assumption of this section is that most of your data work can fit in a computer but, if the need were to arise, you could still use the code in this section with a beefier machine and it would get the job done without a problem."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since the files we'll interact with will most likely live in a remote server, we'll"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"extract a copy of the data we'll use and save it to our local files;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"transform the data into the shape and form we need it to be in;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"load it into a local data warehouse based on the popular tool, duckdb;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"version our code and data using dvc and git;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create a command line tool to run all of our jobs;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create a reproducible pipeline that can capture different workflows."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we get started, let's go over the learning outcomes for today. :)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note: While one of the main components of data orchestration is scheduling, you can sill create pipelines and reproducible workflows that can be triggered manually rather than via a schedule."}]},{"type":"element","tag":"h2","props":{"id":"_2-learning-outcomes"},"children":[{"type":"text","value":"2. Learning Outcomes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we get started, let's go over the learning outcomes for this section of the workshop."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By the end of this lesson you will be able to,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Discuss what ETL and ELT Pipelines are."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Understand how to read and combine data that comes from different sources."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create data pipelines using open-source tools."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Develop command line tools."}]}]},{"type":"element","tag":"h2","props":{"id":"_3-data"},"children":[{"type":"text","value":"3. Data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"bikes","src":"https://upload.wikimedia.org/wikipedia/commons/2/20/Bike_share.jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All three data files contain similar information about how many bicycles have been rented each hour, day, week and months for several years and for each city government we are working with."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can get more information about the data of each city using the following links."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://archive.ics.uci.edu/ml/datasets/Seoul+Bike+Sharing+Demand#","rel":["nofollow"]},"children":[{"type":"text","value":"Seoul, South Korea"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/hmavrodiev/london-bike-sharing-dataset","rel":["nofollow"]},"children":[{"type":"text","value":"London, England, UK"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/marklvl/bike-sharing-dataset?select=hour.csv","rel":["nofollow"]},"children":[{"type":"text","value":"Washington, DC, USA"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/datasets/imakash3011/rental-bike-sharing","rel":["nofollow"]},"children":[{"type":"text","value":"Porto, Portugal"}]},{"type":"text","value":" -- This one was shared in Kaggle, but you can also find the original source with more, up-to-date data, "},{"type":"element","tag":"a","props":{"href":"https://capitalbikeshare.com/system-data","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note: Some datasets might come with another file containing daily information, but for our purposes, we will be using the hourly one."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are the variables that appear in all data sets."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"London"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Seoul"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Washington"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Porto"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"instant"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"instant"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Rented Bike Count"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"dteday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temperature"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Hour"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"seasons"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"season"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"t2"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Temperature(C)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"year"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"yr"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"humidity"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Humidity(%)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"month"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"mnth"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"wind_speed"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Wind speed (m/s)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"hour"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"hr"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weather_code"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Visibility  (10m)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_holiday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"holiday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_holiday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Dew point temperature(ï¿½C)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weekday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weekday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_weekend"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Solar Radiation (MJ/m2)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"workingday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"workingday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"seasons"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Rainfall(mm)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weathersit"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weathersit"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Snowfall(cm)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temperature"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temp"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Seasons"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"atemp"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Holiday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"humidity"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"hum"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Functioning Day"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"wind_speed"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"windspeed"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"casual"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"casual"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"registered"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"registered"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"cnt"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since all of these datasets were generated with different logic (e.g. celsius vs fahrenheit, or other divergent measures) and, most likely, by different systems, we can expect more inconsistencies than just unmatching column names, numerical formats, and data collected."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will walk through an example pipeline and several cleaning steps after we discuss the tools we will be using today."}]},{"type":"element","tag":"h2","props":{"id":"_4-tools"},"children":[{"type":"text","value":"4. Tools"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The tools that we will use in this section of the workshop are the following."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/","rel":["nofollow"]},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":" - \"is a fast, powerful, flexible and easy to use open source data analysis and manipulation tool, built on top of the Python programming language.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://dvc.org/","rel":["nofollow"]},"children":[{"type":"text","value":"dvc"}]},{"type":"text","value":" - \"DVC is built to make ML models shareable and reproducible. It is designed to handle large files, data sets, machine learning models, and metrics as well as code.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://ibis-project.org/","rel":["nofollow"]},"children":[{"type":"text","value":"ibis"}]},{"type":"text","value":" - \"Ibis is a Python library that provides a lightweight, universal interface for data wrangling. It helps Python users explore and transform data of any size, stored anywhere.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://typer.tiangolo.com/","rel":["nofollow"]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":" - \"Typer is a library for building CLI applications that users will love using and developers will love creating. Based on Python 3.6+ type hints.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.python.org/3/library/pathlib.html","rel":["nofollow"]},"children":[{"type":"text","value":"pathlib"}]},{"type":"text","value":" - allows us to manipulate paths as if they were python objects."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's get started building data pipelines! :)"}]},{"type":"element","tag":"h2","props":{"id":"_5-data-pipelines"},"children":[{"type":"text","value":"5. Data Pipelines"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"etl_pipe","src":"https://editor.analyticsvidhya.com/uploads/899101.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nSource: "},{"type":"element","tag":"a","props":{"href":"https://www.striim.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Striim"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are different kinds of data pipelines, but two, in particular, dominate a big part of the data engineering world today, ETL and ELT pipelines."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are ETL Pipelines?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The acronym ETL stands for Extract, Transform, and Load, and it is the process where data gets extracted from one or multiple sources, it gets processed in-transit, and then it gets loaded into place where data consumers can use (e.g. a data warehouse). These consumers can be data analysts, data scientists, and machine learning engineers, among many others."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are ELT Pipelines?"}]},{"type":"text","value":"\nWith this approach, all the data, structured and unstructured, gets loaded into a data lake or warehouse before it gets transformed. With this approach, a lot of money spent on compute can be saved by only processing the data we need rather than all of it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are Reverse ETL Pipelines?"}]},{"type":"text","value":"\nReverse ETL tools take data from the data lake or warehouse back into business (critical) applications. For example, information about new customers that have not yet been populated into salesforce or other marketing tools for further use by the marketing, sales, and finance teams, and so on..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Why should you learn how to create them?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data Pipeline tools enable data integration strategies by allowing companies to gather data from multiple data sources and consolidate it into a single, centralized location. ETL tools also make it possible for different types of data to work together, for example, data generated by the company can be combined with GPS and Temperature data coming from different sources."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As data professionals, our task is to create value for our organizations, our clients and our collaborators using some of or all the data at our disposal. However, there are factors that can delay this process a little bit or a lot, for example, we often need to understand beforehand,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about the process by which the data we're dealing with was generated, e.g.\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Point of sale"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Clicks on an online marketplace like Amazon, Etzy, Ebay, ect."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A/B Test Results"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about the transformations that occurred during the cleaning and merging process, prior to us jumping on board,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Celsius degrees were converted into fahrenheit"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Prices in Chilean pesos were converted to Rands"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Non-numerical and unavailable observations now contain \"Not Available\" or \"Unknown\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about how the data was stored and where. For instance,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Parquet format"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NOSQL or SQL database"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CSV"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Understanding how the three processes described above flow will help us have more knowledge about the data that we are going to use, and how to best access it, transform it, and model it before we put it to good use."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's walk through an example of a data pipeline using data from wildfires between 1983-2020 in the United States. You can find more information about the dataset "},{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/kkhandekar/total-wildfires-acres-affected-1983-2020","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"code":"import pandas as pd\nfrom pathlib import Path\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from pathlib import Path\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"!pwd\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"!pwd\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"data_path = Path().cwd().parent/\"data\"\ndata_path\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_path = Path().cwd().parent/\"data\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_path\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"example_data_in = data_path.joinpath(\"example\", \"federal_firefighting_costs.csv\")\npd.read_csv(example_data_in).head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_data_in = data_path.joinpath(\"example\", \"federal_firefighting_costs.csv\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_csv(example_data_in).head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"pd.read_csv(example_data_in).dtypes\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_csv(example_data_in).dtypes\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, most columns contain a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$"}]},{"type":"text","value":" dollar sign and some "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":","}]},{"type":"text","value":" commas, and because this forces Python to treat numbers as objects (or strings) rather than "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"int"}]},{"type":"text","value":"'s or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"float"}]},{"type":"text","value":"'s, we will have to remove these signs in our transformation step after extracting the data and before loading a clean version of it to a new location. Let's create 3 re-usable functions."}]},{"type":"element","tag":"pre","props":{"code":"def extract(path):\n    return pd.read_csv(path)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract(path):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_csv(path)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you saw above, only the last 5 variables have commas ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":","}]},{"type":"text","value":") and dollar symbols ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$"}]},{"type":"text","value":") so we will replace both with an empty space ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"\""}]},{"type":"text","value":") using a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" loop."}]},{"type":"element","tag":"pre","props":{"code":"def transform(data):\n    for col in data.iloc[:, 1:].columns:\n        data[col] = data[col].str.replace(r'[^0-9]+', '', regex=True).astype(int)\n    return data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def transform(data):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    for col in data.iloc[:, 1:].columns:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data[col] = data[col].str.replace(r'[^0-9]+', '', regex=True).astype(int)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the \"load\" process, we will save the data as a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"parquet"}]},{"type":"text","value":" file. This is one of the most popular formats to save data in due to its compression capabilities, orientation, and speed gains in analytical workloads."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's an example on the differences between the row-like format and the columnar format of parquet files. If this interests you you can read more about it "},{"type":"element","tag":"a","props":{"href":"https://datos.gob.es/en/blog/why-should-you-use-parquet-files-if-you-process-lot-data","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"colvsrow","src":"https://www.scylladb.com/wp-content/uploads/columnar-database-diagram.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nSource: "},{"type":"element","tag":"a","props":{"href":"https://www.scylladb.com/glossary/columnar-database/","rel":["nofollow"]},"children":[{"type":"text","value":"Scylla DB"}]}]},{"type":"element","tag":"pre","props":{"code":"def load(data, path):\n    data.to_parquet(path)\n    print(\"Successfully Loaded Your Modified Data!\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"def load(data, path):\n    data.to_parquet(path)\n    print(\"Successfully Loaded Your Modified Data!\")\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create an output path and with a file name to save our data as."}]},{"type":"element","tag":"pre","props":{"code":"data_path\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_path\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"example_data_out = data_path.joinpath(\"example\", \"my_test.parquet\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_data_out = data_path.joinpath(\"example\", \"my_test.parquet\")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we have all the steps ready, we create a new function containing our graph using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"flow"}]},{"type":"text","value":" decorator. We can give this function a name, for example, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"Example Pipeline! 😎\""}]},{"type":"text","value":" and then chain the tasks we created previously in the order in which they should be run."}]},{"type":"element","tag":"pre","props":{"code":"def example_etl(example_data_in, example_data_out):\n    data = extract(example_data_in)\n    data_clean = transform(data)\n    load(data_clean, example_data_out)\n    print(\"Your Pipeline Ran Successfully!\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def example_etl(example_data_in, example_data_out):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = extract(example_data_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data_clean = transform(data)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    load(data_clean, example_data_out)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(\"Your Pipeline Ran Successfully!\")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We are ready to run our workflow."}]},{"type":"element","tag":"pre","props":{"code":"example_etl(example_data_in, example_data_out)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_etl(example_data_in, example_data_out)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To make sure we did everything correctly, let's create a quick visualization with pandas."}]},{"type":"element","tag":"pre","props":{"code":"pd.read_parquet(example_data_out).plot(\n    x='Year',\n    y=\"ForestService\", \n    kind='line',\n    title=\"Forest Service costs by year\"\n);\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_parquet(example_data_out).plot(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    x='Year',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    y=\"ForestService\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    kind='line',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    title=\"Forest Service costs by year\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":");\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_6-building-a-framework"},"children":[{"type":"text","value":"6. Building a Framework"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to do our data engineering work with a personalized framework, there are a few strategies we would take."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could keep the code in our computers and copy it to a new project whenever we need to create new pipelines."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could create a package and either upload it to PyPI or "},{"type":"element","tag":"a","props":{"href":"https://gemfury.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Gemfury"}]},{"type":"text","value":" (a private repository of packages for different programming languages)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could keep in neatly organized in GitHub and clone the repository to every new project."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For this use case, it would be great to work with a library that we could continuously update rather than notebooks and files getting copied around. This will help us stay organized and manage dependencies more effectively."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's get started. :)"}]},{"type":"element","tag":"h3","props":{"id":"_61-setting-up-a-dev-environment"},"children":[{"type":"text","value":"6.1 Setting Up a Dev Environment"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Building frameworks can be super straightforward or a slightly cumbersome project. Because of this and because we are already using an environment to run this workshop in, I will leave here what I think is an excellent resource for learning about how to create Python Packages."}]},{"type":"element","tag":"pre","props":{"code":"from IPython.display import HTML\nHTML(\"\"\"\n<div align=\"center\">\n    <iframe width=\"700\" height=\"450\"\n    src=\"https://youtube.com/embed/l7zS8Ld4_iA\"\n    </iframe>\n</div>\n\"\"\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from IPython.display import HTML\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"HTML(\"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"<div align=\"center\">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    <iframe width=\"700\" height=\"450\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    src=\"https://youtube.com/embed/l7zS8Ld4_iA\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    </iframe>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"</div>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\"\"\")\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_62-extract"},"children":[{"type":"text","value":"6.2 Extract"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Extracting data might seem straightforward, but it can come with plenty of caveats. For example, to access sensitive data you might need not only credentials but also access to VPNs (virtual private networks), you might have similar data in different kinds of formats (customer tables stored in legacy databases and new ones), or you might have different data all stored in one place (images, tables, and text all in a datalake) -- if you're lucky."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To tackle these challenges, (1) access and (2) distribution of data, companies such as "},{"type":"element","tag":"a","props":{"href":"https://airbyte.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Airbyte"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://www.fivetran.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Fivetran"}]},{"type":"text","value":", and others, have come up with solutions that do all the heavy lifting for us. They have created tools that either give you connectors to common data sources (such as S3, BigQuery, and others), or give you an API so that you can develop a custom connector."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"That said, what we'll do in this section is to create functions that allow us to extract data in different formats or download a dataset from the web. We will create one for each of the examples that we have for the workshop today. Let's get started loading some data."}]},{"type":"element","tag":"pre","props":{"code":"import urllib.request\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import urllib.request\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def get_and_load_file(url, path_out, file_name):\n    path = Path(path_out)\n    if not path.exists(): path.mkdir(parents=True)\n    urllib.request.urlretrieve(url, path.joinpath(file_name))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def get_and_load_file(url, path_out, file_name):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path = Path(path_out)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if not path.exists(): path.mkdir(parents=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    urllib.request.urlretrieve(url, path.joinpath(file_name))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"get_and_load_file(\n    url=\"https://archive.ics.uci.edu/ml/machine-learning-databases/00560/SeoulBikeData.csv\",\n    path_out=\"../data/example\",\n    file_name=\"seoul_exp.csv\"\n)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"get_and_load_file(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    url=\"https://archive.ics.uci.edu/ml/machine-learning-databases/00560/SeoulBikeData.csv\",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_out=\"../data/example\",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    file_name=\"seoul_exp.csv\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The function above will download the file into the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"data/example\""}]},{"type":"text","value":" directory. If we do not specify a path for the file to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urllib.request.urlretrieve"}]},{"type":"text","value":", it would download the file into a temporary directory since it wouldn't know what to do with it or where to put it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A popular alternative to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urllib"}]},{"type":"text","value":" is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"wget"}]},{"type":"text","value":", so you can switch the tools in this function easily. The former is part of the Python Standard Library (so you'll never have to install it), and the latter can be installed with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"conda"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create two more, one for csv files and the other for parquet files."}]},{"type":"element","tag":"pre","props":{"code":"def extract_from_csv(path_in, encoding=None):\n    return pd.read_csv(path_in, encoding=encoding)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_csv(path_in, encoding=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_csv(path_in, encoding=encoding)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seoul_df = extract_from_csv(\n    path_in=data_path.joinpath(\"seoul\", \"raw\", \"SeoulBikeData.csv\")\n)\nseoul_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df = extract_from_csv(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in=data_path.joinpath(\"seoul\", \"raw\", \"SeoulBikeData.csv\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The reason, we've added "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"enconing"}]},{"type":"text","value":" to our function is that files are not always shared in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"utf-8"}]},{"type":"text","value":" abd it is important to account for this discrepancy when creating an ETL framework. In fact, one of our datasets has a tricky format itself."}]},{"type":"element","tag":"pre","props":{"code":"{1: \"value\", 1: \"value\", 1: \"value\", 1: \"value\", }\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"{1: \"value\", 1: \"value\", 1: \"value\", 1: \"value\", }\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def extract_from_parquet(path_in, **kwargs):\n    return pd.read_parquet(path_in, **kwargs)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_parquet(path_in, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_parquet(path_in, **kwargs)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"porto_df = extract_from_parquet(\n    path_in=data_path.joinpath(\"porto\", \"bike_sharing_hourly.parquet\")\n)\nporto_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"porto_df = extract_from_parquet(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in=data_path.joinpath(\"porto\", \"bike_sharing_hourly.parquet\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"porto_df.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One of our files is stored in a SQLite database so we'll use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sqlite3"}]},{"type":"text","value":" module, which is part of of the "},{"type":"element","tag":"a","props":{"href":"https://docs.python.org/3/library/index.html","rel":["nofollow"]},"children":[{"type":"text","value":"Python Standard Library"}]},{"type":"text","value":", to read it."}]},{"type":"element","tag":"pre","props":{"code":"import sqlite3\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import sqlite3\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def extract_from_db(path_in, query):\n    conn = sqlite3.connect(path_in)\n    return pd.read_sql_query(query, conn)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_db(path_in, query):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    conn = sqlite3.connect(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_sql_query(query, conn)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"london_df = extract_from_db(\n    path_in=data_path.joinpath(\"london\", \"london_bikes.db\"),\n    query=\"SELECT * FROM uk_bikes\"\n)\nlondon_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df = extract_from_db(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in=data_path.joinpath(\"london\", \"london_bikes.db\"),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    query=\"SELECT * FROM uk_bikes\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, JSON files can be tricky to handle so we'll try two quick cases here using a try-except approach, but take note that as your projects evolve, it is highly likely that this function might change. A very good tool to handle large amounts of unstructured JSON that can later be formatted as a dataframe (or many), is "},{"type":"element","tag":"a","props":{"href":"https://examples.dask.org/bag.html","rel":["nofollow"]},"children":[{"type":"text","value":"Dask Bags"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"code":"def extract_from_json(path_in, **kwargs):\n    try:\n        data =  pd.read_json(path_in, kwargs)\n    except:\n        with open(path_in, 'r') as f:\n            data = json.loads(f.read())\n            data = pd.json_normalize(data, kwargs)\n    return data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_json(path_in, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    try:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data =  pd.read_json(path_in, kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    except:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        with open(path_in, 'r') as f:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            data = json.loads(f.read())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            data = pd.json_normalize(data, kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"dc_df = extract_from_json(\n    path_in=data_path.joinpath(\"wash_dc\", \"washington.json\")\n)\ndc_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dc_df = extract_from_json(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in=data_path.joinpath(\"wash_dc\", \"washington.json\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dc_df.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we have our functions, we want to create a file and attach to it the minimum functionality possible to use it as a command line tool. We will do this with the popular package called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":". It offers a delightful user experience, it respects (and annoys you at times) by type-checking your code, and it provides you with beautifully-formatted output based on the "},{"type":"element","tag":"a","props":{"href":"https://rich.readthedocs.io/en/latest/","rel":["nofollow"]},"children":[{"type":"text","value":"rich"}]},{"type":"text","value":" python library."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":" we can create CLIs in several ways, and, for our purposes, we will pick the most straightforward one which works by adding "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer.run()"}]},{"type":"text","value":" around a main function that encapsulates your application logic, in our case, our extract function and the upcoming ones."}]},{"type":"element","tag":"pre","props":{"code":"%%writefile ../src/data_eng/extract.py\n\nimport urllib.request\nfrom pathlib import Path\nimport pandas as pd\nimport json\nimport typer\nfrom typing import Optional\nfrom load import save_data\n\n\ndef get_and_load_file(url, path_out, file_name):\n    path = Path(path_out)\n    if not path.exists():\n        path.mkdir(parents=True)\n    urllib.request.urlretrieve(url, path.joinpath(file_name))\n\ndef extract_from_csv(path_in, encoding=None):\n    return pd.read_csv(path_in, encoding=encoding)\n\ndef extract_from_db(path_in, query):\n    conn = sqlite3.connect(path_in)\n    return pd.read_sql_query(query, conn)\n\ndef extract_from_parquet(path_in, **kwargs):\n    return pd.read_parquet(path_in, **kwargs)\n\ndef extract_from_json(path_in, **kwargs):\n    try:\n        data =  pd.read_json(path_in, **kwargs)\n    except:\n        with open(path_in, 'r') as f:\n            data = json.loads(f.read())\n            data = pd.json_normalize(data, kwargs)\n    return data\n\ndef main(\n    arg: str = typer.Option(...),\n    url: Optional[str] = typer.Option(None),\n    path_in: Optional[str] = typer.Option(None),\n    path_out: Optional[str] = typer.Option(None),\n    encoding: Optional[str] = typer.Option(None),\n    file_name: Optional[str] = typer.Option(None),\n    query: Optional[str] = typer.Option(None),\n):\n    if arg == \"get\":\n        get_and_load_file(url, path_out, file_name)\n    elif arg == \"csv\":\n        data = extract_from_csv(path_in, encoding=encoding)\n        save_data(data, path_out, file_name)\n    elif arg == \"pq\":\n        data = extract_from_parquet(path_in)\n        save_data(data, path_out, file_name)\n    elif arg == \"json\":\n        data = extract_from_json(path_in)\n        save_data(data, path_out, file_name)\n    elif arg == \"db\":\n        data = extract_from_db(path_in, query)\n        save_data(data, path_out, file_name)\n    else:\n        print(f\"Could not understand argument {arg}. Please use 'pq' for parquet files, 'db' for database, json, or csv in lowercase.\")\n\n    print(\"Data Extracted Successfully!\")\n\n\nif __name__ == \"__main__\":\n    typer.run(main)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%%writefile ../src/data_eng/extract.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import urllib.request\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from pathlib import Path\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import json\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import typer\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from typing import Optional\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from load import save_data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def get_and_load_file(url, path_out, file_name):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path = Path(path_out)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if not path.exists():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        path.mkdir(parents=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    urllib.request.urlretrieve(url, path.joinpath(file_name))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_csv(path_in, encoding=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_csv(path_in, encoding=encoding)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_db(path_in, query):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    conn = sqlite3.connect(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_sql_query(query, conn)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_parquet(path_in, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_parquet(path_in, **kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_json(path_in, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    try:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data =  pd.read_json(path_in, **kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    except:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        with open(path_in, 'r') as f:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            data = json.loads(f.read())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            data = pd.json_normalize(data, kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def main(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    arg: str = typer.Option(...),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    url: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_out: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    encoding: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    file_name: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    query: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if arg == \"get\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        get_and_load_file(url, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif arg == \"csv\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = extract_from_csv(path_in, encoding=encoding)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif arg == \"pq\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = extract_from_parquet(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif arg == \"json\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = extract_from_json(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif arg == \"db\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = extract_from_db(path_in, query)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        print(f\"Could not understand argument {arg}. Please use 'pq' for parquet files, 'db' for database, json, or csv in lowercase.\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(\"Data Extracted Successfully!\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"if __name__ == \"__main__\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    typer.run(main)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that we added different parameters to our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"main"}]},{"type":"text","value":" function to control the behavior of our CLI app."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"arg"}]},{"type":"text","value":" - the kind of data we're extracting."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" - the url for when we need to download files from somewhere"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"path_in"}]},{"type":"text","value":" - where is the data at"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"path_out"}]},{"type":"text","value":" - where is that data going to"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"encoding"}]},{"type":"text","value":" - what kind of enconding are we reading the file with"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"file_name"}]},{"type":"text","value":" - what is going to be the new name of the output file"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"query"}]},{"type":"text","value":" - query for the data we want from the SQL database"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A few important things to note:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"parameters containing underscores "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_"}]},{"type":"text","value":" will be switched into a dash "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" by "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":", so "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"file_name"}]},{"type":"text","value":" will be "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"file-name"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"commands are run with two dashes and with a space in between it and the argument being passes, e.g. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--name PyCon"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer.Option(None)"}]},{"type":"text","value":" indicates to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":" that this command can be optional, hence, when we change the kind of file we're extracting we can by pass having to put an option on others."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"by adding "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Optional"}]},{"type":"text","value":" around the type of a function parameter, you are also letting typer that that parameter is optional and that its default argument is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"None"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"a parameter with only a type is a required parameter."}]}]},{"type":"element","tag":"pre","props":{"code":"pd.read_parquet(\"../data/seoul/raw/testing_cli_extract2.csv\").head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_parquet(\"../data/seoul/raw/testing_cli_extract2.csv\").head()\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_63-transform"},"children":[{"type":"text","value":"6.3 Transform"}]},{"type":"element","tag":"iframe","props":{"src":"https://giphy.com/embed/R9zXHWAHyTjnq","width":400,"height":300},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Depending on tasks that await the final output files or tables of an ETL pipeline (e.g. reporting metrics, building machine learning models, forecasting, etc.), this step can be very convoluted or slightly straightforward. In general, though, this step can include lots of cleaning and normalization functions, and a schema setter, among many others."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The cleaning steps might include dealing with missing values, cleaning emails, names, addresses, and others, or putting values of similar nature into the same format (e.g. different weather measurements into one)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Normalization can be anything from changing column names with the same values but different names to have the same one, or height in cm vs feet and inches to be in the same measure, or ..., you get the point. :)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A schema is the way in which we represent not only the content and type of our new data files/tables, but also the way in which we represent their relationship. A common schema is the "},{"type":"element","tag":"a","props":{"href":"https://www.databricks.com/glossary/star-schema","rel":["nofollow"]},"children":[{"type":"text","value":"star schema"}]},{"type":"text","value":". An uncommon (but rising star) schema is the "},{"type":"element","tag":"a","props":{"href":"https://www.activityschema.com/","rel":["nofollow"]},"children":[{"type":"text","value":"activity schema"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"code":"import re\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import re\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"#create some toy data for our Bicycle problem\n\ntoy_data = pd.DataFrame({\"Postal Codes\": [22345, 32442, 20007], \n                         \"Cities'\":       [\"Miami,  FL\", \"Dallas, TX\", \"Washington, DC\"],\n                         \"Dates as mm-dd-yyy\":         pd.date_range(start='9/27/2021', periods=3)})\ntoy_data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"#create some toy data for our Bicycle problem\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"toy_data = pd.DataFrame({\"Postal Codes\": [22345, 32442, 20007], \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         \"Cities'\":       [\"Miami,  FL\", \"Dallas, TX\", \"Washington, DC\"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         \"Dates as mm-dd-yyy\":         pd.date_range(start='9/27/2021', periods=3)})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"toy_data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def clean_col_names(index_of_cols: pd.Index):\n    return [re.sub(r'[^a-zA-Z0-9\\s_]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def clean_col_names(index_of_cols: pd.Index):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return [re.sub(r'[^a-zA-Z0-9\\s_]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"clean_col_names(toy_data)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clean_col_names(toy_data)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def extract_dates(data, date_col, hour_col=None):\n\n    data[\"date\"] = pd.to_datetime(data[date_col], infer_datetime_format=True)\n    if not data.columns.isin([\"hour\", \"Hour\", \"hr\", \"HR\"]).any():\n        data[\"hour\"] = data['date'].dt.hour\n        #Time series datasets need to be ordered by time.\n        data.sort_values([\"date\", \"hour\"], inplace=True)\n    elif hour_col:\n        data.sort_values([\"date\", hour_col], inplace=True)\n    else:\n        print(\"You must figure out how the hour works in your file.\")\n\n    data[\"year\"]           = data['date'].dt.year\n    data[\"month\"]          = data['date'].dt.month\n    data[\"week\"]           = data['date'].dt.isocalendar().week\n    data[\"day\"]            = data['date'].dt.day\n    data[\"day_of_week\"]    = data['date'].dt.dayofweek\n    data[\"is_month_start\"] = data['date'].dt.is_month_start    \n\n    data.drop('date', axis=1, inplace=True)\n    return data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_dates(data, date_col, hour_col=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"date\"] = pd.to_datetime(data[date_col], infer_datetime_format=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if not data.columns.isin([\"hour\", \"Hour\", \"hr\", \"HR\"]).any():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data[\"hour\"] = data['date'].dt.hour\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        #Time series datasets need to be ordered by time.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data.sort_values([\"date\", \"hour\"], inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif hour_col:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data.sort_values([\"date\", hour_col], inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        print(\"You must figure out how the hour works in your file.\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"year\"]           = data['date'].dt.year\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"month\"]          = data['date'].dt.month\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"week\"]           = data['date'].dt.isocalendar().week\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day\"]            = data['date'].dt.day\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day_of_week\"]    = data['date'].dt.dayofweek\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"is_month_start\"] = data['date'].dt.is_month_start    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data.drop('date', axis=1, inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"extract_dates(london_df, \"timestamp\").head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"extract_dates(london_df, \"timestamp\").head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A common tasks in data science is to create dummy variables, which is ofter referred to as one-hot encoding. These are binary representations of a category, for example, if you have a columns with different kinds of cars, after you one-hot encode it, you will have one column for sedan, coupe, convertible, and so on, and each will be represented with a 0 or a 1 for when it is available and when it isn't, respectively."}]},{"type":"element","tag":"pre","props":{"code":"def one_hot(data, cols_list, **kwargs):\n    return pd.get_dummies(data=data, columns=cols_list, **kwargs)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def one_hot(data, cols_list, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.get_dummies(data=data, columns=cols_list, **kwargs)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"one_hot(seoul_df, [\"Seasons\", \"Holiday\"], drop_first=True).head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"one_hot(seoul_df, [\"Seasons\", \"Holiday\"], drop_first=True).head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def add_location_cols(data, place):\n    data[\"loc_id\"] = place\n    return data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def add_location_cols(data, place):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"loc_id\"] = place\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"add_location_cols(dc_df, \"DC\").head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"add_location_cols(dc_df, \"DC\").head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n    data[col_to_fix] = data[col_to_fix].map(mapping)\n    return data.drop(cols_to_drop, axis=1)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[col_to_fix] = data[col_to_fix].map(mapping)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data.drop(cols_to_drop, axis=1)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seasons_london = {'Spring': 0, 'Summer': 1, 'Fall': 2, 'Winter': 3}\ncols_drop_london = ['t2', 'weather_code']\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seasons_london = {'Spring': 0, 'Summer': 1, 'Fall': 2, 'Winter': 3}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cols_drop_london = ['t2', 'weather_code']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"london_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"london_df[\"seasonreal\"].map(seasons_london).value_counts()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df[\"seasonreal\"].map(seasons_london).value_counts()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"fix_and_drop(london_df, \"seasonreal\", seasons_london, cols_drop_london).head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"fix_and_drop(london_df, \"seasonreal\", seasons_london, cols_drop_london).head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def order_and_merge(data_lists, date=None):\n    pick_order = data_lists[0].columns #takes order of columns of the first dataset\n    #reindexing columns by the order of the first dataset, then sorting by date and hour.\n    if date:\n        new_list = [d.reindex(columns=pick_order).sort_values([date, 'hour']) for d in data_lists]\n    else:\n        new_list = data_lists\n    return pd.concat(new_list) #merge all\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def order_and_merge(data_lists, date=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    pick_order = data_lists[0].columns #takes order of columns of the first dataset\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    #reindexing columns by the order of the first dataset, then sorting by date and hour.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if date:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        new_list = [d.reindex(columns=pick_order).sort_values([date, 'hour']) for d in data_lists]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        new_list = data_lists\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.concat(new_list) #merge all\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"exercise"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pick any two datasets and"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"select 5 columns from each"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"change column names as appropriate"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"use the order_and_nerge function to combine both"}]}]},{"type":"element","tag":"pre","props":{"code":"london_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"london_df_small = london_df[[\"cnt\", \"t1\", \"wind_speed\", \"seasonreal\", \"hour\"]]\nlondon_df_small.tail()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df_small = london_df[[\"cnt\", \"t1\", \"wind_speed\", \"seasonreal\", \"hour\"]]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df_small.tail()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seoul_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seoul_df_small = seoul_df[[\"Rented Bike Count\", \"Temperature(�C)\", \"Wind speed (m/s)\", \"Seasons\", \"Hour\"]]\nseoul_df_small.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df_small = seoul_df[[\"Rented Bike Count\", \"Temperature(�C)\", \"Wind speed (m/s)\", \"Seasons\", \"Hour\"]]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df_small.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seoul_df_small.columns = london_df_small.columns\nseoul_df_small.columns == london_df_small.columns\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df_small.columns = london_df_small.columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df_small.columns == london_df_small.columns\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"order_and_merge([seoul_df_small, london_df_small]).shape\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"order_and_merge([seoul_df_small, london_df_small]).shape\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, we take the same approach as with the extract set of functions and wrap our transform workflow into a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"main"}]},{"type":"text","value":" function, and then that "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"main"}]},{"type":"text","value":" function into a typer CLI."}]},{"type":"element","tag":"pre","props":{"code":"%%writefile ../src/data_eng/transform.py\n\nimport pandas as pd, re\nfrom pathlib import Path\nfrom extract import save_data\nimport typer\nfrom typing import Optional, List\n\ndef clean_col_names(index_of_cols: pd.Index):\n    return [re.sub(r'[^a-zA-Z0-9\\s_]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n\ndef extract_dates(data, date_col, hour_col=None):\n\n    data[\"date\"] = pd.to_datetime(data[date_col], infer_datetime_format=True)\n    if not data.columns.isin([\"hour\", \"Hour\", \"hr\", \"HR\"]).any():\n        data[\"hour\"] = data['date'].dt.hour\n        #Time series datasets need to be ordered by time.\n        data.sort_values([\"date\", \"hour\"], inplace=True)\n    elif hour_col:\n        data.sort_values([\"date\", hour_col], inplace=True)\n    else:\n        print(\"You must figure out how the hour works in your file.\")\n\n    data[\"year\"]           = data['date'].dt.year\n    data[\"month\"]          = data['date'].dt.month\n    data[\"week\"]           = data['date'].dt.isocalendar().week\n    data[\"day\"]            = data['date'].dt.day\n    data[\"day_of_week\"]    = data['date'].dt.dayofweek\n    data[\"is_month_start\"] = data['date'].dt.is_month_start    \n\n    data.drop('date', axis=1, inplace=True)\n    return data\n\ndef one_hot(data, cols_list):\n    return pd.get_dummies(data=data, columns=cols_list)\n\ndef add_location_cols(data, place):\n    data[\"loc_id\"] = place\n    return data\n\ndef fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n    data[col_to_fix] = data[col_to_fix].map(mapping)\n    return data.drop(cols_to_drop, axis=1)\n\ndef order_and_merge(data_lists):\n    pick_order = data_lists[0].columns #takes order of columns of the first dataset\n    new_list = [d.reindex(columns=pick_order).sort_values(['date', 'hour']) for d in data_lists] #reindexing columns by the order of the first dataset, then sorting by date and hour.\n    return pd.concat(new_list) #merge all\n\ndef main(\n    path_in:   str           = typer.Option(...),\n    date_col:  Optional[str] = typer.Option(None),\n    hour_col:  Optional[str] = typer.Option(None),\n    cols_list: List[str]     = typer.Option(None),\n    place:     Optional[str] = typer.Option(None),\n    path_out:  Optional[str] = typer.Option(None),\n    file_name: Optional[str] = typer.Option(None)\n):\n    data = pd.read_parquet(path_in)\n    # data.columns = clean_col_names(data.columns)\n    data = extract_dates(data, date_col, hour_col)\n    if cols_list:\n        data = one_hot(data, cols_list)\n    data.columns = clean_col_names(data.columns)\n    data = add_location_cols(data, place)\n    save_data(data, path_out, file_name)\n\n    print(\"Data Extracted and Transformed Successfully!\")\n\nif __name__ == \"__main__\":\n    typer.run(main)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%%writefile ../src/data_eng/transform.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd, re\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from pathlib import Path\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from extract import save_data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import typer\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from typing import Optional, List\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def clean_col_names(index_of_cols: pd.Index):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return [re.sub(r'[^a-zA-Z0-9\\s_]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_dates(data, date_col, hour_col=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"date\"] = pd.to_datetime(data[date_col], infer_datetime_format=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if not data.columns.isin([\"hour\", \"Hour\", \"hr\", \"HR\"]).any():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data[\"hour\"] = data['date'].dt.hour\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        #Time series datasets need to be ordered by time.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data.sort_values([\"date\", \"hour\"], inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif hour_col:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data.sort_values([\"date\", hour_col], inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        print(\"You must figure out how the hour works in your file.\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"year\"]           = data['date'].dt.year\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"month\"]          = data['date'].dt.month\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"week\"]           = data['date'].dt.isocalendar().week\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day\"]            = data['date'].dt.day\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day_of_week\"]    = data['date'].dt.dayofweek\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"is_month_start\"] = data['date'].dt.is_month_start    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data.drop('date', axis=1, inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def one_hot(data, cols_list):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.get_dummies(data=data, columns=cols_list)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def add_location_cols(data, place):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"loc_id\"] = place\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[col_to_fix] = data[col_to_fix].map(mapping)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data.drop(cols_to_drop, axis=1)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def order_and_merge(data_lists):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    pick_order = data_lists[0].columns #takes order of columns of the first dataset\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    new_list = [d.reindex(columns=pick_order).sort_values(['date', 'hour']) for d in data_lists] #reindexing columns by the order of the first dataset, then sorting by date and hour.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.concat(new_list) #merge all\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def main(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in:   str           = typer.Option(...),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    date_col:  Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    hour_col:  Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    cols_list: List[str]     = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    place:     Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_out:  Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    file_name: Optional[str] = typer.Option(None)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = pd.read_parquet(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    # data.columns = clean_col_names(data.columns)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = extract_dates(data, date_col, hour_col)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if cols_list:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = one_hot(data, cols_list)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data.columns = clean_col_names(data.columns)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = add_location_cols(data, place)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":68},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(\"Data Extracted and Transformed Successfully!\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":69},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":70},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"if __name__ == \"__main__\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":71},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    typer.run(main)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"pd.read_parquet(\"../data/seoul/interim/cli_test_clean.parquet\").head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_parquet(\"../data/seoul/interim/cli_test_clean.parquet\").head()\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_62-load"},"children":[{"type":"text","value":"6.2 Load"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The loading stage, at least for analytical purposes, tends to be a data warehouse like BigQuery, Redshift, etc., but it can also be a directory in a data lake where files are saved in the highly optimized parquet format."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order for us to simulate a data warehouse locally, we will create a duckdb database using the python library "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ibis"}]},{"type":"text","value":". The reason we will do it this ways is that ibis can translate the schema of our files into the duckdb SQL in one line of code. Effectively saving us boilerplate code that may or may not end up accounting for every feature in our dataframes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ibis is a very cool project, especially if your SQL skills as basic as mine, so I highly encourage you to check it out. :)"}]},{"type":"element","tag":"pre","props":{"code":"import ibis\nfrom pathlib import Path\n","meta":"{python"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import ibis\nfrom pathlib import Path\n"}]}]},{"type":"element","tag":"pre","props":{"code":"data_path = Path().cwd().parent/\"data/\"\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"data_path = Path().cwd().parent/\"data/\"\n"}]}]},{"type":"element","tag":"pre","props":{"code":"def create_db(path_in, path_out, file_name, table_name):\n    path = Path(path_out)\n    conn = ibis.duckdb.connect(path.joinpath(file_name))\n    conn.register(path_in, table_name=table_name)\n    print(f\"Successfully loaded the {table_name} table!\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"def create_db(path_in, path_out, file_name, table_name):\n    path = Path(path_out)\n    conn = ibis.duckdb.connect(path.joinpath(file_name))\n    conn.register(path_in, table_name=table_name)\n    print(f\"Successfully loaded the {table_name} table!\")\n"}]}]},{"type":"element","tag":"pre","props":{"code":"create_db(\n    path_in=data_path.joinpath(\"porto\", \"bike_sharing_hourly.parquet\"),\n    path_out=\"../data/dwarehouse\",\n    file_name=\"mytest_dw.ddb\",\n    table_name=\"one_day\"\n)\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"create_db(\n    path_in=data_path.joinpath(\"porto\", \"bike_sharing_hourly.parquet\"),\n    path_out=\"../data/dwarehouse\",\n    file_name=\"mytest_dw.ddb\",\n    table_name=\"one_day\"\n)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's read in our data to check that it was loaded successfully."}]},{"type":"element","tag":"pre","props":{"code":"import duckdb\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import duckdb\n"}]}]},{"type":"element","tag":"pre","props":{"code":"duck = duckdb.connect(\"../data/dwarehouse/mytest_dw.ddb\")\nduck.query(\"SELECT * FROM one_day\").df().head()\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"duck = duckdb.connect(\"../data/dwarehouse/mytest_dw.ddb\")\nduck.query(\"SELECT * FROM one_day\").df().head()\n"}]}]},{"type":"element","tag":"pre","props":{"code":"def create_parquet(path_in, path_out, file_name):\n    path = Path(path_out)\n    pd.read_parquet(path_in).to_parquet(path.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"def create_parquet(path_in, path_out, file_name):\n    path = Path(path_out)\n    pd.read_parquet(path_in).to_parquet(path.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n"}]}]},{"type":"element","tag":"pre","props":{"code":"def save_data(data, path_out, file_name):\n    path_out = Path(path_out)\n    if not path_out.exists(): path_out.mkdir(parents=True)\n    data.to_parquet(path_out.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"def save_data(data, path_out, file_name):\n    path_out = Path(path_out)\n    if not path_out.exists(): path_out.mkdir(parents=True)\n    data.to_parquet(path_out.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We take the same steps as before and wrap our main function with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer.run()"}]},{"type":"text","value":" to make it a CLI, we test that it works well, and then go on to the next stage."}]},{"type":"element","tag":"pre","props":{"code":"%%writefile ../src/data_eng/load.py\n\nfrom pathlib import Path\nimport ibis\nimport typer\nfrom typing import Optional\nimport pandas as pd\n\n\ndef create_db(path_in, path_out, file_name, table_name):\n    path = Path(path_out)\n    conn = ibis.duckdb.connect(path.joinpath(file_name))\n    conn.register(path_in, table_name=table_name)\n    print(f\"Successfully loaded the {table_name} table!\")\n\ndef create_parquet(path_in, path_out, file_name):\n    path = Path(path_out)\n    pd.read_parquet(path_in).to_parquet(path.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n\ndef save_data(data, path_out, file_name):\n    path_out = Path(path_out)\n    if not path_out.exists(): path_out.mkdir(parents=True)\n    data.to_parquet(path_out.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n\n\ndef main(\n    kind: str = typer.Option(...),\n    path_in: Optional[str] = typer.Option(None), \n    path_out: Optional[str] = typer.Option(None),\n    file_name: Optional[str] = typer.Option(None),\n    table_name: Optional[str] = typer.Option(None)\n):\n    if kind == \"db\":\n        create_db(path_in, path_out, file_name, table_name)\n    elif kind == \"pq\":\n        create_parquet(path_in, path_out, file_name)\n    else:\n        print(f\"Could not understand argument {kind}. Please use 'pq' for parquet files or 'db' for database.\")\n\n    print(\"Data Extracted Successfully!\")\n\nif __name__ == \"__main__\":\n    typer.run(main)\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"%%writefile ../src/data_eng/load.py\n\nfrom pathlib import Path\nimport ibis\nimport typer\nfrom typing import Optional\nimport pandas as pd\n\n\ndef create_db(path_in, path_out, file_name, table_name):\n    path = Path(path_out)\n    conn = ibis.duckdb.connect(path.joinpath(file_name))\n    conn.register(path_in, table_name=table_name)\n    print(f\"Successfully loaded the {table_name} table!\")\n\ndef create_parquet(path_in, path_out, file_name):\n    path = Path(path_out)\n    pd.read_parquet(path_in).to_parquet(path.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n\ndef save_data(data, path_out, file_name):\n    path_out = Path(path_out)\n    if not path_out.exists(): path_out.mkdir(parents=True)\n    data.to_parquet(path_out.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n\n\ndef main(\n    kind: str = typer.Option(...),\n    path_in: Optional[str] = typer.Option(None), \n    path_out: Optional[str] = typer.Option(None),\n    file_name: Optional[str] = typer.Option(None),\n    table_name: Optional[str] = typer.Option(None)\n):\n    if kind == \"db\":\n        create_db(path_in, path_out, file_name, table_name)\n    elif kind == \"pq\":\n        create_parquet(path_in, path_out, file_name)\n    else:\n        print(f\"Could not understand argument {kind}. Please use 'pq' for parquet files or 'db' for database.\")\n\n    print(\"Data Extracted Successfully!\")\n\nif __name__ == \"__main__\":\n    typer.run(main)\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_7-reproducible-pipelines"},"children":[{"type":"text","value":"7. Reproducible Pipelines"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data Version Control or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc"}]},{"type":"text","value":" is a tool for version almost any kind of file you can think of. From images, text, videos, and excel spreadsheets, to machine learning models and other artifacts. In addition, it is also an excellent tool for tracking machine learning experiments and for creating language agnostic pipelines where you can automatically version control the inputs and outputs of your workflows."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you have ever used git then the following commands will feel like home"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc init"}]},{"type":"text","value":" --> this the first step to get started using dvc (after installing it of course)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc remote add -d storage gdrive://your_hash"}]},{"type":"text","value":" --> since we will be tracking files somewhere, this command will help set up a remote repository for these."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc add"}]},{"type":"text","value":" --> add a file to track."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc push"}]},{"type":"text","value":" --> push the file to your remote repository."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc pull"}]},{"type":"text","value":" --> pull the file from your remote repository and into your local machine."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc stage"}]},{"type":"text","value":" --> allows you to start adding steps to a pipeline. It will create a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc.yml"}]},{"type":"text","value":" file containing the steps of the pipeline. This can be modified manually as well."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc repro"}]},{"type":"text","value":" --> Once we finish our stage, or as we add steps to it, we can run our pipeline with this command. The best part is that the steps will get cashed, so if nothing changes, nothing will get rerun."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc dag"}]},{"type":"text","value":" --> allows you to visualize your pipelines as a graph in the terminal."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, some of the settings for our repo will be available at "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".dvc/config"}]},{"type":"text","value":" and these can be changed manually at any time."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Open a terminal in the main directory for this workshop and follow along."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create our pipeline, we'll add the stages step by step."}]},{"type":"element","tag":"pre","props":{"code":"dvc stage add --name seoul_extract \\\n    --deps data/seoul/SeoulBikeData.csv \\\n    --outs data/seoul/raw/seoul_raw.parquet \\\n    python src/data_eng/extract.py --arg csv \\\n        --path-in data/seoul/SeoulBikeData.csv \\\n        --path-out data/seoul/raw \\\n        --file-name seoul_raw.parquet --encoding iso-8859-1\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" stage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_extract"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --deps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/SeoulBikeData.csv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --outs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/raw/seoul_raw.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" src/data_eng/extract.py"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --arg"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" csv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/SeoulBikeData.csv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-out"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/raw"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --file-name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_raw.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --encoding"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" iso-8859-1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"dvc stage add --name seoul_transform \\\n    --deps data/seoul/raw/seoul_raw.parquet \\\n    --outs data/seoul/interim/seoul_clean.parquet \\\n    python src/data_eng/transform.py \\\n        --path-in data/seoul/seoul_raw.parquet \\\n        --date-col Date --hour-col Hour --place Seoul \\\n        --path-out data/seoul/interim --file-name seoul_clean.parquet\n","language":"bash","meta":"","className":"language-bash shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" stage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_transform"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --deps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/raw/seoul_raw.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --outs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/interim/seoul_clean.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" src/data_eng/transform.py"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/seoul_raw.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --date-col"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --hour-col"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Hour"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --place"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Seoul"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-out"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/interim"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --file-name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_clean.parquet\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"exercise-1"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add the load stage into our pipeline following the examples above."}]},{"type":"element","tag":"pre","props":{"code":"dvc stage add --name seoul_load \\\n    --deps data/seoul/interim/seoul_clean.parquet \\\n    --outs data/dwarehouse/analytics.db \\\n    python src/data_eng/load.py --kind db \\\n        --path-in data/seoul/interim/seoul_clean.parquet \\\n        --path-out data/dwarehouse --name analytics.db \\\n        --table-name seoul_main\n","language":"bash","meta":"","className":"language-bash shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" stage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_load"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --deps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/interim/seoul_clean.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --outs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/dwarehouse/analytics.db"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" src/data_eng/load.py"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --kind"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" db"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/interim/seoul_clean.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-out"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/dwarehouse"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" analytics.db"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --table-name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_main\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally we can run our pipeline, evaluate it, and push our files into our remote storage."}]},{"type":"element","tag":"pre","props":{"code":"# 1\ndvc repro\n\n# 2\ndvc dag\n\n# 3\ndvc push\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" repro\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" dag\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" push\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Afterwards, dvc will provide us with git files to track for our project."}]},{"type":"element","tag":"h2","props":{"id":"_8-scheduling"},"children":[{"type":"text","value":"8. Scheduling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Scheduling our workflows can be super convenient and time-savior when we know we need to run tasks repeatedly. A very common tool for the task is cron, and here is an excellent tutorial to get started with it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note: Windows users would need to use Windows Subsystem for Linux to use cron or some other tool, potentially in PowerShell."}]},{"type":"element","tag":"pre","props":{"code":"from IPython.display import HTML\nHTML(\"\"\"\n<div align=\"center\">\n    <iframe width=\"700\" height=\"450\"\n    src=\"https://www.youtube.com/embed/QZJ1drMQz1A\"\n    title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; \n    clipboard-write; encrypted-media; gyroscope; picture-in-picture; \n    web-share\" allowfullscreen>\n    </iframe>\n</div>\n\"\"\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"from IPython.display import HTML\nHTML(\"\"\"\n<div align=\"center\">\n    <iframe width=\"700\" height=\"450\"\n    src=\"https://www.youtube.com/embed/QZJ1drMQz1A\"\n    title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; \n    clipboard-write; encrypted-media; gyroscope; picture-in-picture; \n    web-share\" allowfullscreen>\n    </iframe>\n</div>\n\"\"\")\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_9-exercises"},"children":[{"type":"text","value":"9. Exercises"}]},{"type":"element","tag":"h3","props":{"id":"exercise-1-1"},"children":[{"type":"text","value":"Exercise 1"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open the terminal, create a new directory named "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dc_bikes"}]},{"type":"text","value":", and cd into it."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create two subdirectories, data and src."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create an ETL pipeline with two functions in the transform step."}]}]},{"type":"element","tag":"h3","props":{"id":"exercise-2"},"children":[{"type":"text","value":"Exercise 2"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Initialize a git and a dvc repository for the project in Exercise 1."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a new repo in GitHub and commit your initial changes."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a dvc pipeline with your three stages."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Commit your changes."}]}]},{"type":"element","tag":"h2","props":{"id":"_10-resources"},"children":[{"type":"text","value":"10. Resources"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you'd like to expand your knowledge around the tools and concepts that we covered in this lesson, you might find the following list of resources helpful."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about pandas --> "},{"type":"element","tag":"a","props":{"href":"https://wesmckinney.com/book/","rel":["nofollow"]},"children":[{"type":"text","value":"Python for Data Analysis, 3E by Wes McKinney"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about ibis --> "},{"type":"element","tag":"a","props":{"href":"https://ibis-project.org/blog/ibis_substrait_to_duckdb/","rel":["nofollow"]},"children":[{"type":"text","value":"Ibis + Substrait + DuckDB by Gil Forsyth"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about duckdb --> "},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=AjsB6lM2-zw&ab_channel=DatawithMarc","rel":["nofollow"]},"children":[{"type":"text","value":"DuckDB Tutorial by Data with Marc"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about dvc --> "},{"type":"element","tag":"a","props":{"href":"https://towardsdev.com/ml-pipeline-decoupled-i-managed-to-write-a-framework-agnostic-ml-pipeline-with-dvc-rust-python-287de68104c9","rel":["nofollow"]},"children":[{"type":"text","value":"ML Pipeline Decoupled: I managed to Write a Framework Agnostic ML Pipeline with DVC, Rust & Python"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about typer --> "},{"type":"element","tag":"a","props":{"href":"https://towardsdatascience.com/data-and-machine-learning-model-versioning-with-dvc-34fdadd06b15","rel":["nofollow"]},"children":[{"type":"text","value":"Data and Machine Learning Model Versioning with DVC by Ruben Winastwan"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about cron --> "},{"type":"element","tag":"a","props":{"href":"https://www.hostinger.com/tutorials/cron-job","rel":["nofollow"]},"children":[{"type":"text","value":"Cron Job: A Comprehensive Guide for Beginners 2023 by Linas L."}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"table-of-contents","depth":2,"text":"Table of Contents"},{"id":"_1-overview","depth":2,"text":"1. Overview"},{"id":"_2-learning-outcomes","depth":2,"text":"2. Learning Outcomes"},{"id":"_3-data","depth":2,"text":"3. Data"},{"id":"_4-tools","depth":2,"text":"4. Tools"},{"id":"_5-data-pipelines","depth":2,"text":"5. Data Pipelines"},{"id":"_6-building-a-framework","depth":2,"text":"6. Building a Framework","children":[{"id":"_61-setting-up-a-dev-environment","depth":3,"text":"6.1 Setting Up a Dev Environment"},{"id":"_62-extract","depth":3,"text":"6.2 Extract"},{"id":"_63-transform","depth":3,"text":"6.3 Transform"},{"id":"exercise","depth":3,"text":"Exercise"},{"id":"_62-load","depth":3,"text":"6.2 Load"}]},{"id":"_7-reproducible-pipelines","depth":2,"text":"7. Reproducible Pipelines","children":[{"id":"exercise-1","depth":3,"text":"Exercise"}]},{"id":"_8-scheduling","depth":2,"text":"8. Scheduling"},{"id":"_9-exercises","depth":2,"text":"9. Exercises","children":[{"id":"exercise-1-1","depth":3,"text":"Exercise 1"},{"id":"exercise-2","depth":3,"text":"Exercise 2"}]},{"id":"_10-resources","depth":2,"text":"10. Resources"}]}},"_type":"markdown","_id":"content:3.data-engineering:1.data_pipelines_getting_started.md","_source":"content","_file":"3.data-engineering/1.data_pipelines_getting_started.md","_extension":"md"},{"_path":"/data-engineering/getting_data","_dir":"data-engineering","_draft":false,"_partial":false,"_locale":"","title":"Getting Data as DataFrames","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"getting-data-as-dataframes"},"children":[{"type":"text","value":"Getting Data as DataFrames"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"You don’t understand anything until you learn it more than one way\". ~ Marvin Minsky"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"Wear your learning, like a watch, in a private pocket: and do not pull it out and strike it, merely to show that you have one.\" ~ Lord Chesterfield"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"sankey","src":"http://visualoop.com/media/2015/05/1.jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://www.behance.net/valeriopellegrini","rel":["nofollow"]},"children":[{"type":"text","value":"Vallerio Pellegrini"}]}]},{"type":"element","tag":"h2","props":{"id":"notebook-outline"},"children":[{"type":"text","value":"Notebook Outline"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Getting Data Into Python"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Text"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Excel"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"HTML"}]}]},{"type":"element","tag":"h1","props":{"id":"_1-getting-data-into-python"},"children":[{"type":"text","value":"1. Getting Data into Python"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"all the data","src":"http://blogs.ubc.ca/coetoolbox/files/2014/03/meme-data-data-everywhere.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When working with data in Python you will encounter datasets coming in all shapes and formats, so it is crucial to understand how to deal with them in order to work with data. We will be covering the following 4 formats in this section (yes, there are only 4 here 😁):"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CSV --> Comma Separated Values --> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv(file, sep=',')"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"TSV --> Tab Separated Values --> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv(file, sep=' ')"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Excel --> Microsoft Excel format (.xlsx) --> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_excel()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"JSON --> JavaScript Object Notation --> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_json()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"HTML --> Hypertext Markup Language --> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_html()"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For this part of the lesson, we will be using some real world datasets that you can find more info about (e.g. how to download them) in datasets directory one level above this one. Please download them and add them to the datasets directory for this course, or whichever directory you'd like to use."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"want the data","src":"http://blog.charitydynamics.com/wp-content/uploads/2015/05/data-cat_2.png"},"children":[]}]},{"type":"element","tag":"h1","props":{"id":"_2-text-files"},"children":[{"type":"text","value":"2. Text Files"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Text files are extremely common among organisations, and hence, they will form a big part of the files you will encounter in your daily work. More specifically, files with a format such as "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Comma"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Tab"}]},{"type":"text","value":" separated values, along with other text files that use different delimiters, might amount to half (if not more) of the files that you will see at work."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These two formats, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Comma"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Tab"}]},{"type":"text","value":", are still only a text file but they are very useful for saving and distributing small and large datasets in a tabular way. You can identify both kinds of files by looking at the suffix part in the name of a file, comma separated values will end in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".csv"}]},{"type":"text","value":" while tab separated values will end with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".tsv"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What makes these two files so similar is that they are both separated by something called delimiter. If you have a CSV or TSV file, try opening them in a plain text editor application (notepad for windows users and ) and notice what comes up."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"csv","src":"../images/csv_file.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that in the example above, every value is separated by a comma and although the column headers can be found at the very top of the file (this is common practice) sometimes you might not even have them available. When we save files as TSV, CSV or with any other kind of delimiter, words with spaces in them will be wrapped around quotation marks to differentiate the spaces from the delimiter (which might be a space itself) in the data."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, let's talk about how pandas handles these types of files. To read text files into a DataFrame with pandas we can use the function "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv()"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_table()"}]},{"type":"text","value":". These functions, at the time of writing, have over 50 parameters that allow us to customise different specification on how we would like to read in the data. One of the most important parameters is the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sep="}]},{"type":"text","value":", which allows us to define the delimiter we would like to read in the data with. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\",\""}]},{"type":"text","value":" is the default for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"\\t\""}]},{"type":"text","value":" is the default for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_table()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following parameters are some of the most useful ones not only for reading in text files, but also to tackle, and save time with, many of the operations you might need to perform after reading the data. Please visit the pandas documentation for more info."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"header="}]},{"type":"text","value":" --> tells pandas whether the first column contains the headers of the dataframe or not."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"names=[list, of, column, names]"}]},{"type":"text","value":" --> allows us to explicitly name the columns of a dataframe in the order in which they are read."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"parse_dates="}]},{"type":"text","value":" --> gives pandas permision to look for what might look like date data and it will assign it the appropriate date data type format."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"index_col="}]},{"type":"text","value":" --> allows us to assign a specific column as the index of our dataframe."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"skiprows=\\[1, 2, 3, 4\\]"}]},{"type":"text","value":" --> tells pandas which rows we want to skip."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"na_values="}]},{"type":"text","value":" --> takes in a list of values that might be missing and assigns them the NaN value, which stands for not a number."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"encoding="}]},{"type":"text","value":" --> data might coming in from a variety of sources could have different encodings, e.g. 'UTF-8' or 'ASCII', and this parameter helps us specify which one we need for our data."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nrows=4"}]},{"type":"text","value":" --> how many rows do you want to read from a file. Very useful tool for examining the first few lines of large files."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's use the Air Quality Monitoring Dataset and first read in the CSV file and then the TSV one."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import pandas as pd\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The first argument is the name of the file as a string or the path to the folder where the data lives followed by the name of the file and its extension. Once you load the dataset and assign it to a variable, you can see its first 5 rows plus the column names using the method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".head()"}]},{"type":"text","value":", or the method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".tail()"}]},{"type":"text","value":" for the last 5."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# The first argument is the folder where the data lives and the name of the data\n\ndf_csv = pd.read_csv('../datasets/files/seek_australia.csv')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# The first argument is the folder where the data lives and the name of the data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_csv = pd.read_csv('../datasets/files/seek_australia.csv')\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_csv.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_csv.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice how the look and feel of our file resembles that of a spreadsheet in Excel or Google Sheets."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To read in Tab Separated Value files, all we need to do is to pass in the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sep="}]},{"type":"text","value":" argument to our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv()"}]},{"type":"text","value":" function and provide pandas with the specific delimiter the data is split by. For tab separated values we use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\\t"}]},{"type":"text","value":", but there are many other delimiters one can choose from."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# air quality data in Australia\ndf_tsv = pd.read_csv('../datasets/files/Air_Quality_Monitoring_Data.tsv', sep='\\t')\ndf_tsv.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# air quality data in Australia\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_tsv = pd.read_csv('../datasets/files/Air_Quality_Monitoring_Data.tsv', sep='\\t')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_tsv.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is another method in pandas that uses the Tab Separated Values delimiter "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"\\t\""}]},{"type":"text","value":" as its default delimiter, and that is the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_table()"}]},{"type":"text","value":" method. You should use whichever you prefer, especially since most of the options in one can be found in the other. This means that by indicating the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sep=','"}]},{"type":"text","value":" with a comma, you can obtain the same result as with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv()"}]},{"type":"text","value":" and read in Comma Separated Values."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# occupational licenses data\ndf_table = pd.read_table('../datasets/files/occupational_licences.tsv')\ndf_table.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# occupational licenses data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_table = pd.read_table('../datasets/files/occupational_licences.tsv')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_table.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If we know a dataset has dates in it we can also convert it to the datetime format provided by pandas as we read in the data. We can do this by putting the names of the columns that have dates in the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"parse_dates="}]},{"type":"text","value":" parameter of our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv()"}]},{"type":"text","value":" function."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# The first argument is the folder where the data lives and the name of the data\n\ndf_csv = pd.read_csv('../datasets/files/Crashes_Last_Five_Years.csv', parse_dates=['ACCIDENT_DATE', 'ACCIDENT_TIME'])\ndf_csv.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# The first argument is the folder where the data lives and the name of the data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_csv = pd.read_csv('../datasets/files/Crashes_Last_Five_Years.csv', parse_dates=['ACCIDENT_DATE', 'ACCIDENT_TIME'])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_csv.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now we can extract additional information from our date variables with some attributes that you can find in the "},{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DatetimeIndex.html","rel":["nofollow"]},"children":[{"type":"text","value":"dates section of pandas"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# here we are accessing the year\ndf_csv['ACCIDENT_DATE'].dt.year.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# here we are accessing the year\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_csv['ACCIDENT_DATE'].dt.year.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# here we are accessing the month\ndf_csv['ACCIDENT_DATE'].dt.month.tail()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# here we are accessing the month\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_csv['ACCIDENT_DATE'].dt.month.tail()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-1"},"children":[{"type":"text","value":"Exercise 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go to any of the websites below, download a dataset of your choosing and read it into memory with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv()"}]},{"type":"text","value":". Use at least one additional argument to read in your file."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/datasets","rel":["nofollow"]},"children":[{"type":"text","value":"Kaggle Datasets"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://archive.ics.uci.edu/ml/index.php","rel":["nofollow"]},"children":[{"type":"text","value":"UC Irvine Machine Learning Repository"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"Data.gov"},"children":[{"type":"text","value":"Data.GOV"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://data.fivethirtyeight.com/","rel":["nofollow"]},"children":[{"type":"text","value":"FiveThirtyEight"}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_3-excel-files"},"children":[{"type":"text","value":"3. Excel Files"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"excel file","src":"https://s3-us-west-2.amazonaws.com/cdn.mychoicesoftware.com/blog/Excel_Meme.jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Excel files are very common, especially if some or all of the members in your team use it for their analyses and tend to share these with us periodically. If this is the case for you, this would mean that you would have to constantly read Excel files at work either with Excel or Google Sheets. But that is up until this point, of course. Fortunately, pandas provides a nice method to read in excel files, that is flexible enough to allow you te read in specific sheets at a time if that is what your use case requires."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The pandas function, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_excel()"}]},{"type":"text","value":", just like "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv()"}]},{"type":"text","value":", provides a plethora of options that you can choose from to tackle the complexity with which many Excel created."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# read in a regular file\ndf_excel = pd.read_excel(\"../datasets/files/supermarket_demo.xlsx\")\ndf_excel.tail()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# read in a regular file\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_excel = pd.read_excel(\"../datasets/files/supermarket_demo.xlsx\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_excel.tail()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you open up the supermarket dataset you will notice that it contains 2 sheets. pandas function "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_excel()"}]},{"type":"text","value":" by default reads in the first sheet it finds in a spreadsheet so in our case, that is the myanmar dataset as shown above. Let's now read in the egypt one with the help of the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sheet_name="}]},{"type":"text","value":" argument."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that in the call below we also use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"parse_dates=True"}]},{"type":"text","value":" argument instead of specifying the columns we want to parse, this is to tell pandas to infer which variables represent dates while it reads in the data. This method works well often but in most cases, it is better to be explicit about which variables you would like to parse as date type as opposed to leaving it to pandas."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_excel = pd.read_excel(\"../datasets/files/supermarket_demo.xlsx\", sheet_name='egypt', parse_dates=True)\ndf_excel.tail()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_excel = pd.read_excel(\"../datasets/files/supermarket_demo.xlsx\", sheet_name='egypt', parse_dates=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_excel.tail()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# check the new type\ntype(df_excel['date'][0])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# check the new type\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"type(df_excel['date'][0])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"type(df_excel.loc[0,'date'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"type(df_excel.loc[0,'date'])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"type(df_excel.iloc[0,8])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"type(df_excel.iloc[0,8])\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-2"},"children":[{"type":"text","value":"Exercise 2"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Find an Excel (or any spreadsheet) file in your computer that has data in a tabular format (i.e. a big square with rows and columns) and read it into your session with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_excel()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If you can't find one to read in, create one with fake data and use that one insted. It does not need to have a lot of data in it. 10 rows and 5 columns would work fine."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If you don't have Excel, you can create a spreadsheet using Google Sheets and download it as an Excel file."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If neiether option above is feasible for you, please move on to the next section."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"_4-html-files"},"children":[{"type":"text","value":"4. HTML Files"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"html","src":"https://media.giphy.com/media/l3vRfNA1p0rvhMSvS/giphy.gif"},"children":[]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"Hypertext Markup Language (HTML) is the standard markup language for documents designed to be displayed in a web browser. It can be assisted by technologies such as Cascading Style Sheets (CSS) and scripting languages such as JavaScript.\" ~ "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/HTML","rel":["nofollow"]},"children":[{"type":"text","value":"Wikipedia"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"pandas has, among many things, a function to allow us to read "},{"type":"element","tag":"a","props":{"href":"https://html.spec.whatwg.org/","rel":["nofollow"]},"children":[{"type":"text","value":"HTML"}]},{"type":"text","value":" tables from a website. This function is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_html()"}]},{"type":"text","value":", and although it is not a full-fledge web scraping tool such as "},{"type":"element","tag":"a","props":{"href":"https://scrapy.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Scrapy"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://www.crummy.com/software/BeautifulSoup/","rel":["nofollow"]},"children":[{"type":"text","value":"BeautifulSoup"}]},{"type":"text","value":". These last two libraries are very powerful web scraping tools that you are more than encouraged to explore on your own. Intermediate to complex web scraping requires a fair amount of knowledge on how the structure of a website works but I have no dobts that with a few hours of focused studying, a couple of projects later, or in the next couple of minutes, you might be well on your way to scraping your own data with 🐼. 😎"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we explore pandas method for web scraping, let's quickly define it:"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Web Scraping"}]},{"type":"text","value":" refers to extracting data, structured or unstructured, from websites and making it useful for a variety of purposes, such as marketing analysis. Companies in the marketing arena use web scraping to colect comments about their products. Others, like Google, scrape the entire internet to rank websites given a criterion or search query. While web scraping might be limited in scope to a single website, like what a marketer might do, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"web crawling"}]},{"type":"text","value":" is the art of crawling over many different and/or nested websites on one try, or repeadately over time, like what Google does."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will be scraping the the International Foundation for Art Research website using the link below. An important thing to keep in mind is that, the pandas function "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_html()"}]},{"type":"text","value":" captures whichever tables it can find in the website provided and it then adds them to a list of dataframes where each  dataframe comes from a table. This means that you would have to first assign the list to a variable and then dump the table or tables you want into a combined dataframe."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://www.ifar.org/catalogues_raisonnes.php?alpha=&searchtype=artist&published=1&inPrep=1&artist=&author=","rel":["nofollow"]},"children":[{"type":"text","value":"http://www.ifar.org/catalogues_raisonnes.php?alpha=&searchtype=artist&published=1&inPrep=1&artist=&author="}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"How to check whether there is a table in a website or not. There are probably plenty of ways to check whether there is a table in a website or not, so here are two immediate ones."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"See if there is a table-like shape in the website that you are interested in. This table would ideally have information in a shape that would fit into a pandas dataframe. For example,\n"},{"type":"element","tag":"img","props":{"alt":"table","src":"../images/table.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The second option is to navigate to the website you are interested in and"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you have any issues with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_html()"}]},{"type":"text","value":" function, please check and see if you have the following packages installed and then try again."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"conda install lxml"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip install beautifulsoup4 html5lib"}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"data = pd.read_html('http://www.ifar.org/catalogues_raisonnes.php?alpha=&searchtype=artist&published=1&inPrep=1&artist=&author=')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data = pd.read_html('http://www.ifar.org/catalogues_raisonnes.php?alpha=&searchtype=artist&published=1&inPrep=1&artist=&author=')\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"print(type(data), len(data))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"print(type(data), len(data))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"type(data[0])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"type(data[0])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_html = data[0]\ndf_html.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_html = data[0]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_html.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that the column names are not where they should be. Let's fix that."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will take the column names from the first row, convert the selection to a regular Python list and then reasign these names to the column names of our dataframe."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# take the first row out and make it a list\ncol_names = df_html.iloc[0].tolist()\ncol_names\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# take the first row out and make it a list\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"col_names = df_html.iloc[0].tolist()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"col_names\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# reasign the names to the column names index\ndf_html.columns = col_names\n\n# drop the first row of the dataframe\ndf_html.drop(index=0, axis=0, inplace=True)\ndf_html.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# reasign the names to the column names index\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_html.columns = col_names\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# drop the first row of the dataframe\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_html.drop(index=0, axis=0, inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_html.head()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-3"},"children":[{"type":"text","value":"Exercise 3"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Find a table to scrape in World Wide Web and read it in with pandas."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"awesome-work"},"children":[{"type":"text","value":"Awesome Work!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You are now ready to start cleaning and preparing datasets for analysis!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"great_work","src":"https://media.giphy.com/media/SWzVtsCPEPggXQsGoT/giphy.gif"},"children":[]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"notebook-outline","depth":2,"text":"Notebook Outline"},{"id":"exercise-1","depth":2,"text":"Exercise 1"},{"id":"exercise-2","depth":2,"text":"Exercise 2"},{"id":"exercise-3","depth":2,"text":"Exercise 3"},{"id":"awesome-work","depth":2,"text":"Awesome Work!"}]}},"_type":"markdown","_id":"content:3.data-engineering:1.getting_data.md","_source":"content","_file":"3.data-engineering/1.getting_data.md","_extension":"md"},{"_path":"/data-engineering/data_cleaning","_dir":"data-engineering","_draft":false,"_partial":false,"_locale":"","title":"Data Cleaning","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"data-cleaning"},"children":[{"type":"text","value":"Data Cleaning"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\"There are only two forces in the world, the sword dirty data and the spirit clean data. In the long run the sword dirty data will (not) always be conquered by the spirit clean data.\" ~ Napoleon CleanYourData"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“Errors using inadequate data are much less than those using no data at all.” ~ Charles Babbage"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"cleaning","src":"https://mir-s3-cdn-cf.behance.net/project_modules/2800_opt_1/26735b30602051.562a428b6a89f.jpg"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://www.behance.net/Tchiniss","rel":["nofollow"]},"children":[{"type":"text","value":"Matthieu Bogaert"}]}]},{"type":"element","tag":"h2","props":{"id":"notebook-structure"},"children":[{"type":"text","value":"Notebook Structure"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Structure vs Unstructured Data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What is Data Cleaning?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Data Loading"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Data Inspection"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Cleaning & Preparation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Save your work"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Summary"}]}]},{"type":"element","tag":"h2","props":{"id":"_1-structured-vs-unstructured-data"},"children":[{"type":"text","value":"1. Structured vs Unstructured Data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data can be found in mainly two ways in this day and age, as "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"structured"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"unstructured"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Structured data"}]},{"type":"text","value":" is the one we find \"neatly\" organized in databases as rows and columns. Data in databases are organized in a two-dimensional, tabular format (think of it as the data you see on a grid or matrix-like spreadsheet) where every data point, unit of measure or observation can be found in the rows with a unique identifier attached to it, and where the characteristics (also called variables or features) of each one of these observations can be found in the columns."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"structure","src":"https://cdn.architecturendesign.net/wp-content/uploads/2015/09/AD-The-Coolest-New-Buildings-On-The-Planet-23.jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Unstructured data"}]},{"type":"text","value":", on the other hand, is more difficult to acquire, format, and manipulate as it is not often found neatly organized in a database. Unstructured data is often heavily composed of an entangled combination of text, numbers, dates, and other formats of data that are found in the wild (e.g. documents, emails, pictures, etc.)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"unstructure","src":"https://ghotchkiss.files.wordpress.com/2015/04/messymarketing.jpeg"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"_2-what-is-a-data-cleaning"},"children":[{"type":"text","value":"2. What is a Data Cleaning?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"data_mess","src":"http://brewminate.com/wp-content/uploads/2018/02/022518-32-Information-Philosophy.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://brewminate.com/","rel":["nofollow"]},"children":[{"type":"text","value":"https://brewminate.com/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Wikipedia has a beatiful definition of data cleaning, which was in turned modified from a paper from Shaomin Wu titled, "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"\"A Review on Coarse Warranty Data and Analysis\""}]},{"type":"text","value":" (see citation below)."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"\"Data cleansing or data cleaning is the process of detecting and correcting (or removing) corrupt or inaccurate records from a record set, table, or database and refers to identifying incomplete, incorrect, inaccurate or irrelevant parts of the data and then replacing, modifying, or deleting the dirty or coarse data.\""}]},{"type":"text","value":" ~ Wikipedia & Shaomin Wu"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we first encounter messy data, we usually start by going through a non-exhaustive checklist and/or use some rules of thumbs to identify, tackle, and repeat, each mess from the messy pile of data we have. Some of the items in our checklist might be:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do we have column names? If so,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are the column names normalised? (e.g. lower case, spaces or no spaces, numbers only as names)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do we have dates? If so,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"how are these represented?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do we have different formats in different rows? (e.g. 31-Oct-2020, October 31st 2020, ...)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do they have the time in them or is this in a separate column?"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are there different data structures within an element of an observation? (e.g. do we have lists with lists in them inside the value of a row and column combinantion)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If we have numerical data points representing a monetary value, which denomination are these in?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"How was the data generated?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Do we have any missing values? if so,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are they missing at random?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are they missing by accident? (e.g. was it due to an error during the data collection process)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are they intentionally empty? (e.g. think of a conditional question in a survey, if the participant answered yes to the previous question, use this one next, if not, skip the next 3 questions)"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are there any outliers in our dataset? if so,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are these true outliers? (e.g. finding the salary of Jeff Bezos in a list with the income of all of the people from the state of Washington)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are these mistakes we need to take care of? (e.g. finding negative prices for the price of bread, that doesn't sound right)"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Are there any duplicate observations/samples in our dataset?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Is the format in which the data is stored the best one available or should we use a different one?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All of this questions get tackled in a data format described by Hadley Wickham in a paper by the same name as the data format called, "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"\"Tidy Data\""}]},{"type":"text","value":". In his paper, Hadley describes "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Tidy Data"}]},{"type":"text","value":" as:"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"\"Tidy datasets are easy to manipulate, model and visualise, and have a specific structure: each variable is a column, each observation is a row, and each type of observational unit is a table.\""}]},{"type":"text","value":" ~ Hadley Wickham"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"While our datasets might not contain all of the issues described in Tidy Data that might come un in messy datasets, the strategies and concepts outlined in it will prove useful in many cases you might encounter throughout your career, so I highly recommend that you read it at some point."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One last thing about data cleaning, it is not a one time thing inside the data analytics cycle but quite the opposite, you might find yourself going back to the data cleaning process 2 or more times as your understanding of the data increases during the same project."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Sources"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Wu, Shaomin (2013) A Review on Coarse Warranty Data and Analysis. Reliability Engineering and System Safety, 114 . pp. 1-11. ISSN 0951-8320."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Wickham, Hadley (2014) Tidy data. The Journal of Statistical Software, vol. 59, 2014. 10. "},{"type":"element","tag":"a","props":{"href":"http://www.jstatsoft.org/v59/i10/","rel":["nofollow"]},"children":[{"type":"text","value":"http://www.jstatsoft.org/v59/i10/"}]}]}]},{"type":"element","tag":"h2","props":{"id":"_3-the-data"},"children":[{"type":"text","value":"3. The Data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For this lesson, we will be working with a dataset containing weather data for Australia from 2007 to 2017. The nice thing about this dataset is that, although it has been pre-processed and it is quite clean, there is still a fair amount work to do regarding missing values, outliers and the like. Once you are out in the real world, you will encounter a plethora of datasets with different data types per column, incomprehensible data structures and, not to scare you, many other issues such as different formats within different elements inside different structures. In other words, data that might look like this:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"spaghetti","src":"https://media.giphy.com/media/dZRlFW1sbFEpG/giphy.gif"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Source:"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://foodbinge.tumblr.com/post/26122779310","rel":["nofollow"]},"children":[{"type":"text","value":"https://foodbinge.tumblr.com/post/26122779310"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"About the data:"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis dataset contains weather information from many of the weather stations around Australia. For most weather stations, we have about 365 observations for the years 2007 to 2017. More information about the dataset can be found in the "},{"type":"element","tag":"a","props":{"href":"http://www.bom.gov.au/climate/dwo/","rel":["nofollow"]},"children":[{"type":"text","value":"Australian Bureau of Meteorology website"}]},{"type":"text","value":", and below you can find a short description of the variables in the dataset."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Variables info:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Date --> day, month, and year of the observation, each weather station has its own"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Location --> location of the weather station"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"MinTemp --> minimum temperature for that day"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"MaxTemp --> maximum temperature for that day"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Rainfall --> the amount of rainfall recorded for the day in mm"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Evaporation --> the so-called Class A pan evaporation (mm) in the 24 hours to 9am"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sunshine --> the number of hours of bright sunshine in the day"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"WindGustDir --> the direction of the strongest wind gust in the 24 hours to midnight"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"WindGustSpeed --> the speed (km/h) of the strongest wind gust in the 24 hours to midnight"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"WindDir9am --> direction of the wind at 9am"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"WindDir3pm --> direction of the wind at 3pm"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"WindSpeed9am --> wind speed (km/hr) averaged over 10 minutes prior to 9am"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"WindSpeed3pm --> wind speed (km/hr) averaged over 10 minutes prior to 3pm"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Humidity9am --> humidity (percent) at 9am"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Humidity3pm --> humidity (percent) at 3pm"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pressure9am --> atmospheric pressure (hpa) reduced to mean sea level at 9am"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pressure3pm --> atmospheric pressure (hpa) reduced to mean sea level at 3pm"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Cloud9am --> fraction of sky obscured by cloud at 9am. This is measured in \"oktas\", which are a unit of eigths. It records how many"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Cloud3pm --> fraction of sky obscured by cloud (in \"oktas\": eighths) at 3pm. See Cload9am for a description of the values"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Temp9am --> temperature (degrees C) at 9am"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Temp3pm --> temperature (degrees C) at 3pm"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"RainToday --> boolean: 1 if precipitation (mm) in the 24 hours to 9am exceeds 1mm, otherwise 0"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"RISK_MM --> the amount of next day rain in mm. Used to create response variable RainTomorrow. A kind of measure of the \"risk\"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"RainTomorrow --> did it rain the following day?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The dataset and the information for the variables was taken from Kaggle, and you can find out more about the dataset either using the link above or the one below, and about Kaggle using the link below as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Link --> "},{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/jsphyg/weather-dataset-rattle-package","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.kaggle.com/jsphyg/weather-dataset-rattle-package"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, let's get to loading, inspecting, and preparing our dataset."}]},{"type":"element","tag":"h2","props":{"id":"_4-data-loading"},"children":[{"type":"text","value":"4. Data Loading"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will be loading the dataset using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv()"}]},{"type":"text","value":" method we learned about during the last lesson, but before we load the data, we will see if we can figure inspect the first few rows of it with a helpful command line script called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"head"}]},{"type":"text","value":" (*nix users) or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"type"}]},{"type":"text","value":" (Windows users). You might be wondering if these method resemble the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.head()"}]},{"type":"text","value":" method we learned in the last lesson, and the answer is yes. By passing a second parameter "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"-n"}]},{"type":"text","value":", then a number "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"-n 5"}]},{"type":"text","value":", and then the path to the file, we can print the amount of rows we specified to the console. This same command will run smoothly in Git Bash or with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"type"}]},{"type":"text","value":" command below for Windows users."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's try it out."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# for windows users\n!type datasets\\files\\weatherAUS.csv -Head 5\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# for windows users\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"!type datasets\\files\\weatherAUS.csv -Head 5\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# for mac users or windows users with Git Bash\n!head -n 5 ../datasets/files/weatherAUS.csv\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# for mac users or windows users with Git Bash\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"!head -n 5 ../datasets/files/weatherAUS.csv\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Although we described the variables above, we can see that we have a date variable that we can parse as date type while reading the data into memory to save us some time. Let's go ahead and read in the data after we import our packages. We will assign our data to the variable "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import pandas as pd\nimport numpy as np\n\npd.set_option('display.max_columns', None)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import numpy as np\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.set_option('display.max_columns', None)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that we changed a global option of pandas so that if we print our dataframe, examine its head or tail, we can see all columns printed and not just the first and last 5, which is pandas default."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# Should you need a quick refresher on pd.read_csv(), run this cell : )\npd.read_csv??\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Should you need a quick refresher on pd.read_csv(), run this cell : )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_csv??\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you are a windows user, please don't forget to to use back slashes "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":" as opposed to forward ones "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/"}]},{"type":"text","value":" when raeding or saving the data."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df = pd.read_csv(\"../datasets/files/weatherAUS.csv\", parse_dates=['Date'])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df = pd.read_csv(\"../datasets/files/weatherAUS.csv\", parse_dates=['Date'])\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we have a dataframe\ntype(df)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we have a dataframe\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"type(df)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.head()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_5-data-inspection"},"children":[{"type":"text","value":"5. Data Inspection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The first thing we want to do as soon as we get the data is to examine its content not only to see the kind of data we have but also to see if we can spot any inconsistencies that need to be dealt with from the start. Here are a few very useful methods available in pandas."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.head()"}]},{"type":"text","value":" --> shows the first 5 rows of a DataFrame or Series"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.tail()"}]},{"type":"text","value":" --> shows the last 5 rows of a DataFrame or Series"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.info()"}]},{"type":"text","value":" --> provides information about the DataFrame or Series"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.describe()"}]},{"type":"text","value":" --> provides descriptive statistics of the numerical variables in a DataFrame"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.isna()"}]},{"type":"text","value":" --> returns True for every element that is NaN and False for every element that isn't"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"df.notna()"}]},{"type":"text","value":" --> does the opposite of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".isna()"}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# Let's look at the number of rows and columns we have in our dataset\ndf.shape\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Let's look at the number of rows and columns we have in our dataset\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.shape\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's now see how our columns are represented\ndf.columns\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's now see how our columns are represented\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.columns\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's look at some of the rows at the begining of our dataset\ndf.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's look at some of the rows at the begining of our dataset\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# let's look at some of the rows at the end of our dataset\ndf.tail()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# let's look at some of the rows at the end of our dataset\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.tail()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".info()"}]},{"type":"text","value":" method is a very useful method of pandas that gives use all of the information available in the dataset, plus the memory our dataset is occupying in our computers. To get the size of the dataset we can use the argument "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"memory_usage='deep'"}]},{"type":"text","value":". Keep in mind though that this parameter can take quite a while to run if it the dataset is too large."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.info()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.info()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.info(memory_usage='deep')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.info(memory_usage='deep')\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nice, we have a lot of numerical values and also know that our dataset takes up about 70MB of memory in our computer. Let's examine the unique weather locations for which we have data."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"len(df['Location'].unique()), df['Location'].unique()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"len(df['Location'].unique()), df['Location'].unique()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Australia collects, or the dataset contains, information from 49 weather stations around the country. Let's see how many missing values do we have in this dataset. To do this, we can chain the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".isna()"}]},{"type":"text","value":" method with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".sum()"}]},{"type":"text","value":" method, to get the total count of the instances where a value is missing, for each of the columns."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.isna().sum()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.isna().sum()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If we would like to see the percentage of missing values per column, we could divide each column by the total amount of rows in the dataset, and then multiply by 100."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# if we would like to see the percentage of missing values per row, we could use\nmissing_values = (df.isna().sum() / df.shape[0]) * 100\nmissing_values\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# if we would like to see the percentage of missing values per row, we could use\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"missing_values = (df.isna().sum() / df.shape[0]) * 100\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"missing_values\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.describe() # describe excludes all missing data by default and shows us the descriptive stats of our numerical variables\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.describe() # describe excludes all missing data by default and shows us the descriptive stats of our numerical variables\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.describe().T # remember the .T method to transpose arrays?\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.describe().T # remember the .T method to transpose arrays?\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's double check the years we have data for, and how many values do we have per year."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df['Date'].dt.year.value_counts()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df['Date'].dt.year.value_counts()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We could also look at how much data do we have per city for all of the years. For this we can select the specific location we want, say Sydney, pass this selection as a boolean condition to our dataframe while selecting the Date column, and the use a very covenient pandas method called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".value_counts()"}]},{"type":"text","value":". This method counts the instances of every category selected and returns the total number in descending order."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"melbourne = df['Location'] == 'Melbourne'\nmelbourne.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"melbourne = df['Location'] == 'Melbourne'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"melbourne.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"sorted(df.loc[df['Location'] == 'Sydney', 'Date'].dt.year.value_counts())\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sorted(df.loc[df['Location'] == 'Sydney', 'Date'].dt.year.value_counts())\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some of the things we found were:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Most variables have missing data below 10% of the sample and only a handful have more than 35% of missing values"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Most variables are numerical"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The columns could be made to lower case"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We need to figure out why the data is missing where it is missing"}]}]},{"type":"element","tag":"h2","props":{"id":"_6-cleaning-preparation"},"children":[{"type":"text","value":"6. Cleaning & Preparation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Cleaning and prepraring our data for analysis is one of the most crucial step of the data analytics cycle, and a non-perfect one as well. You will often find yourself coming up with different ways of reshaping and structuring the data, and thus, coming back to the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Clean & Prepare"}]},{"type":"text","value":" stage of the process. This is completely normal and somewhat rewarding, especially since a lot of the times, insights come out when you least expect them, and even while you are working with different data."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's begin by normalising our columns so that they have no spaces and are all lowercase. This is never a necessity but rather a preference."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.columns\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.columns\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"[col.lower() for col in df.columns]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"[col.lower() for col in df.columns]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# Let's normalise the columns\ndf.columns = [col.lower() for col in df.columns]\ndf.columns\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# Let's normalise the columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.columns = [col.lower() for col in df.columns]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.columns\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_61-dealing-with-missing-values"},"children":[{"type":"text","value":"6.1 Dealing with Missing Values"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"missing","src":"https://media.giphy.com/media/26n6WywJyh39n1pBu/giphy.gif"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the last section we realised that we have quite a few missing values in some of the columns, and we should deal with them carefully. pandas provides a couple of great tools for dealing with missing values, and here are some of the most important ones dropping and detecting missing values."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".dropna()"}]},{"type":"text","value":" --> drops all or some missing values by column or row. Default is row"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".isna()"}]},{"type":"text","value":" --> returns a boolean Series or DataFrame with a True for NaN values"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".notna()"}]},{"type":"text","value":" --> does the opposite of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".isna()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".isnull()"}]},{"type":"text","value":" --> same as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".isna()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".notnull()"}]},{"type":"text","value":" --> same as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".notna()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".fillna()"}]},{"type":"text","value":" --> allows you to fill missing values given a criterion"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we encounter NaN values, our default action should never be to drop them immediate. We should first figure out why these values might be missing by thoroughly inspecting the data, and by looking at the documentation of how the data was gathered/acquired, should one exist and have enough details of the data collection process, of course. If you come up with a project where you scraped the data you needed, documentation might be a bit trickier."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One of the reasons we don't want to get rid of missing data immediately is that we might not be able to tell, upon first inspection, whether the missing values are due to an error with data collection or simply an instance that doesn't exist. For example, imagine you own a retail store that sells clothes for all kinds of weather and that you have a general survey that you send out to all of your customers. If you were to ask a customer in Latin America about whether they like to wear fluffy coats or regular coats whenever is winter season, they will probably leave that section blank because they don't experience a change of weather significant enough to buy that type of clothing. Hence, the missing value is not due to an error but rather an accurate representation of the answers provided by the respondents."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We do, however, might want to get rid of columns with too many missing values and/or rows with too few. And this is, in fact, what we will do first by dropping the rows with less than 10% of missing values."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can accomplish this by first creating a condition with our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"missing_values"}]},{"type":"text","value":" values var where we filter out the columns with 10% or more missing values, and leave the ones with less so that we can remove the missing rows from them using the method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".dropna()"}]},{"type":"text","value":" of pandas. Before getting rid of the missing values though, we will first check if there are any duplicate rows in our dataset that might be inflating the number of missing values."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.duplicated().head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.duplicated().head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# We use the .sum() method to add up the instances where the values are indeed duplicated\ndf.duplicated().sum()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# We use the .sum() method to add up the instances where the values are indeed duplicated\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.duplicated().sum()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since we detected no duplicates, we will do one last step before removing rows with missing values, and that is to fill in any of the categorical variables with the word "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Unkown"}]},{"type":"text","value":" as a placeholder. We will do so by first creating a dictionary and then passing that dictionary into the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".fillna()"}]},{"type":"text","value":" pandas method."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"categorical_vars = {\n    'windgustdir': 'Unknown',\n    'windgustspeed': 'Unknown',\n    'winddir9am': 'Unknown',\n    'winddir3pm': 'Unknown'\n}\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"categorical_vars = {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'windgustdir': 'Unknown',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'windgustspeed': 'Unknown',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'winddir9am': 'Unknown',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    'winddir3pm': 'Unknown'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df[categorical_vars.keys()].head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df[categorical_vars.keys()].head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.fillna(categorical_vars, inplace=True)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.fillna(categorical_vars, inplace=True)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"missing_values = (df.isna().sum() / df.shape[0]) * 100\nmissing_values\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"missing_values = (df.isna().sum() / df.shape[0]) * 100\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"missing_values\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"type(missing_values)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"type(missing_values)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"missing_values[(missing_values <= 10) & (missing_values > 0)].index\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"missing_values[(missing_values <= 10) & (missing_values > 0)].index\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"mask_of_rows_to_drop = (missing_values <= 10) & (missing_values > 0)\n\nrows_to_drop = list(missing_values[mask_of_rows_to_drop].index)\nrows_to_drop\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"mask_of_rows_to_drop = (missing_values <= 10) & (missing_values > 0)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rows_to_drop = list(missing_values[mask_of_rows_to_drop].index)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"rows_to_drop\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# we will assign the new dataframe to a new variable\n\ndf_clean1 = df.dropna(subset=rows_to_drop, axis=0).copy()\n\n# and then check if there was a significant change\n(df_clean1.isna().sum() / df_clean1.shape[0]) * 100\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# we will assign the new dataframe to a new variable\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1 = df.dropna(subset=rows_to_drop, axis=0).copy()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# and then check if there was a significant change\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"(df_clean1.isna().sum() / df_clean1.shape[0]) * 100\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following subtraction will tell us how many rows were deleted by the previous action. Remember that shape gives us back a tuple with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"(rows_length, col_lenght)"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df.shape[0] - df_clean1.shape[0]\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df.shape[0] - df_clean1.shape[0]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is important to note that we not always want to pick such a high number like 10 to drop rows with missing values since we might be sacrificing way too much information. We instead, should work with stakeholders to figure out reasons and/or solutions for missing values. Ideally, dropping rows with 5% or less would be okay for any given dataset but again, it is best to deal with them alongside the subject-matter experts to tackle the issue as best as possible."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_clean1.info()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1.info()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our next step would be to either drop the columns that have more than a third of their values missing or, to pick a value that makes sense to fill in the missing values. For example, we might want to use the mean or the median of the values of a column to fill in the missing values. If our data was orderd, i.e. time series, we might use methods such as forward and backward fill which take the previous and following available value, respectively, and fill in the missing ones with these."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We also need to keep in mind that there may be a few outliers in our columns with missing values, and if so, the mean would give us an unrealistic representation of the missing values. We could deal with these missing values in two ways, for the numerical values we will use the median, which is robust against outliers, and for the categorical variables we will use forward or backward fill or we could fill in the missing instance with the word "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Unknown"}]},{"type":"text","value":" as a placeholder, as done previously, and carry on with cleaning and analysing the data."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's examine the columns we have left with missing values."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_clean1[['evaporation', 'sunshine', 'cloud9am', 'cloud3pm']].describe()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1[['evaporation', 'sunshine', 'cloud9am', 'cloud3pm']].describe()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that the minimum value for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cloud9am"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cloud3pm"}]},{"type":"text","value":" is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"0"}]},{"type":"text","value":". This means that it could be that there are days with no clouds in the sky. Hence, it might be more realistic to fill in the missing value of our cloudy days with a 0 rather than the mean or the median. Let's do this with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".fillna()"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_clean1[['cloud9am', 'cloud3pm']] = df_clean1[['cloud9am', 'cloud3pm']].fillna(0)\ndf_clean1.isna().sum()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1[['cloud9am', 'cloud3pm']] = df_clean1[['cloud9am', 'cloud3pm']].fillna(0)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1.isna().sum()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, evaporation and sunshine both have their mean and medians quite close to each other so we could, potentially, favor either option but there is one more caveat, the standard deviation. The standard deviation is a measure of dispertion that tells us how far, up or down, the fluctuations from the mean might be. To err on the safer side, let's use the median to fill in our missing values."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will use a loop to do this."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"we will iterate over the columns"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"use the column name to iterate over the dataframe"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"check for whether a column has missing values"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"if so, we will use the median of that same column to fill in its missing values"}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"for col in df_clean1.columns:\n    if df_clean1[col].isna().any():\n        df_clean1[col].fillna(value=df_clean1[col].median(), axis=0, inplace=True)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"for col in df_clean1.columns:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if df_clean1[col].isna().any():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        df_clean1[col].fillna(value=df_clean1[col].median(), axis=0, inplace=True)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's check if there are any remaining missing values."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_clean1.isna().sum()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1.isna().sum()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nice work! Let's now get a few additional variables before we move on to saving our cleaned dataset."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since the weather is time series data (e.g. data gathered over time), we will create additional date variables for visualisation purposes. When we have a date column of data type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"datetime"}]},{"type":"text","value":", we can access all of the attributes available in our date column using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dt"}]},{"type":"text","value":" attribute followed by the subattribute we would like to access. You can find out more about the additional subattributes in the "},{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DatetimeIndex.html","rel":["nofollow"]},"children":[{"type":"text","value":"documentation of pandas here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_clean1['date'].dt.weekday.head(15)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1['date'].dt.weekday.head(15)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_clean1['month'] = df_clean1['date'].dt.month\ndf_clean1['year'] = df_clean1['date'].dt.year\ndf_clean1.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1['month'] = df_clean1['date'].dt.month\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1['year'] = df_clean1['date'].dt.year\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1.head()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-1"},"children":[{"type":"text","value":"Exercise 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add a new column to the dataset that contains the week of the year. Call the new column, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"week"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-2"},"children":[{"type":"text","value":"Exercise 2"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add a new column to the dataset that contains the weekday in numbers (e.g. 0 == Monday, 1==Tuesday, or something similar). Call the new column, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"weekday"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-3"},"children":[{"type":"text","value":"Exercise 3"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add a new column to the dataset that contains the quarter of the year. Call the new column, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"quarter"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-4"},"children":[{"type":"text","value":"Exercise 4"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add a new column to the dataset that contains the name of the day of a week (e.g. Monday, Tuesday, etc.). Call the new column, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"day_of_week"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-5"},"children":[{"type":"text","value":"Exercise 5"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add a new column to the dataset that says whether it is a weekday or the weekend. Call the new column, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"week_or_end"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We might want to represent the quarter variable as a category later on, so we will create a dictionary with the values we would like to change, and pass it to our Python's "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".map()"}]},{"type":"text","value":" function. A very useful fuction to map a function to an array of values, to a column or other data structure. We will assign the result to a new column called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"qrt_cate"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"# for more info on how map works, please run this cell\nmap?\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# for more info on how map works, please run this cell\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"map?\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"mapping = {1:'first_Q',\n           2:'second_Q',\n           3:'third_Q',\n           4:'fourth_Q'}\n\n\ndf_clean1['qtr_cate'] = df_clean1['quarter'].map(mapping)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"mapping = {1:'first_Q',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"           2:'second_Q',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"           3:'third_Q',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"           4:'fourth_Q'}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_clean1['qtr_cate'] = df_clean1['quarter'].map(mapping)\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_7-save-your-work"},"children":[{"type":"text","value":"7. Save your work"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The last thing we want to do is to reset the index of our dataframe and save its clean version for later use."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can use pandas method "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".reset_index()"}]},{"type":"text","value":" to reset the index. Notice the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"drop=True"}]},{"type":"text","value":", if we do not make this parameter equal to True, pandas will assign the old index to a new column."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The next method we will use is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".to_csv()"}]},{"type":"text","value":". By applying this method to a dataframe, all we need to do is to give the data a name (in quotation marks), and pass in the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"index=False"}]},{"type":"text","value":" parameter if we don't want the index to be added as a new column."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_ready = df_clean1.reset_index(drop=True).copy()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_ready = df_clean1.reset_index(drop=True).copy()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"df_ready.to_csv('weather_ready.csv', index=False)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"df_ready.to_csv('weather_ready.csv', index=False)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"!head -n 5 weather_ready.csv\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"!head -n 5 weather_ready.csv\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"pandas_tools","src":"https://i.chzbgr.com/full/1898496256/h42C0CC42/panda-cleaning-instructions"},"children":[]}]},{"type":"element","tag":"h1","props":{"id":"awesome-work-we-will-continued-to-clean-more-dataset-but-for-now-on-to-dataviz"},"children":[{"type":"text","value":"Awesome Work! We will continued to clean more dataset but for now, on to DataViz"}]},{"type":"element","tag":"h2","props":{"id":"_8-summary"},"children":[{"type":"text","value":"8. Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this lesson we have covered pandas in great lenght, and still, we have yet to scratch the surface of what this powerful tool can do. Some keypoints to take away:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pandas provides two fantastic data structures for data analysis, the DataFrame and the Series"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We can slice and dice these data structures to our hearts content all while keeping in mind the inconsistencies that we might find in different datasets"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We should always begin by inspecting our data immediately after loading it into our session. pandas provides methods such as info, describe, and isna that work very well and allow us to see what we have the data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When cleaning data, missing values need to be treated carefully as the reasons behind them might differ from one variable to the next."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Always keep in mind to\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Check for duplicates"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Normalise columns"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Deal with missing values, preferably with stakeholders or subject matter experts if the amount of missing values is vast"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use dates to your advantage"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Don't try to learn all the tools inside pandas but rather explore the ones you need as the need arises, or, explore them slowly and build an intuition for them"}]}]},{"type":"element","tag":"h2","props":{"id":"references"},"children":[{"type":"text","value":"References"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sweigart, Al. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Automate the Boring Stuff with Python: Practical Programming for Total Beginners"}]},{"type":"text","value":". No Starch Press, 2020."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"VanderPlas, Jake. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"A Whirlwind Tour of Python"}]},{"type":"text","value":". O'Reilly, 2016."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"VanderPlas, Jake. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Python Data Science Handbook"}]},{"type":"text","value":". O'Reilly, 2017."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"McKinney, Wes. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Python for Data Analysis: Data Wrangling with Pandas, NumPy, and IPython"}]},{"type":"text","value":". OReilly, 2018."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"notebook-structure","depth":2,"text":"Notebook Structure"},{"id":"_1-structured-vs-unstructured-data","depth":2,"text":"1. Structured vs Unstructured Data"},{"id":"_2-what-is-a-data-cleaning","depth":2,"text":"2. What is a Data Cleaning?"},{"id":"_3-the-data","depth":2,"text":"3. The Data"},{"id":"_4-data-loading","depth":2,"text":"4. Data Loading"},{"id":"_5-data-inspection","depth":2,"text":"5. Data Inspection"},{"id":"_6-cleaning-preparation","depth":2,"text":"6. Cleaning & Preparation","children":[{"id":"_61-dealing-with-missing-values","depth":3,"text":"6.1 Dealing with Missing Values"}]},{"id":"exercise-1","depth":2,"text":"Exercise 1"},{"id":"exercise-2","depth":2,"text":"Exercise 2"},{"id":"exercise-3","depth":2,"text":"Exercise 3"},{"id":"exercise-4","depth":2,"text":"Exercise 4"},{"id":"exercise-5","depth":2,"text":"Exercise 5"},{"id":"_7-save-your-work","depth":2,"text":"7. Save your work"},{"id":"_8-summary","depth":2,"text":"8. Summary"},{"id":"references","depth":2,"text":"References"}]}},"_type":"markdown","_id":"content:3.data-engineering:2.data_cleaning.md","_source":"content","_file":"3.data-engineering/2.data_cleaning.md","_extension":"md"},{"_path":"/data-engineering/etl_pipes","_dir":"data-engineering","_draft":false,"_partial":false,"_locale":"","title":"01 ETL Pipelines","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"_01-etl-pipelines"},"children":[{"type":"text","value":"01 ETL Pipelines"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“Without a systematic way to start and keep data clean, bad data will happen.” — Donato Diorio"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"data_flow","src":"https://cdn.dribbble.com/users/1752792/screenshots/5652276/media/12db9ebc672c30dcb4d0fd125f70fb41.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Source: "},{"type":"element","tag":"a","props":{"href":"https://dribbble.com/shots/5652276-User-flow/attachments/10982649?mode=media","rel":["nofollow"]},"children":[{"type":"text","value":"Mindaugas Sadūnas"}]}]},{"type":"element","tag":"h2","props":{"id":"table-of-contents"},"children":[{"type":"text","value":"Table of Contents"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#1.-Overview"},"children":[{"type":"text","value":"Overview"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#2.-Learning-Outcomes"},"children":[{"type":"text","value":"Learning Outcomes"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#3.-Data"},"children":[{"type":"text","value":"Data"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#4.-Tools"},"children":[{"type":"text","value":"Tools"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#5.-Data-Pipelines"},"children":[{"type":"text","value":"Data Pipelines"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#6.-%F0%9F%90%BC-%60pipe%60lines"},"children":[{"type":"text","value":"🐼 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":"lines"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#7.-Extract"},"children":[{"type":"text","value":"Extract"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#8.-Transform"},"children":[{"type":"text","value":"Transform"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#9.-Load"},"children":[{"type":"text","value":"Load"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#10.-Launch-a-Pipeline"},"children":[{"type":"text","value":"Launch a Pipeline"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#11.-Summary"},"children":[{"type":"text","value":"Summary"}]}]}]},{"type":"element","tag":"h2","props":{"id":"_1-overview"},"children":[{"type":"text","value":"1. Overview"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You are a data analyst working at Beautiful Analytics, and you have been given a project in which you will work using data generated from shared bikes systems in the cities of London (England, UK), Seoul (South Korea), and Washington (DC, USA). Your customer's are the governments of each city and what they want to solve is the same,"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Challenge #1"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To predict/forecast how many bikes they will to need to have available in the city at every hour of the dat for the next few years?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each government captures similar data but, as you can imagine, they all use different words and measure similar variables in different ways. This means that our first job before we can answer the question above is to fix the data and put it in amore user-friendly way. While we are at it, we should also try and automate our pipeline so that the next time we need to read, transform, and load new versions of all the data sources for this project, we could do so with the click of a button rather than having to write everything again from scratch. So our first real problem is,"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Challenge #0"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a data pipeline that extracts, transforms and loads the necessary data for the task at hand."}]}]},{"type":"element","tag":"h2","props":{"id":"_2-learning-outcomes"},"children":[{"type":"text","value":"2. Learning Outcomes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we get started, let's go over the learning outcomes for this section of the workshop."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By the end of this lesson you will be able to,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Discuss what ETL and ELT Pipelines are."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Understand how to read and combine data that comes from different sources."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create data pipelines using pandas and prefect."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Understand how to visualize the pipelines you create to help you with their development."}]}]},{"type":"element","tag":"h2","props":{"id":"_3-data"},"children":[{"type":"text","value":"3. Data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"bikes","src":"https://images.pexels.com/photos/11803508/pexels-photo-11803508.jpeg?cs=srgb&dl=pexels-%D1%80%D0%BE%D0%BC%D0%B0%D0%BD-%D0%BA%D0%B0%D0%B4%D1%8C%D0%BA%D0%B0%D0%BB%D0%BE%D0%B2-11803508.jpg&fm=jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All three data files contain similar information about how many bicycles have been rented each hour, day, week and months for several years and for each city government we are working with."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can get more information about the data of each city using the following links."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://archive.ics.uci.edu/ml/datasets/Seoul+Bike+Sharing+Demand#","rel":["nofollow"]},"children":[{"type":"text","value":"Seoul, Korea del Sur"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/hmavrodiev/london-bike-sharing-dataset","rel":["nofollow"]},"children":[{"type":"text","value":"London, England, UK"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/marklvl/bike-sharing-dataset?select=hour.csv","rel":["nofollow"]},"children":[{"type":"text","value":"Washington, DC, USA"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are the variables that appear in the three data files."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"London"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Seoul"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Washington"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"instant"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"date"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temperature"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"hour"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"seasons"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"t2"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temperature"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"year"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"humidity"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"humidity"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"month"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"wind_speed"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"wind_speed"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"hour"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weather_code"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"visibility"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_holiday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_holiday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"dew_point_temp"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weekday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_weekend"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"solar_radiation"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"workingday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"seasons"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"rainfall"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weathersit"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"snowfall"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temperature"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"seasons"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"count"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_holiday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"humidity"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"functioning_day"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"wind_speed"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"casual"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"registered"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since all of these datasets where generated with different business logic and, most likely, by completely different systems, we can certainly expect more inconsistencies than just unmatching column names, numerical formats, and data collected. We will walk through a few cleaning steps after we discuss the tools we will be using today."}]},{"type":"element","tag":"h2","props":{"id":"_4-tools"},"children":[{"type":"text","value":"4. Tools"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The tools that we will use in the workshop are the following."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/","rel":["nofollow"]},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":" - \"is a fast, powerful, flexible and easy to use open source data analysis and manipulation tool, built on top of the Python programming language.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.prefect.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Prefect"}]},{"type":"text","value":" - \"is a new workflow management system, designed for a modern infrastructure and powered by the open source workflow engine, Prefect Core. Users organize tasks into "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"task"}]},{"type":"text","value":"'s and"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":" flow"}]},{"type":"text","value":"'s, and Prefect takes care of the rest.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.python.org/3/library/sqlite3.html","rel":["nofollow"]},"children":[{"type":"text","value":"sqlite3"}]},{"type":"text","value":" - \"SQLite is a library written in C that provides a lightweight disk-based database that does not require a separate server process and allows the database to be accessed using a non-standard variant of the SQL query language.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.python.org/3/library/pathlib.html","rel":["nofollow"]},"children":[{"type":"text","value":"pathlib"}]},{"type":"text","value":" - allows us to manipulate paths as if they were python objects."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we continue, let's load the modules we'll need and examine our datasets."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import pandas as pd\nfrom prefect import flow, task\nimport sqlite3\nfrom contextlib import closing\nfrom pathlib import Path\n\n\npd.options.display.max_rows = None\npd.options.display.max_columns = None\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from prefect import flow, task\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import sqlite3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from contextlib import closing\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from pathlib import Path\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.options.display.max_rows = None\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.options.display.max_columns = None\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"path = Path().cwd().parent.joinpath(\"data\", \"01_part\")\npath\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"path = Path().cwd().parent.joinpath(\"data\", \"01_part\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"path\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will need paths to all of our datasets."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"london_path = path.joinpath('raw', 'london', 'london_bikes.db')\nseoul_path = path.joinpath('raw', 'seoul', 'SeoulBikeData.csv')\nwash_dc_path = path.joinpath('raw', 'wash_dc', 'washington.json')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_path = path.joinpath('raw', 'london', 'london_bikes.db')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_path = path.joinpath('raw', 'seoul', 'SeoulBikeData.csv')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"wash_dc_path = path.joinpath('raw', 'wash_dc', 'washington.json')\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The data we have about the bikes in London is in a SQLite database and to read it, we first need to create a connection to its database using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sqlite3"}]},{"type":"text","value":" package."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The next step is to use the pandas "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"read_sql_query"}]},{"type":"text","value":" function to read the data. This function takes two arguments, the connection to our databaset and the query to get the data we want."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that we can make quite elaborate queries to get a subset of the data we'll be working with, but for our purposes this is not necessary."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"conn = sqlite3.connect(london_path)\nquery = \"SELECT * FROM uk_bikes\"\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"conn = sqlite3.connect(london_path)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"query = \"SELECT * FROM uk_bikes\"\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"london = pd.read_sql_query(query, conn)\nlondon.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london = pd.read_sql_query(query, conn)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Seoul data is in text form and separated by commas, and the data for DC is in JSON format. For these two we can use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pd.read_csv"}]},{"type":"text","value":" and"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":" pd.read_json"}]},{"type":"text","value":", respectively."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"seoul = pd.read_csv(seoul_path)\nseoul.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul = pd.read_csv(seoul_path)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"washington = pd.read_json(wash_dc_path)\nwashington.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"washington = pd.read_json(wash_dc_path)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"washington.head()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_5-data-pipelines"},"children":[{"type":"text","value":"5. Data Pipelines"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"etl_pipe","src":"https://databricks.com/wp-content/uploads/2021/05/ETL-Process.jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are ETL Pipelines?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The acronym ETL stands for Extract, Transform, and Load, and it is the process by which organizations' data passes through before it reaches the hands of data consumers. Which can be analysts, marketers, sales people, customers, and so on..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Why should you learn how to create them?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As data professionals, our task is to create value for our organizations, our clients and our collaborators using some of, if not all, the data that we have at our disposal. However, to get the most out of our organization's data, we often need"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about the process by which it was generated, For example,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Point of sale"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Clicks on an online marketplace like Amazon, Etzy, Ebay, ect."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Epidemiological studies"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A/B Test Results"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about the transformations that occurred during the cleaning and merging process. For instance,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Celcius degrees were converted into fahrenheit"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Prices in Chilean pesos were converted to {insert preferred 💸}"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Non-numerical and unavailable observations now contain \"Not Available\" or \"Unknown\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Numerical variables now contain the average or median value in observations where that data is missing. For example, a variable with the salary of all employees of a company now contains $40,000$ / year USD in the values that were not available becuase this was the median value."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about how the data was stored and where. For instance,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Parquet format"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NOSQL or SQL database"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CSV"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Understanding how the three processes described above flow will help us have more knowledge about the data that we are going to use, and how to best access it, transform it, and model it before we put it to good use."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's walk through an example of a data pipeline using data from wildfires between 1983-2020 in the United States. You can find more information about the dataset "},{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/kkhandekar/total-wildfires-acres-affected-1983-2020","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"example_data_in = path.joinpath(\"example\", \"federal_firefighting_costs.csv\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_data_in = path.joinpath(\"example\", \"federal_firefighting_costs.csv\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pd.read_csv(example_data_in).head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_csv(example_data_in).head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, most columns contain a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$"}]},{"type":"text","value":" dollar sign and some "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":","}]},{"type":"text","value":" commas, and because this forces Python to treat numbers as objects rather than "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"int"}]},{"type":"text","value":"'s or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"float"}]},{"type":"text","value":"'s, we will have to remove these signs in our transformation step after extracting the data and before loading a clean version of it."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"About Prefect\nAt its core, prefect create Directed Acyclic Graphs where nodes are functions of computations linking one step to another."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you use prefect you have two important APIs, one is the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"task"}]},{"type":"text","value":" API and the other is"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":" flow"}]},{"type":"text","value":". The former is used as a decorator on top of functions and this allows us to signal to prefect that our decorated functions can become a node in a graph. The latter represents a set the graph we want to run and it is composed of one or multiple tasks, or even multiple flows."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For example, let's create 3 functions, one that extracts the data we need, another that takes anything that is non-numerical out of our variables, and another that loads the cleaned data somewhere. Each function will have the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"task"}]},{"type":"text","value":" decorator on top of it."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@task(name=\"Get Data!\")\ndef extract(path):\n    return pd.read_csv(path)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@task(name=\"Get Data!\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract(path):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_csv(path)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you saw above, only the last 5 variables have commas ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":","}]},{"type":"text","value":") and dollar symbols ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$"}]},{"type":"text","value":") so we will replace both with an empty space ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"\""}]},{"type":"text","value":") using a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" loop."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the download process, we will save the data in the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"parquet"}]},{"type":"text","value":" format. This is one of the most popular formats to save data in due to its compression capabilities, orientation, and speed gains in analytical workloads."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's an example on the differences between the row-like format and the columnar format of parquet files."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"colvsrow","src":"https://3.bp.blogspot.com/-3aUydn8zCsQ/VjslzWCu3pI/AAAAAAAAAI8/XOi77xQNmm0/s1600/Difference-between-Column-based-and-Row-based-Tables.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Source: "},{"type":"element","tag":"a","props":{"href":"http://www.hanaexam.com/p/row-store-vs-column-store.html","rel":["nofollow"]},"children":[{"type":"text","value":"SAP HANA Central"}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@task(name=\"Transform Data!\")\ndef transform(data):\n    for col in data.iloc[:, 1:].columns:\n        data[col] = data[col].str.replace(r'[^0-9]+', '', regex=True).astype(int)\n    return data\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@task(name=\"Transform Data!\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def transform(data):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    for col in data.iloc[:, 1:].columns:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data[col] = data[col].str.replace(r'[^0-9]+', '', regex=True).astype(int)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@task(name=\"Load Data!\")\ndef load(data, path):\n    data.to_parquet(path, compression='snappy')\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@task(name=\"Load Data!\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def load(data, path):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data.to_parquet(path, compression='snappy')\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we have all the steps ready, we create a new function containing our graph using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"flow"}]},{"type":"text","value":" decorator. We can give this function a name, for example, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"Example Pipeline! 😎\""}]},{"type":"text","value":" and then chain the tasks we created previously in the order in which they should be run."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After we create our function, we can simply run it with the arguments necessary and Prefect will do its magic."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"example_data_out = path.joinpath(\"example\", \"my_test.parquet\")\ntype(example_data_out)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_data_out = path.joinpath(\"example\", \"my_test.parquet\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"type(example_data_out)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@flow(name=\"Example Pipeline! 😎\")\ndef example_etl(example_data_in, example_data_out):\n    data = extract(example_data_in)\n    data_clean = transform(data)\n    load(data_clean, example_data_out)\n    print(\"Your Pipeline Ran Successfully!\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@flow(name=\"Example Pipeline! 😎\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def example_etl(example_data_in, example_data_out):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = extract(example_data_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data_clean = transform(data)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    load(data_clean, example_data_out)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(\"Your Pipeline Ran Successfully!\")\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"example_etl(example_data_in, example_data_out)#.execute_in_process()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_etl(example_data_in, example_data_out)#.execute_in_process()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To see the graph we just ran, we can open the terminal and run "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"prefect orion start"}]},{"type":"text","value":". This will take us to the Prefect UI where we can evaluate not only the run and graph, but also the parameters and logs collected from all DAGs we run."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To make sure we have the correct data, let's create a visualization with pandas and hvplot, a package that allows us to add interactivity to our pandas' charts."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"import hvplot.pandas\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import hvplot.pandas\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pd.read_parquet(path.joinpath(\"example\", \"my_test.parquet\")).hvplot(x='Year', y=\"ForestService\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_parquet(path.joinpath(\"example\", \"my_test.parquet\")).hvplot(x='Year', y=\"ForestService\")\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_6-pipelines"},"children":[{"type":"text","value":"6. 🐼 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":"lines"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://camo.githubusercontent.com/45ae53e215244585378c3e414ce05abb4f5f6be3/68747470733a2f2f6d656469612e67697068792e636f6d2f6d656469612f4978365150753533576c4236772f67697068792e676966"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":" operator is a pandas function that allows you to chain operations that take a data set, modify it, and return the modified version of the original data. In essence, it allows us to move the data through a series of steps until we reach the structure in which we want to have it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For example, imagine that we have a group of data and 4 functions to fix it, the chain of operations would look like this."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"(data.pipe(change_cols, list_of_cols)\n     .pipe(clean_numeric_vars, list_of_numeric_vars)\n     .pipe(add_dates_and_location, 'Auckland', 'NZ')\n     .pipe(fix_and_drop, 'column_to_fix', seasons_NZ, cols_drop_NZ))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"(data.pipe(change_cols, list_of_cols)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"     .pipe(clean_numeric_vars, list_of_numeric_vars)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"     .pipe(add_dates_and_location, 'Auckland', 'NZ')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"     .pipe(fix_and_drop, 'column_to_fix', seasons_NZ, cols_drop_NZ))\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Another way to visualize what happens with pandas' "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":" is through the following food process where we have ingredients and we actually require food."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"img","src":"../images/pandas_pipe.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's start with a small example without "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":" first."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"toy_data = pd.DataFrame({\"Postal Codes\": [22345, 32442, 20007], \n                         \"Cities\":       [\"Miami\", \"Dallas\", \"Washington\"],\n                         \"Date\":         pd.date_range(start='9/27/2021', periods=3)})\ntoy_data\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"toy_data = pd.DataFrame({\"Postal Codes\": [22345, 32442, 20007], \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         \"Cities\":       [\"Miami\", \"Dallas\", \"Washington\"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         \"Date\":         pd.date_range(start='9/27/2021', periods=3)})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"toy_data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def change_cols(data, cols_list):\n    data.columns = cols_list\n    return data\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def change_cols(data, cols_list):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data.columns = cols_list\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def clean_col_names(index_of_cols: pd.Index):\n    import re\n    new_cols =  [re.sub(r'[^a-zA-Z0-9\\s]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n    print(type(index_of_cols))\n    print(index_of_cols)\n    print(type(new_cols))\n    print(new_cols)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def clean_col_names(index_of_cols: pd.Index):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    import re\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    new_cols =  [re.sub(r'[^a-zA-Z0-9\\s]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(type(index_of_cols))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(index_of_cols)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(type(new_cols))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(new_cols)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pd.Index\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.Index\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"clean_col_names(toy_data.columns)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clean_col_names(toy_data.columns)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"change_cols(toy_data, [\"postal_code\", \"city\", \"date\"])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"change_cols(toy_data, [\"postal_code\", \"city\", \"date\"])\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, with a single function it doesn't make much sense to pipe the process but with a chain of functions, the story changes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The next thing we want to do is add additional information about the dates we have for each file. We can achieve this after converting the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"date"}]},{"type":"text","value":" variable to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"datetime"}]},{"type":"text","value":" format, which will allow us to access the year, month, week, ect. inside each date."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"london_cols = ['date', 'count', 'temperature', 'temp_feels_like', 'humidity', 'wind_speed', 'weather_code', 'is_holiday', 'is_weekend', 'seasons']\nseoul_cols = ['date', 'count', 'hour', 'temperature', 'humidity', 'wind_speed', 'visibility', 'dew_point_temp', 'solar_radiation', 'rainfall', 'snowfall', 'seasons', 'is_holiday', 'functioning_day']\nwa_dc_cols = ['instant', 'date', 'seasons', 'year', 'month', 'hour', 'is_holiday', 'weekday', 'workingday', 'weathersit', 'temperature', 'temp_feels_like', 'humidity', 'wind_speed', 'casual', 'registered', 'count']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_cols = ['date', 'count', 'temperature', 'temp_feels_like', 'humidity', 'wind_speed', 'weather_code', 'is_holiday', 'is_weekend', 'seasons']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_cols = ['date', 'count', 'hour', 'temperature', 'humidity', 'wind_speed', 'visibility', 'dew_point_temp', 'solar_radiation', 'rainfall', 'snowfall', 'seasons', 'is_holiday', 'functioning_day']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"wa_dc_cols = ['instant', 'date', 'seasons', 'year', 'month', 'hour', 'is_holiday', 'weekday', 'workingday', 'weathersit', 'temperature', 'temp_feels_like', 'humidity', 'wind_speed', 'casual', 'registered', 'count']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def add_dates_and_location(data, city, country):\n    \n    data['date']       = pd.to_datetime(data['date'], infer_datetime_format=True, dayfirst=True)\n    data[\"year\"]       = data['date'].dt.year\n    data[\"month\"]      = data['date'].dt.month\n    data[\"week\"]       = data['date'].dt.isocalendar().week.astype(int)\n    data[\"day\"]        = data['date'].dt.day\n    data[\"weekday\"]    = data['date'].dt.dayofweek\n    data[\"is_weekend\"] = (data[\"weekday\"] > 4).astype(int)\n    \n    # note that we don't want to overwrite data that already has the hour as a column\n    if 'hour' not in data.columns: \n        data[\"hour\"]   = data['date'].dt.hour\n    data['date']       = data['date'].dt.date\n    \n    # non-date variables\n    data['city']       = city\n    data['country']    = country\n    \n    return data\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def add_dates_and_location(data, city, country):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data['date']       = pd.to_datetime(data['date'], infer_datetime_format=True, dayfirst=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"year\"]       = data['date'].dt.year\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"month\"]      = data['date'].dt.month\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"week\"]       = data['date'].dt.isocalendar().week.astype(int)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day\"]        = data['date'].dt.day\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"weekday\"]    = data['date'].dt.dayofweek\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"is_weekend\"] = (data[\"weekday\"] > 4).astype(int)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    # note that we don't want to overwrite data that already has the hour as a column\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if 'hour' not in data.columns: \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data[\"hour\"]   = data['date'].dt.hour\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data['date']       = data['date'].dt.date\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    # non-date variables\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data['city']       = city\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data['country']    = country\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"add_dates_and_location(toy_data, \"Sydney\", \"AU\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"add_dates_and_location(toy_data, \"Sydney\", \"AU\")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, we added a lot of information to our data with a simple function, but what happens when we want to chain two or three or four operations together? The following would not be very easy to read right?"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"add_dates_and_location(change_cols (toy_data, [\" postal_code \",\" city \",\" date \"]),\" Sydney \",\" AU \")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"add_dates_and_location(change_cols (toy_data, [\" postal_code \",\" city \",\" date \"]),\" Sydney \",\" AU \")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's move on to using our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":" operator now."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"toy_data = pd.DataFrame({\"Postal Codes\": [22345, 32442, 20007], \n                         \"Cities\":       [\"Miami\", \"Dallas\", \"Washington\"],\n                         \"Date\":         pd.date_range(start='9/27/2021', periods=3)})\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"toy_data = pd.DataFrame({\"Postal Codes\": [22345, 32442, 20007], \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         \"Cities\":       [\"Miami\", \"Dallas\", \"Washington\"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         \"Date\":         pd.date_range(start='9/27/2021', periods=3)})\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"(\n    toy_data.pipe(change_cols, [\"zip_code\", \"city\", \"date\"])\n            .pipe(add_dates_and_location, \"Sydney\", \"AU\")\n)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    toy_data.pipe(change_cols, [\"zip_code\", \"city\", \"date\"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            .pipe(add_dates_and_location, \"Sydney\", \"AU\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, now our chained functions are more readable than before and we can continue and chain even more functions in the same fashion."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In our data we have the stages of the year with different names and we also have variables that we do not need or that are not in the three files. Let's fix both!"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"seasons_london = {0: 'Spring', 1: 'Summer', 2: 'Fall', 3: 'Winter'}\nseasons_wa_dc = {1: 'Spring', 2: 'Summer', 3: 'Fall', 4: 'Winter'}\nholidays_seoul = {'No Holiday': 0, 'Holiday': 1}\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seasons_london = {0: 'Spring', 1: 'Summer', 2: 'Fall', 3: 'Winter'}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seasons_wa_dc = {1: 'Spring', 2: 'Summer', 3: 'Fall', 4: 'Winter'}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"holidays_seoul = {'No Holiday': 0, 'Holiday': 1}\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"cols_drop_london = ['temp_feels_like', 'weather_code']\ncols_drop_seoul = ['visibility', 'dew_point_temp', 'solar_radiation', 'rainfall', 'snowfall', 'functioning_day']\ncols_drop_wa_dc = ['instant', 'temp_feels_like', 'casual', 'registered', 'workingday', 'weathersit']\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cols_drop_london = ['temp_feels_like', 'weather_code']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cols_drop_seoul = ['visibility', 'dew_point_temp', 'solar_radiation', 'rainfall', 'snowfall', 'functioning_day']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cols_drop_wa_dc = ['instant', 'temp_feels_like', 'casual', 'registered', 'workingday', 'weathersit']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n    data[col_to_fix] = data[col_to_fix].map(mapping)\n    return data.drop(cols_to_drop, axis=1)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[col_to_fix] = data[col_to_fix].map(mapping)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data.drop(cols_to_drop, axis=1)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's test the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":" operator but with the data from DC now and evaluate the results."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"washington.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"washington.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"(washington.pipe(change_cols, wa_dc_cols)\n           .pipe(fix_and_drop, 'seasons', seasons_wa_dc, cols_drop_wa_dc)).head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"(washington.pipe(change_cols, wa_dc_cols)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"           .pipe(fix_and_drop, 'seasons', seasons_wa_dc, cols_drop_wa_dc)).head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, we esnt to create a function to normalize the data for DC as the columns are not in the same metric/imperial, etc. system as the rest."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def normalize_vars(data):\n    data['temperature'] = data['temperature'].apply(lambda x: (x * 47) - 8)\n    data['humidity']    = data['humidity'].apply(lambda x: (x / 100))\n    data['wind_speed']  = data['wind_speed'].apply(lambda x: (x / 67))\n    return data\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def normalize_vars(data):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data['temperature'] = data['temperature'].apply(lambda x: (x * 47) - 8)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data['humidity']    = data['humidity'].apply(lambda x: (x / 100))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data['wind_speed']  = data['wind_speed'].apply(lambda x: (x / 67))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, we can use our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":" operator again to complete the process and see the end result."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since we haven't created a function to read JSON files, let's create one anc call it "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"extract_data"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def extract_data(path):\n    return pd.read_json(path)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_data(path):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_json(path)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"washington = (extract_data(wash_dc_path).pipe(change_cols, wa_dc_cols)\n                                        .pipe(add_dates_and_location, 'DC', 'USA')\n                                        .pipe(fix_and_drop, 'seasons', seasons_wa_dc, cols_drop_wa_dc)\n                                        .pipe(normalize_vars))\nwashington.head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"washington = (extract_data(wash_dc_path).pipe(change_cols, wa_dc_cols)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                        .pipe(add_dates_and_location, 'DC', 'USA')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                        .pipe(fix_and_drop, 'seasons', seasons_wa_dc, cols_drop_wa_dc)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                        .pipe(normalize_vars))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"washington.head()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a function to extract the London data."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a data pipe similar to the one in Washington using pandas' "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_7-extract"},"children":[{"type":"text","value":"7. Extract"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Depending on where the data is, in what format it is stored, and how we can access it, this can either be one of the shortest steps or one of the longest ones in our data pipeline. Here are some of the formats that you might encounter in your day to day."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Text: usually the text format is similar to what we see in Microsoft Excel but without formulas or graphics. For example, CVS or TSV."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"JSON: JavaScript Object Notation is a very popular sub-language for its simple syntactics"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Databases: These can be SQL, NOSQL, MPP (massively parallel processing), among others."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GeoJSON: It is a type of format for data that contains geographic information. There are many more types of data for GIS."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"HTML: Refers to Hyper Text Markup Language and represents the skeleton of almost all web pages in existence."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since we already learned how to create useful pipelines with pandas, we now need to create functions for our main ETL pipeline to automate the process. We can achieve this using the prefect decorator, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@task"}]},{"type":"text","value":" from earlier. This decorator takes note of the functions that we want to link together and helps us create a network in which each node is a function and each link connects one or more functions only once."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Remember, the decorator "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@task"}]},{"type":"text","value":" is also a function within prefect and as such, we can pass several arguments to it that help us modify the behavior of each function in our pipeline."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can learn more about the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"task"}]},{"type":"text","value":" API in the official docs "},{"type":"element","tag":"a","props":{"href":"https://docs.prefect.io/core/concepts/tasks.html#overview","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"task??\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"task??\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@task\ndef extract_1(path):\n    return pd.read_csv(path)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@task\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_1(path):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_csv(path)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@task\ndef extract_2(path):\n    conn = sqlite3.connect(path)\n    query = \"SELECT * FROM uk_bikes\"\n    return pd.read_sql_query(query, conn)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@task\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_2(path):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    conn = sqlite3.connect(path)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    query = \"SELECT * FROM uk_bikes\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_sql_query(query, conn)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@task\ndef extract_3(path):\n    return pd.read_json(path)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@task\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_3(path):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_json(path)\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_8-transform"},"children":[{"type":"text","value":"8. Transform"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The most common transformations that happen at this stage are usually the ones we created earlier. In short,"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Clean text data"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Normalize columns"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Convert numeric variables to the same unit"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Deal with missing values"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Join data"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our transform step will be a parent function to our pipe operators from earlier. Hence, a combination of functions handle by a single one."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def order_and_merge(data_lists):\n    \n    pick_order = data_lists[0].columns\n    new_list = [d.reindex(columns=pick_order).sort_values(['date', 'hour']) for d in data_lists]\n    df = pd.concat(new_list)\n    return df\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def order_and_merge(data_lists):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    pick_order = data_lists[0].columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    new_list = [d.reindex(columns=pick_order).sort_values(['date', 'hour']) for d in data_lists]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    df = pd.concat(new_list)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return df\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@task\ndef transform(london, seoul, washington):\n    \n    london = (london.pipe(change_cols, london_cols)\n                    .pipe(add_dates_and_location, 'London', 'UK')\n                    .pipe(fix_and_drop, 'seasons', seasons_london, cols_drop_london))\n    \n    seoul = (seoul.pipe(change_cols, seoul_cols)\n                  .pipe(add_dates_and_location, 'Seoul', 'SK')\n                  .pipe(fix_and_drop, 'is_holiday', holidays_seoul, cols_drop_seoul))\n    \n    wash_dc = (washington.pipe(change_cols, wa_dc_cols)\n                         .pipe(add_dates_and_location, 'DC', 'USA')\n                         .pipe(fix_and_drop, 'seasons', seasons_wa_dc, cols_drop_wa_dc)\n                         .pipe(normalize_vars))\n    \n    return order_and_merge([london, seoul, wash_dc])\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@task\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def transform(london, seoul, washington):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    london = (london.pipe(change_cols, london_cols)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    .pipe(add_dates_and_location, 'London', 'UK')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    .pipe(fix_and_drop, 'seasons', seasons_london, cols_drop_london))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    seoul = (seoul.pipe(change_cols, seoul_cols)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                  .pipe(add_dates_and_location, 'Seoul', 'SK')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                  .pipe(fix_and_drop, 'is_holiday', holidays_seoul, cols_drop_seoul))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    wash_dc = (washington.pipe(change_cols, wa_dc_cols)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         .pipe(add_dates_and_location, 'DC', 'USA')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         .pipe(fix_and_drop, 'seasons', seasons_wa_dc, cols_drop_wa_dc)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         .pipe(normalize_vars))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return order_and_merge([london, seoul, wash_dc])\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_9-load"},"children":[{"type":"text","value":"9. Load"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will need to save our new file in a database or in a format in which we are given both what the file occupies and the speed with which we can open and use it. So we will create two paths and two names for the files that we will use later."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"clean_path = path/'processed/clean.parquet'\nclean_db_path = path/'processed/bikes'\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clean_path = path/'processed/clean.parquet'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clean_db_path = path/'processed/bikes'\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"clean_db_path\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clean_db_path\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will have a function for saving the data in a database. For this, Prefect provides us with a wrapper function around SQLite called, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SQLiteScript"}]},{"type":"text","value":" which allows us to create a database and run a SQL scipt on top of it. This comes in hady for large and small operations/prototypes alike."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"def SQLiteScript(db, script):\n    with closing(sqlite3.connect(db)) as conn:\n        with closing(conn.cursor()) as cursor:\n            cursor.executescript(script)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def SQLiteScript(db, script):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    with closing(sqlite3.connect(db)) as conn:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        with closing(conn.cursor()) as cursor:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            cursor.executescript(script)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"script= \"\"\"\n            CREATE TABLE IF NOT EXISTS bike_sharing (\n                    date text, count integer, temperature real,\n                    humidity real, wind_speed real, is_holiday real,\n                    is_weekend integer, seasons text, year integer,\n                    month integer, week integer, day integer, \n                    hour integer, weekday integer, city text,\n                  country text\n              )\n\"\"\"\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"script= \"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            CREATE TABLE IF NOT EXISTS bike_sharing (\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    date text, count integer, temperature real,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    humidity real, wind_speed real, is_holiday real,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    is_weekend integer, seasons text, year integer,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    month integer, week integer, day integer, \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                    hour integer, weekday integer, city text,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                  country text\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"              )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\"\"\"\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"next(washington.itertuples(name='Bikes', index=False))\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"next(washington.itertuples(name='Bikes', index=False))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@task\ndef load(data, path_and_name):\n    \n    data = list(data.itertuples(name='Bikes', index=False))\n\n    insert_cmd = \"INSERT INTO bike_sharing VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\"\n    with closing(sqlite3.connect(path_and_name)) as conn:\n        with closing(conn.cursor()) as cursor:\n            cursor.executemany(insert_cmd, data)\n            conn.commit()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@task\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def load(data, path_and_name):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = list(data.itertuples(name='Bikes', index=False))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    insert_cmd = \"INSERT INTO bike_sharing VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    with closing(sqlite3.connect(path_and_name)) as conn:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        with closing(conn.cursor()) as cursor:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            cursor.executemany(insert_cmd, data)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            conn.commit()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_10-launch-a-pipeline"},"children":[{"type":"text","value":"10. Launch a Pipeline"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the same fashion as before, we will combine our functions in a function decorated with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"flow"}]},{"type":"text","value":" to signal to prefec's scheduler that we have a DAG we would like to run."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"@flow(name='bikes-ETL')\ndef my_etl():\n    \n    new_table = SQLiteScript(db=str(clean_db_path), script=script)\n    \n    london = extract_2(london_path)\n    seoul = extract_1(seoul_path)\n    wash_dc = extract_3(wash_dc_path)\n    \n    transformed = transform(london, seoul, wash_dc)\n        \n    data_loaded = load(transformed, clean_db_path)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@flow(name='bikes-ETL')\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def my_etl():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    new_table = SQLiteScript(db=str(clean_db_path), script=script)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    london = extract_2(london_path)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    seoul = extract_1(seoul_path)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    wash_dc = extract_3(wash_dc_path)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    transformed = transform(london, seoul, wash_dc)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data_loaded = load(transformed, clean_db_path)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Running our pipeline is as simple as calling the function. In addition, even though we did not pass in any parameters to our flow function, it can contain any number of them if we choose to."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"my_etl()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"my_etl()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"pd.read_sql_query(\"SELECT * FROM bike_sharing\", sqlite3.connect(clean_db_path)).head()\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_sql_query(\"SELECT * FROM bike_sharing\", sqlite3.connect(clean_db_path)).head()\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"exercise-1"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Change the function to unload ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"load ()"}]},{"type":"text","value":") and make it save the results in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"parquet"}]},{"type":"text","value":" format. Run the pipeline again and make sure the results are the same as above by reading the data with pandas' respective function for parquet files."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light","code":"","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_11-summary"},"children":[{"type":"text","value":"11. Summary"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Creating ETL pipes helps us automate the cleaning steps to prepare our datasets."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pandas "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipe"}]},{"type":"text","value":" helps you chain functions that operate on a dataframe and return a dataframe, effectively helping us save time and lines of code."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Prefect helps us create, monitor, and schedule directed acyclic graphs represented via the steps of our cleaning process."}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"table-of-contents","depth":2,"text":"Table of Contents"},{"id":"_1-overview","depth":2,"text":"1. Overview"},{"id":"_2-learning-outcomes","depth":2,"text":"2. Learning Outcomes"},{"id":"_3-data","depth":2,"text":"3. Data"},{"id":"_4-tools","depth":2,"text":"4. Tools"},{"id":"_5-data-pipelines","depth":2,"text":"5. Data Pipelines"},{"id":"_6-pipelines","depth":2,"text":"6. 🐼 pipelines"},{"id":"exercise","depth":2,"text":"Exercise"},{"id":"_7-extract","depth":2,"text":"7. Extract"},{"id":"_8-transform","depth":2,"text":"8. Transform"},{"id":"_9-load","depth":2,"text":"9. Load"},{"id":"_10-launch-a-pipeline","depth":2,"text":"10. Launch a Pipeline"},{"id":"exercise-1","depth":2,"text":"Exercise"},{"id":"_11-summary","depth":2,"text":"11. Summary"}]}},"_type":"markdown","_id":"content:3.data-engineering:3.etl_pipes.md","_source":"content","_file":"3.data-engineering/3.etl_pipes.md","_extension":"md"},{"_path":"/data-engineering/data_pipelines_getting_started","_dir":"data-engineering","_draft":false,"_partial":false,"_locale":"","title":"Data Pipelines From Scratch","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"data-pipelines-from-scratch"},"children":[{"type":"text","value":"Data Pipelines From Scratch"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“Without a systematic way to start and keep data clean, bad data will happen.” ~ Donato Diorio"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"flow","src":"https://drawio-app.com/wp-content/uploads/2019/05/How-to-create-flow-charts-in-drawio-1-1.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nSource: "},{"type":"element","tag":"a","props":{"href":"https://drawio-app.com/flowcharts/","rel":["nofollow"]},"children":[{"type":"text","value":"draw.io"}]}]},{"type":"element","tag":"h2","props":{"id":"table-of-contents"},"children":[{"type":"text","value":"Table of Contents"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##1.-Overview"},"children":[{"type":"text","value":"Overview"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##2.-Learning-Outcomes"},"children":[{"type":"text","value":"Learning Outcomes"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##3.-Data"},"children":[{"type":"text","value":"Data"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##4.-Tools"},"children":[{"type":"text","value":"Tools"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##5.-Data-Pipelines"},"children":[{"type":"text","value":"Data Pipelines"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##6.-Building-a-Framework"},"children":[{"type":"text","value":"Building a Framework"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Set Up Dev Environment"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Extract"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Transform"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Load"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##7.-Reproducible-Pipelines"},"children":[{"type":"text","value":"Reproducible Pipelines"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##8.-Scheduling"},"children":[{"type":"text","value":"Scheduling"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##9.-Exercises"},"children":[{"type":"text","value":"Exercises"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"##10.-Resources"},"children":[{"type":"text","value":"Resources"}]}]}]},{"type":"element","tag":"h2","props":{"id":"_1-overview"},"children":[{"type":"text","value":"1. Overview"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to create successful and reproducible data pipelines we need -- at the bare minimum -- tools that allow us manage where and how we store our data, how we run our computations, and how we version control everything we do. This is what we will focus on in this part of the workshop."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The assumption of this section is that most of your data work can fit in a computer but, if the need were to arise, you could still use the code in this section with a beefier machine and it would get the job done without a problem."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since the files we'll interact with will most likely live in a remote server, we'll"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"extract a copy of the data we'll use and save it to our local files;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"transform the data into the shape and form we need it to be in;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"load it into a local data warehouse based on the popular tool, duckdb;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"version our code and data using dvc and git;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create a command line tool to run all of our jobs;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create a reproducible pipeline that can capture different workflows."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we get started, let's go over the learning outcomes for today. :)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note: While one of the main components of data orchestration is scheduling, you can sill create pipelines and reproducible workflows that can be triggered manually rather than via a schedule."}]},{"type":"element","tag":"h2","props":{"id":"_2-learning-outcomes"},"children":[{"type":"text","value":"2. Learning Outcomes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we get started, let's go over the learning outcomes for this section of the workshop."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By the end of this lesson you will be able to,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Discuss what ETL and ELT Pipelines are."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Understand how to read and combine data that comes from different sources."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create data pipelines using open-source tools."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Develop command line tools."}]}]},{"type":"element","tag":"h2","props":{"id":"_3-data"},"children":[{"type":"text","value":"3. Data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"bikes","src":"https://upload.wikimedia.org/wikipedia/commons/2/20/Bike_share.jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All three data files contain similar information about how many bicycles have been rented each hour, day, week and months for several years and for each city government we are working with."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can get more information about the data of each city using the following links."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://archive.ics.uci.edu/ml/datasets/Seoul+Bike+Sharing+Demand#","rel":["nofollow"]},"children":[{"type":"text","value":"Seoul, South Korea"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/hmavrodiev/london-bike-sharing-dataset","rel":["nofollow"]},"children":[{"type":"text","value":"London, England, UK"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/marklvl/bike-sharing-dataset?select=hour.csv","rel":["nofollow"]},"children":[{"type":"text","value":"Washington, DC, USA"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/datasets/imakash3011/rental-bike-sharing","rel":["nofollow"]},"children":[{"type":"text","value":"Porto, Portugal"}]},{"type":"text","value":" -- This one was shared in Kaggle, but you can also find the original source with more, up-to-date data, "},{"type":"element","tag":"a","props":{"href":"https://capitalbikeshare.com/system-data","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note: Some datasets might come with another file containing daily information, but for our purposes, we will be using the hourly one."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are the variables that appear in all data sets."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"London"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Seoul"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Washington"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"Porto"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"instant"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"instant"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Rented Bike Count"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"dteday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temperature"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Hour"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"seasons"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"season"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"t2"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Temperature(C)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"year"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"yr"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"humidity"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Humidity(%)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"month"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"mnth"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"wind_speed"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Wind speed (m/s)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"hour"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"hr"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weather_code"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Visibility  (10m)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_holiday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"holiday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_holiday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Dew point temperature(ï¿½C)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weekday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weekday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"is_weekend"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Solar Radiation (MJ/m2)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"workingday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"workingday"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"seasons"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Rainfall(mm)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weathersit"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"weathersit"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Snowfall(cm)"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temperature"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"temp"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Seasons"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"atemp"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Holiday"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"humidity"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"hum"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"Functioning Day"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"wind_speed"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"windspeed"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"casual"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"casual"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"registered"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"registered"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"cnt"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since all of these datasets were generated with different logic (e.g. celsius vs fahrenheit, or other divergent measures) and, most likely, by different systems, we can expect more inconsistencies than just unmatching column names, numerical formats, and data collected."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will walk through an example pipeline and several cleaning steps after we discuss the tools we will be using today."}]},{"type":"element","tag":"h2","props":{"id":"_4-tools"},"children":[{"type":"text","value":"4. Tools"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The tools that we will use in this section of the workshop are the following."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://pandas.pydata.org/","rel":["nofollow"]},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":" - \"is a fast, powerful, flexible and easy to use open source data analysis and manipulation tool, built on top of the Python programming language.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://dvc.org/","rel":["nofollow"]},"children":[{"type":"text","value":"dvc"}]},{"type":"text","value":" - \"DVC is built to make ML models shareable and reproducible. It is designed to handle large files, data sets, machine learning models, and metrics as well as code.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://ibis-project.org/","rel":["nofollow"]},"children":[{"type":"text","value":"ibis"}]},{"type":"text","value":" - \"Ibis is a Python library that provides a lightweight, universal interface for data wrangling. It helps Python users explore and transform data of any size, stored anywhere.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://typer.tiangolo.com/","rel":["nofollow"]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":" - \"Typer is a library for building CLI applications that users will love using and developers will love creating. Based on Python 3.6+ type hints.\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.python.org/3/library/pathlib.html","rel":["nofollow"]},"children":[{"type":"text","value":"pathlib"}]},{"type":"text","value":" - allows us to manipulate paths as if they were python objects."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's get started building data pipelines! :)"}]},{"type":"element","tag":"h2","props":{"id":"_5-data-pipelines"},"children":[{"type":"text","value":"5. Data Pipelines"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"etl_pipe","src":"https://editor.analyticsvidhya.com/uploads/899101.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nSource: "},{"type":"element","tag":"a","props":{"href":"https://www.striim.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Striim"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are different kinds of data pipelines, but two, in particular, dominate a big part of the data engineering world today, ETL and ELT pipelines."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are ETL Pipelines?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The acronym ETL stands for Extract, Transform, and Load, and it is the process where data gets extracted from one or multiple sources, it gets processed in-transit, and then it gets loaded into place where data consumers can use (e.g. a data warehouse). These consumers can be data analysts, data scientists, and machine learning engineers, among many others."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are ELT Pipelines?"}]},{"type":"text","value":"\nWith this approach, all the data, structured and unstructured, gets loaded into a data lake or warehouse before it gets transformed. With this approach, a lot of money spent on compute can be saved by only processing the data we need rather than all of it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"What are Reverse ETL Pipelines?"}]},{"type":"text","value":"\nReverse ETL tools take data from the data lake or warehouse back into business (critical) applications. For example, information about new customers that have not yet been populated into salesforce or other marketing tools for further use by the marketing, sales, and finance teams, and so on..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Why should you learn how to create them?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data Pipeline tools enable data integration strategies by allowing companies to gather data from multiple data sources and consolidate it into a single, centralized location. ETL tools also make it possible for different types of data to work together, for example, data generated by the company can be combined with GPS and Temperature data coming from different sources."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As data professionals, our task is to create value for our organizations, our clients and our collaborators using some of or all the data at our disposal. However, there are factors that can delay this process a little bit or a lot, for example, we often need to understand beforehand,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about the process by which the data we're dealing with was generated, e.g.\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Point of sale"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Clicks on an online marketplace like Amazon, Etzy, Ebay, ect."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A/B Test Results"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about the transformations that occurred during the cleaning and merging process, prior to us jumping on board,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Celsius degrees were converted into fahrenheit"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Prices in Chilean pesos were converted to Rands"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Non-numerical and unavailable observations now contain \"Not Available\" or \"Unknown\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Information about how the data was stored and where. For instance,\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Parquet format"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NOSQL or SQL database"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CSV"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"..."}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Understanding how the three processes described above flow will help us have more knowledge about the data that we are going to use, and how to best access it, transform it, and model it before we put it to good use."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's walk through an example of a data pipeline using data from wildfires between 1983-2020 in the United States. You can find more information about the dataset "},{"type":"element","tag":"a","props":{"href":"https://www.kaggle.com/kkhandekar/total-wildfires-acres-affected-1983-2020","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"code":"import pandas as pd\nfrom pathlib import Path\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from pathlib import Path\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"!pwd\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"!pwd\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"data_path = Path().cwd().parent/\"data\"\ndata_path\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_path = Path().cwd().parent/\"data\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_path\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"example_data_in = data_path.joinpath(\"example\", \"federal_firefighting_costs.csv\")\npd.read_csv(example_data_in).head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_data_in = data_path.joinpath(\"example\", \"federal_firefighting_costs.csv\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_csv(example_data_in).head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"pd.read_csv(example_data_in).dtypes\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_csv(example_data_in).dtypes\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, most columns contain a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$"}]},{"type":"text","value":" dollar sign and some "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":","}]},{"type":"text","value":" commas, and because this forces Python to treat numbers as objects (or strings) rather than "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"int"}]},{"type":"text","value":"'s or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"float"}]},{"type":"text","value":"'s, we will have to remove these signs in our transformation step after extracting the data and before loading a clean version of it to a new location. Let's create 3 re-usable functions."}]},{"type":"element","tag":"pre","props":{"code":"def extract(path):\n    return pd.read_csv(path)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract(path):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_csv(path)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you saw above, only the last 5 variables have commas ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":","}]},{"type":"text","value":") and dollar symbols ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$"}]},{"type":"text","value":") so we will replace both with an empty space ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"\""}]},{"type":"text","value":") using a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" loop."}]},{"type":"element","tag":"pre","props":{"code":"def transform(data):\n    for col in data.iloc[:, 1:].columns:\n        data[col] = data[col].str.replace(r'[^0-9]+', '', regex=True).astype(int)\n    return data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def transform(data):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    for col in data.iloc[:, 1:].columns:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data[col] = data[col].str.replace(r'[^0-9]+', '', regex=True).astype(int)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the \"load\" process, we will save the data as a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"parquet"}]},{"type":"text","value":" file. This is one of the most popular formats to save data in due to its compression capabilities, orientation, and speed gains in analytical workloads."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's an example on the differences between the row-like format and the columnar format of parquet files. If this interests you you can read more about it "},{"type":"element","tag":"a","props":{"href":"https://datos.gob.es/en/blog/why-should-you-use-parquet-files-if-you-process-lot-data","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"colvsrow","src":"https://www.scylladb.com/wp-content/uploads/columnar-database-diagram.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nSource: "},{"type":"element","tag":"a","props":{"href":"https://www.scylladb.com/glossary/columnar-database/","rel":["nofollow"]},"children":[{"type":"text","value":"Scylla DB"}]}]},{"type":"element","tag":"pre","props":{"code":"def load(data, path):\n    data.to_parquet(path)\n    print(\"Successfully Loaded Your Modified Data!\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"def load(data, path):\n    data.to_parquet(path)\n    print(\"Successfully Loaded Your Modified Data!\")\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create an output path and with a file name to save our data as."}]},{"type":"element","tag":"pre","props":{"code":"data_path\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"data_path\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"example_data_out = data_path.joinpath(\"example\", \"my_test.parquet\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_data_out = data_path.joinpath(\"example\", \"my_test.parquet\")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we have all the steps ready, we create a new function containing our graph using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"flow"}]},{"type":"text","value":" decorator. We can give this function a name, for example, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"Example Pipeline! 😎\""}]},{"type":"text","value":" and then chain the tasks we created previously in the order in which they should be run."}]},{"type":"element","tag":"pre","props":{"code":"def example_etl(example_data_in, example_data_out):\n    data = extract(example_data_in)\n    data_clean = transform(data)\n    load(data_clean, example_data_out)\n    print(\"Your Pipeline Ran Successfully!\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def example_etl(example_data_in, example_data_out):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = extract(example_data_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data_clean = transform(data)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    load(data_clean, example_data_out)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(\"Your Pipeline Ran Successfully!\")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We are ready to run our workflow."}]},{"type":"element","tag":"pre","props":{"code":"example_etl(example_data_in, example_data_out)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"example_etl(example_data_in, example_data_out)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To make sure we did everything correctly, let's create a quick visualization with pandas."}]},{"type":"element","tag":"pre","props":{"code":"pd.read_parquet(example_data_out).plot(\n    x='Year',\n    y=\"ForestService\", \n    kind='line',\n    title=\"Forest Service costs by year\"\n);\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_parquet(example_data_out).plot(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    x='Year',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    y=\"ForestService\", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    kind='line',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    title=\"Forest Service costs by year\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":");\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_6-building-a-framework"},"children":[{"type":"text","value":"6. Building a Framework"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to do our data engineering work with a personalized framework, there are a few strategies we would take."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could keep the code in our computers and copy it to a new project whenever we need to create new pipelines."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could create a package and either upload it to PyPI or "},{"type":"element","tag":"a","props":{"href":"https://gemfury.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Gemfury"}]},{"type":"text","value":" (a private repository of packages for different programming languages)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We could keep in neatly organized in GitHub and clone the repository to every new project."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For this use case, it would be great to work with a library that we could continuously update rather than notebooks and files getting copied around. This will help us stay organized and manage dependencies more effectively."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's get started. :)"}]},{"type":"element","tag":"h3","props":{"id":"_61-setting-up-a-dev-environment"},"children":[{"type":"text","value":"6.1 Setting Up a Dev Environment"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Building frameworks can be super straightforward or a slightly cumbersome project. Because of this and because we are already using an environment to run this workshop in, I will leave here what I think is an excellent resource for learning about how to create Python Packages."}]},{"type":"element","tag":"pre","props":{"code":"from IPython.display import HTML\nHTML(\"\"\"\n<div align=\"center\">\n    <iframe width=\"700\" height=\"450\"\n    src=\"https://youtube.com/embed/l7zS8Ld4_iA\"\n    </iframe>\n</div>\n\"\"\")\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from IPython.display import HTML\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"HTML(\"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"<div align=\"center\">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    <iframe width=\"700\" height=\"450\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    src=\"https://youtube.com/embed/l7zS8Ld4_iA\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    </iframe>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"</div>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\"\"\")\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_62-extract"},"children":[{"type":"text","value":"6.2 Extract"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Extracting data might seem straightforward, but it can come with plenty of caveats. For example, to access sensitive data you might need not only credentials but also access to VPNs (virtual private networks), you might have similar data in different kinds of formats (customer tables stored in legacy databases and new ones), or you might have different data all stored in one place (images, tables, and text all in a datalake) -- if you're lucky."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To tackle these challenges, (1) access and (2) distribution of data, companies such as "},{"type":"element","tag":"a","props":{"href":"https://airbyte.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Airbyte"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://www.fivetran.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Fivetran"}]},{"type":"text","value":", and others, have come up with solutions that do all the heavy lifting for us. They have created tools that either give you connectors to common data sources (such as S3, BigQuery, and others), or give you an API so that you can develop a custom connector."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"That said, what we'll do in this section is to create functions that allow us to extract data in different formats or download a dataset from the web. We will create one for each of the examples that we have for the workshop today. Let's get started loading some data."}]},{"type":"element","tag":"pre","props":{"code":"import urllib.request\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import urllib.request\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def get_and_load_file(url, path_out, file_name):\n    path = Path(path_out)\n    if not path.exists(): path.mkdir(parents=True)\n    urllib.request.urlretrieve(url, path.joinpath(file_name))\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def get_and_load_file(url, path_out, file_name):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path = Path(path_out)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if not path.exists(): path.mkdir(parents=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    urllib.request.urlretrieve(url, path.joinpath(file_name))\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"get_and_load_file(\n    url=\"https://archive.ics.uci.edu/ml/machine-learning-databases/00560/SeoulBikeData.csv\",\n    path_out=\"../data/example\",\n    file_name=\"seoul_exp.csv\"\n)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"get_and_load_file(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    url=\"https://archive.ics.uci.edu/ml/machine-learning-databases/00560/SeoulBikeData.csv\",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_out=\"../data/example\",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    file_name=\"seoul_exp.csv\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The function above will download the file into the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"data/example\""}]},{"type":"text","value":" directory. If we do not specify a path for the file to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urllib.request.urlretrieve"}]},{"type":"text","value":", it would download the file into a temporary directory since it wouldn't know what to do with it or where to put it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A popular alternative to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urllib"}]},{"type":"text","value":" is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"wget"}]},{"type":"text","value":", so you can switch the tools in this function easily. The former is part of the Python Standard Library (so you'll never have to install it), and the latter can be installed with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"conda"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create two more, one for csv files and the other for parquet files."}]},{"type":"element","tag":"pre","props":{"code":"def extract_from_csv(path_in, encoding=None):\n    return pd.read_csv(path_in, encoding=encoding)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_csv(path_in, encoding=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_csv(path_in, encoding=encoding)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seoul_df = extract_from_csv(\n    path_in=data_path.joinpath(\"seoul\", \"raw\", \"SeoulBikeData.csv\")\n)\nseoul_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df = extract_from_csv(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in=data_path.joinpath(\"seoul\", \"raw\", \"SeoulBikeData.csv\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The reason, we've added "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"enconing"}]},{"type":"text","value":" to our function is that files are not always shared in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"utf-8"}]},{"type":"text","value":" abd it is important to account for this discrepancy when creating an ETL framework. In fact, one of our datasets has a tricky format itself."}]},{"type":"element","tag":"pre","props":{"code":"{1: \"value\", 1: \"value\", 1: \"value\", 1: \"value\", }\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"{1: \"value\", 1: \"value\", 1: \"value\", 1: \"value\", }\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def extract_from_parquet(path_in, **kwargs):\n    return pd.read_parquet(path_in, **kwargs)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_parquet(path_in, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_parquet(path_in, **kwargs)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"porto_df = extract_from_parquet(\n    path_in=data_path.joinpath(\"porto\", \"bike_sharing_hourly.parquet\")\n)\nporto_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"porto_df = extract_from_parquet(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in=data_path.joinpath(\"porto\", \"bike_sharing_hourly.parquet\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"porto_df.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One of our files is stored in a SQLite database so we'll use the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sqlite3"}]},{"type":"text","value":" module, which is part of of the "},{"type":"element","tag":"a","props":{"href":"https://docs.python.org/3/library/index.html","rel":["nofollow"]},"children":[{"type":"text","value":"Python Standard Library"}]},{"type":"text","value":", to read it."}]},{"type":"element","tag":"pre","props":{"code":"import sqlite3\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import sqlite3\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def extract_from_db(path_in, query):\n    conn = sqlite3.connect(path_in)\n    return pd.read_sql_query(query, conn)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_db(path_in, query):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    conn = sqlite3.connect(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_sql_query(query, conn)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"london_df = extract_from_db(\n    path_in=data_path.joinpath(\"london\", \"london_bikes.db\"),\n    query=\"SELECT * FROM uk_bikes\"\n)\nlondon_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df = extract_from_db(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in=data_path.joinpath(\"london\", \"london_bikes.db\"),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    query=\"SELECT * FROM uk_bikes\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, JSON files can be tricky to handle so we'll try two quick cases here using a try-except approach, but take note that as your projects evolve, it is highly likely that this function might change. A very good tool to handle large amounts of unstructured JSON that can later be formatted as a dataframe (or many), is "},{"type":"element","tag":"a","props":{"href":"https://examples.dask.org/bag.html","rel":["nofollow"]},"children":[{"type":"text","value":"Dask Bags"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"code":"def extract_from_json(path_in, **kwargs):\n    try:\n        data =  pd.read_json(path_in, kwargs)\n    except:\n        with open(path_in, 'r') as f:\n            data = json.loads(f.read())\n            data = pd.json_normalize(data, kwargs)\n    return data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_json(path_in, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    try:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data =  pd.read_json(path_in, kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    except:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        with open(path_in, 'r') as f:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            data = json.loads(f.read())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            data = pd.json_normalize(data, kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"dc_df = extract_from_json(\n    path_in=data_path.joinpath(\"wash_dc\", \"washington.json\")\n)\ndc_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dc_df = extract_from_json(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in=data_path.joinpath(\"wash_dc\", \"washington.json\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dc_df.head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we have our functions, we want to create a file and attach to it the minimum functionality possible to use it as a command line tool. We will do this with the popular package called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":". It offers a delightful user experience, it respects (and annoys you at times) by type-checking your code, and it provides you with beautifully-formatted output based on the "},{"type":"element","tag":"a","props":{"href":"https://rich.readthedocs.io/en/latest/","rel":["nofollow"]},"children":[{"type":"text","value":"rich"}]},{"type":"text","value":" python library."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":" we can create CLIs in several ways, and, for our purposes, we will pick the most straightforward one which works by adding "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer.run()"}]},{"type":"text","value":" around a main function that encapsulates your application logic, in our case, our extract function and the upcoming ones."}]},{"type":"element","tag":"pre","props":{"code":"%%writefile ../src/data_eng/extract.py\n\nimport urllib.request\nfrom pathlib import Path\nimport pandas as pd\nimport json\nimport typer\nfrom typing import Optional\nfrom load import save_data\n\n\ndef get_and_load_file(url, path_out, file_name):\n    path = Path(path_out)\n    if not path.exists():\n        path.mkdir(parents=True)\n    urllib.request.urlretrieve(url, path.joinpath(file_name))\n\ndef extract_from_csv(path_in, encoding=None):\n    return pd.read_csv(path_in, encoding=encoding)\n\ndef extract_from_db(path_in, query):\n    conn = sqlite3.connect(path_in)\n    return pd.read_sql_query(query, conn)\n\ndef extract_from_parquet(path_in, **kwargs):\n    return pd.read_parquet(path_in, **kwargs)\n\ndef extract_from_json(path_in, **kwargs):\n    try:\n        data =  pd.read_json(path_in, **kwargs)\n    except:\n        with open(path_in, 'r') as f:\n            data = json.loads(f.read())\n            data = pd.json_normalize(data, kwargs)\n    return data\n\ndef main(\n    arg: str = typer.Option(...),\n    url: Optional[str] = typer.Option(None),\n    path_in: Optional[str] = typer.Option(None),\n    path_out: Optional[str] = typer.Option(None),\n    encoding: Optional[str] = typer.Option(None),\n    file_name: Optional[str] = typer.Option(None),\n    query: Optional[str] = typer.Option(None),\n):\n    if arg == \"get\":\n        get_and_load_file(url, path_out, file_name)\n    elif arg == \"csv\":\n        data = extract_from_csv(path_in, encoding=encoding)\n        save_data(data, path_out, file_name)\n    elif arg == \"pq\":\n        data = extract_from_parquet(path_in)\n        save_data(data, path_out, file_name)\n    elif arg == \"json\":\n        data = extract_from_json(path_in)\n        save_data(data, path_out, file_name)\n    elif arg == \"db\":\n        data = extract_from_db(path_in, query)\n        save_data(data, path_out, file_name)\n    else:\n        print(f\"Could not understand argument {arg}. Please use 'pq' for parquet files, 'db' for database, json, or csv in lowercase.\")\n\n    print(\"Data Extracted Successfully!\")\n\n\nif __name__ == \"__main__\":\n    typer.run(main)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%%writefile ../src/data_eng/extract.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import urllib.request\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from pathlib import Path\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import json\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import typer\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from typing import Optional\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from load import save_data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def get_and_load_file(url, path_out, file_name):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path = Path(path_out)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if not path.exists():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        path.mkdir(parents=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    urllib.request.urlretrieve(url, path.joinpath(file_name))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_csv(path_in, encoding=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_csv(path_in, encoding=encoding)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_db(path_in, query):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    conn = sqlite3.connect(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_sql_query(query, conn)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_parquet(path_in, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.read_parquet(path_in, **kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_from_json(path_in, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    try:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data =  pd.read_json(path_in, **kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    except:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        with open(path_in, 'r') as f:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            data = json.loads(f.read())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            data = pd.json_normalize(data, kwargs)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def main(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    arg: str = typer.Option(...),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    url: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_out: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    encoding: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    file_name: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    query: Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if arg == \"get\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        get_and_load_file(url, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif arg == \"csv\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = extract_from_csv(path_in, encoding=encoding)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif arg == \"pq\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = extract_from_parquet(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif arg == \"json\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = extract_from_json(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif arg == \"db\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = extract_from_db(path_in, query)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        print(f\"Could not understand argument {arg}. Please use 'pq' for parquet files, 'db' for database, json, or csv in lowercase.\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(\"Data Extracted Successfully!\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"if __name__ == \"__main__\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    typer.run(main)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that we added different parameters to our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"main"}]},{"type":"text","value":" function to control the behavior of our CLI app."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"arg"}]},{"type":"text","value":" - the kind of data we're extracting."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" - the url for when we need to download files from somewhere"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"path_in"}]},{"type":"text","value":" - where is the data at"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"path_out"}]},{"type":"text","value":" - where is that data going to"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"encoding"}]},{"type":"text","value":" - what kind of enconding are we reading the file with"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"file_name"}]},{"type":"text","value":" - what is going to be the new name of the output file"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"query"}]},{"type":"text","value":" - query for the data we want from the SQL database"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A few important things to note:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"parameters containing underscores "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_"}]},{"type":"text","value":" will be switched into a dash "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" by "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":", so "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"file_name"}]},{"type":"text","value":" will be "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"file-name"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"commands are run with two dashes and with a space in between it and the argument being passes, e.g. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--name PyCon"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer.Option(None)"}]},{"type":"text","value":" indicates to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer"}]},{"type":"text","value":" that this command can be optional, hence, when we change the kind of file we're extracting we can by pass having to put an option on others."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"by adding "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Optional"}]},{"type":"text","value":" around the type of a function parameter, you are also letting typer that that parameter is optional and that its default argument is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"None"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"a parameter with only a type is a required parameter."}]}]},{"type":"element","tag":"pre","props":{"code":"pd.read_parquet(\"../data/seoul/raw/testing_cli_extract2.csv\").head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_parquet(\"../data/seoul/raw/testing_cli_extract2.csv\").head()\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_63-transform"},"children":[{"type":"text","value":"6.3 Transform"}]},{"type":"element","tag":"iframe","props":{"src":"https://giphy.com/embed/R9zXHWAHyTjnq","width":400,"height":300},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Depending on tasks that await the final output files or tables of an ETL pipeline (e.g. reporting metrics, building machine learning models, forecasting, etc.), this step can be very convoluted or slightly straightforward. In general, though, this step can include lots of cleaning and normalization functions, and a schema setter, among many others."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The cleaning steps might include dealing with missing values, cleaning emails, names, addresses, and others, or putting values of similar nature into the same format (e.g. different weather measurements into one)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Normalization can be anything from changing column names with the same values but different names to have the same one, or height in cm vs feet and inches to be in the same measure, or ..., you get the point. :)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A schema is the way in which we represent not only the content and type of our new data files/tables, but also the way in which we represent their relationship. A common schema is the "},{"type":"element","tag":"a","props":{"href":"https://www.databricks.com/glossary/star-schema","rel":["nofollow"]},"children":[{"type":"text","value":"star schema"}]},{"type":"text","value":". An uncommon (but rising star) schema is the "},{"type":"element","tag":"a","props":{"href":"https://www.activityschema.com/","rel":["nofollow"]},"children":[{"type":"text","value":"activity schema"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"code":"import re\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import re\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"#create some toy data for our Bicycle problem\n\ntoy_data = pd.DataFrame({\"Postal Codes\": [22345, 32442, 20007], \n                         \"Cities'\":       [\"Miami,  FL\", \"Dallas, TX\", \"Washington, DC\"],\n                         \"Dates as mm-dd-yyy\":         pd.date_range(start='9/27/2021', periods=3)})\ntoy_data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"#create some toy data for our Bicycle problem\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"toy_data = pd.DataFrame({\"Postal Codes\": [22345, 32442, 20007], \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         \"Cities'\":       [\"Miami,  FL\", \"Dallas, TX\", \"Washington, DC\"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                         \"Dates as mm-dd-yyy\":         pd.date_range(start='9/27/2021', periods=3)})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"toy_data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def clean_col_names(index_of_cols: pd.Index):\n    return [re.sub(r'[^a-zA-Z0-9\\s_]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def clean_col_names(index_of_cols: pd.Index):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return [re.sub(r'[^a-zA-Z0-9\\s_]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"clean_col_names(toy_data)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clean_col_names(toy_data)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def extract_dates(data, date_col, hour_col=None):\n\n    data[\"date\"] = pd.to_datetime(data[date_col], infer_datetime_format=True)\n    if not data.columns.isin([\"hour\", \"Hour\", \"hr\", \"HR\"]).any():\n        data[\"hour\"] = data['date'].dt.hour\n        #Time series datasets need to be ordered by time.\n        data.sort_values([\"date\", \"hour\"], inplace=True)\n    elif hour_col:\n        data.sort_values([\"date\", hour_col], inplace=True)\n    else:\n        print(\"You must figure out how the hour works in your file.\")\n\n    data[\"year\"]           = data['date'].dt.year\n    data[\"month\"]          = data['date'].dt.month\n    data[\"week\"]           = data['date'].dt.isocalendar().week\n    data[\"day\"]            = data['date'].dt.day\n    data[\"day_of_week\"]    = data['date'].dt.dayofweek\n    data[\"is_month_start\"] = data['date'].dt.is_month_start    \n\n    data.drop('date', axis=1, inplace=True)\n    return data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_dates(data, date_col, hour_col=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"date\"] = pd.to_datetime(data[date_col], infer_datetime_format=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if not data.columns.isin([\"hour\", \"Hour\", \"hr\", \"HR\"]).any():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data[\"hour\"] = data['date'].dt.hour\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        #Time series datasets need to be ordered by time.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data.sort_values([\"date\", \"hour\"], inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif hour_col:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data.sort_values([\"date\", hour_col], inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        print(\"You must figure out how the hour works in your file.\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"year\"]           = data['date'].dt.year\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"month\"]          = data['date'].dt.month\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"week\"]           = data['date'].dt.isocalendar().week\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day\"]            = data['date'].dt.day\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day_of_week\"]    = data['date'].dt.dayofweek\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"is_month_start\"] = data['date'].dt.is_month_start    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data.drop('date', axis=1, inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"extract_dates(london_df, \"timestamp\").head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"extract_dates(london_df, \"timestamp\").head()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A common tasks in data science is to create dummy variables, which is ofter referred to as one-hot encoding. These are binary representations of a category, for example, if you have a columns with different kinds of cars, after you one-hot encode it, you will have one column for sedan, coupe, convertible, and so on, and each will be represented with a 0 or a 1 for when it is available and when it isn't, respectively."}]},{"type":"element","tag":"pre","props":{"code":"def one_hot(data, cols_list, **kwargs):\n    return pd.get_dummies(data=data, columns=cols_list, **kwargs)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def one_hot(data, cols_list, **kwargs):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.get_dummies(data=data, columns=cols_list, **kwargs)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"one_hot(seoul_df, [\"Seasons\", \"Holiday\"], drop_first=True).head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"one_hot(seoul_df, [\"Seasons\", \"Holiday\"], drop_first=True).head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def add_location_cols(data, place):\n    data[\"loc_id\"] = place\n    return data\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def add_location_cols(data, place):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"loc_id\"] = place\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"add_location_cols(dc_df, \"DC\").head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"add_location_cols(dc_df, \"DC\").head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n    data[col_to_fix] = data[col_to_fix].map(mapping)\n    return data.drop(cols_to_drop, axis=1)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[col_to_fix] = data[col_to_fix].map(mapping)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data.drop(cols_to_drop, axis=1)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seasons_london = {'Spring': 0, 'Summer': 1, 'Fall': 2, 'Winter': 3}\ncols_drop_london = ['t2', 'weather_code']\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seasons_london = {'Spring': 0, 'Summer': 1, 'Fall': 2, 'Winter': 3}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cols_drop_london = ['t2', 'weather_code']\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"london_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"london_df[\"seasonreal\"].map(seasons_london).value_counts()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df[\"seasonreal\"].map(seasons_london).value_counts()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"fix_and_drop(london_df, \"seasonreal\", seasons_london, cols_drop_london).head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"fix_and_drop(london_df, \"seasonreal\", seasons_london, cols_drop_london).head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"def order_and_merge(data_lists, date=None):\n    pick_order = data_lists[0].columns #takes order of columns of the first dataset\n    #reindexing columns by the order of the first dataset, then sorting by date and hour.\n    if date:\n        new_list = [d.reindex(columns=pick_order).sort_values([date, 'hour']) for d in data_lists]\n    else:\n        new_list = data_lists\n    return pd.concat(new_list) #merge all\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def order_and_merge(data_lists, date=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    pick_order = data_lists[0].columns #takes order of columns of the first dataset\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    #reindexing columns by the order of the first dataset, then sorting by date and hour.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if date:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        new_list = [d.reindex(columns=pick_order).sort_values([date, 'hour']) for d in data_lists]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        new_list = data_lists\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.concat(new_list) #merge all\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"exercise"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pick any two datasets and"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"select 5 columns from each"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"change column names as appropriate"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"use the order_and_nerge function to combine both"}]}]},{"type":"element","tag":"pre","props":{"code":"london_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"london_df_small = london_df[[\"cnt\", \"t1\", \"wind_speed\", \"seasonreal\", \"hour\"]]\nlondon_df_small.tail()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df_small = london_df[[\"cnt\", \"t1\", \"wind_speed\", \"seasonreal\", \"hour\"]]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"london_df_small.tail()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seoul_df.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seoul_df_small = seoul_df[[\"Rented Bike Count\", \"Temperature(�C)\", \"Wind speed (m/s)\", \"Seasons\", \"Hour\"]]\nseoul_df_small.head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df_small = seoul_df[[\"Rented Bike Count\", \"Temperature(�C)\", \"Wind speed (m/s)\", \"Seasons\", \"Hour\"]]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df_small.head()\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"seoul_df_small.columns = london_df_small.columns\nseoul_df_small.columns == london_df_small.columns\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df_small.columns = london_df_small.columns\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"seoul_df_small.columns == london_df_small.columns\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"order_and_merge([seoul_df_small, london_df_small]).shape\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"order_and_merge([seoul_df_small, london_df_small]).shape\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, we take the same approach as with the extract set of functions and wrap our transform workflow into a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"main"}]},{"type":"text","value":" function, and then that "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"main"}]},{"type":"text","value":" function into a typer CLI."}]},{"type":"element","tag":"pre","props":{"code":"%%writefile ../src/data_eng/transform.py\n\nimport pandas as pd, re\nfrom pathlib import Path\nfrom extract import save_data\nimport typer\nfrom typing import Optional, List\n\ndef clean_col_names(index_of_cols: pd.Index):\n    return [re.sub(r'[^a-zA-Z0-9\\s_]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n\ndef extract_dates(data, date_col, hour_col=None):\n\n    data[\"date\"] = pd.to_datetime(data[date_col], infer_datetime_format=True)\n    if not data.columns.isin([\"hour\", \"Hour\", \"hr\", \"HR\"]).any():\n        data[\"hour\"] = data['date'].dt.hour\n        #Time series datasets need to be ordered by time.\n        data.sort_values([\"date\", \"hour\"], inplace=True)\n    elif hour_col:\n        data.sort_values([\"date\", hour_col], inplace=True)\n    else:\n        print(\"You must figure out how the hour works in your file.\")\n\n    data[\"year\"]           = data['date'].dt.year\n    data[\"month\"]          = data['date'].dt.month\n    data[\"week\"]           = data['date'].dt.isocalendar().week\n    data[\"day\"]            = data['date'].dt.day\n    data[\"day_of_week\"]    = data['date'].dt.dayofweek\n    data[\"is_month_start\"] = data['date'].dt.is_month_start    \n\n    data.drop('date', axis=1, inplace=True)\n    return data\n\ndef one_hot(data, cols_list):\n    return pd.get_dummies(data=data, columns=cols_list)\n\ndef add_location_cols(data, place):\n    data[\"loc_id\"] = place\n    return data\n\ndef fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n    data[col_to_fix] = data[col_to_fix].map(mapping)\n    return data.drop(cols_to_drop, axis=1)\n\ndef order_and_merge(data_lists):\n    pick_order = data_lists[0].columns #takes order of columns of the first dataset\n    new_list = [d.reindex(columns=pick_order).sort_values(['date', 'hour']) for d in data_lists] #reindexing columns by the order of the first dataset, then sorting by date and hour.\n    return pd.concat(new_list) #merge all\n\ndef main(\n    path_in:   str           = typer.Option(...),\n    date_col:  Optional[str] = typer.Option(None),\n    hour_col:  Optional[str] = typer.Option(None),\n    cols_list: List[str]     = typer.Option(None),\n    place:     Optional[str] = typer.Option(None),\n    path_out:  Optional[str] = typer.Option(None),\n    file_name: Optional[str] = typer.Option(None)\n):\n    data = pd.read_parquet(path_in)\n    # data.columns = clean_col_names(data.columns)\n    data = extract_dates(data, date_col, hour_col)\n    if cols_list:\n        data = one_hot(data, cols_list)\n    data.columns = clean_col_names(data.columns)\n    data = add_location_cols(data, place)\n    save_data(data, path_out, file_name)\n\n    print(\"Data Extracted and Transformed Successfully!\")\n\nif __name__ == \"__main__\":\n    typer.run(main)\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"%%writefile ../src/data_eng/transform.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import pandas as pd, re\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from pathlib import Path\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from extract import save_data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"import typer\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"from typing import Optional, List\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def clean_col_names(index_of_cols: pd.Index):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return [re.sub(r'[^a-zA-Z0-9\\s_]', '', col).lower().replace(r\" \", \"_\") for col in index_of_cols]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def extract_dates(data, date_col, hour_col=None):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"date\"] = pd.to_datetime(data[date_col], infer_datetime_format=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if not data.columns.isin([\"hour\", \"Hour\", \"hr\", \"HR\"]).any():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data[\"hour\"] = data['date'].dt.hour\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        #Time series datasets need to be ordered by time.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data.sort_values([\"date\", \"hour\"], inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    elif hour_col:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data.sort_values([\"date\", hour_col], inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    else:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        print(\"You must figure out how the hour works in your file.\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"year\"]           = data['date'].dt.year\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"month\"]          = data['date'].dt.month\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"week\"]           = data['date'].dt.isocalendar().week\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day\"]            = data['date'].dt.day\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"day_of_week\"]    = data['date'].dt.dayofweek\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"is_month_start\"] = data['date'].dt.is_month_start    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data.drop('date', axis=1, inplace=True)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def one_hot(data, cols_list):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.get_dummies(data=data, columns=cols_list)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def add_location_cols(data, place):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[\"loc_id\"] = place\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def fix_and_drop(data, col_to_fix, mapping, cols_to_drop):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data[col_to_fix] = data[col_to_fix].map(mapping)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return data.drop(cols_to_drop, axis=1)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def order_and_merge(data_lists):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    pick_order = data_lists[0].columns #takes order of columns of the first dataset\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    new_list = [d.reindex(columns=pick_order).sort_values(['date', 'hour']) for d in data_lists] #reindexing columns by the order of the first dataset, then sorting by date and hour.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    return pd.concat(new_list) #merge all\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"def main(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_in:   str           = typer.Option(...),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    date_col:  Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    hour_col:  Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    cols_list: List[str]     = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    place:     Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    path_out:  Optional[str] = typer.Option(None),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    file_name: Optional[str] = typer.Option(None)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = pd.read_parquet(path_in)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    # data.columns = clean_col_names(data.columns)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = extract_dates(data, date_col, hour_col)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    if cols_list:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        data = one_hot(data, cols_list)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data.columns = clean_col_names(data.columns)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    data = add_location_cols(data, place)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    save_data(data, path_out, file_name)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":68},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print(\"Data Extracted and Transformed Successfully!\")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":69},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":70},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"if __name__ == \"__main__\":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":71},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    typer.run(main)\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"pd.read_parquet(\"../data/seoul/interim/cli_test_clean.parquet\").head()\n","language":"python","meta":"","className":"language-python shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pd.read_parquet(\"../data/seoul/interim/cli_test_clean.parquet\").head()\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_62-load"},"children":[{"type":"text","value":"6.2 Load"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The loading stage, at least for analytical purposes, tends to be a data warehouse like BigQuery, Redshift, etc., but it can also be a directory in a data lake where files are saved in the highly optimized parquet format."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order for us to simulate a data warehouse locally, we will create a duckdb database using the python library "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ibis"}]},{"type":"text","value":". The reason we will do it this ways is that ibis can translate the schema of our files into the duckdb SQL in one line of code. Effectively saving us boilerplate code that may or may not end up accounting for every feature in our dataframes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ibis is a very cool project, especially if your SQL skills as basic as mine, so I highly encourage you to check it out. :)"}]},{"type":"element","tag":"pre","props":{"code":"import ibis\nfrom pathlib import Path\n","meta":"{python"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import ibis\nfrom pathlib import Path\n"}]}]},{"type":"element","tag":"pre","props":{"code":"data_path = Path().cwd().parent/\"data/\"\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"data_path = Path().cwd().parent/\"data/\"\n"}]}]},{"type":"element","tag":"pre","props":{"code":"def create_db(path_in, path_out, file_name, table_name):\n    path = Path(path_out)\n    conn = ibis.duckdb.connect(path.joinpath(file_name))\n    conn.register(path_in, table_name=table_name)\n    print(f\"Successfully loaded the {table_name} table!\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"def create_db(path_in, path_out, file_name, table_name):\n    path = Path(path_out)\n    conn = ibis.duckdb.connect(path.joinpath(file_name))\n    conn.register(path_in, table_name=table_name)\n    print(f\"Successfully loaded the {table_name} table!\")\n"}]}]},{"type":"element","tag":"pre","props":{"code":"create_db(\n    path_in=data_path.joinpath(\"porto\", \"bike_sharing_hourly.parquet\"),\n    path_out=\"../data/dwarehouse\",\n    file_name=\"mytest_dw.ddb\",\n    table_name=\"one_day\"\n)\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"create_db(\n    path_in=data_path.joinpath(\"porto\", \"bike_sharing_hourly.parquet\"),\n    path_out=\"../data/dwarehouse\",\n    file_name=\"mytest_dw.ddb\",\n    table_name=\"one_day\"\n)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's read in our data to check that it was loaded successfully."}]},{"type":"element","tag":"pre","props":{"code":"import duckdb\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import duckdb\n"}]}]},{"type":"element","tag":"pre","props":{"code":"duck = duckdb.connect(\"../data/dwarehouse/mytest_dw.ddb\")\nduck.query(\"SELECT * FROM one_day\").df().head()\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"duck = duckdb.connect(\"../data/dwarehouse/mytest_dw.ddb\")\nduck.query(\"SELECT * FROM one_day\").df().head()\n"}]}]},{"type":"element","tag":"pre","props":{"code":"def create_parquet(path_in, path_out, file_name):\n    path = Path(path_out)\n    pd.read_parquet(path_in).to_parquet(path.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"def create_parquet(path_in, path_out, file_name):\n    path = Path(path_out)\n    pd.read_parquet(path_in).to_parquet(path.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n"}]}]},{"type":"element","tag":"pre","props":{"code":"def save_data(data, path_out, file_name):\n    path_out = Path(path_out)\n    if not path_out.exists(): path_out.mkdir(parents=True)\n    data.to_parquet(path_out.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"def save_data(data, path_out, file_name):\n    path_out = Path(path_out)\n    if not path_out.exists(): path_out.mkdir(parents=True)\n    data.to_parquet(path_out.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We take the same steps as before and wrap our main function with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typer.run()"}]},{"type":"text","value":" to make it a CLI, we test that it works well, and then go on to the next stage."}]},{"type":"element","tag":"pre","props":{"code":"%%writefile ../src/data_eng/load.py\n\nfrom pathlib import Path\nimport ibis\nimport typer\nfrom typing import Optional\nimport pandas as pd\n\n\ndef create_db(path_in, path_out, file_name, table_name):\n    path = Path(path_out)\n    conn = ibis.duckdb.connect(path.joinpath(file_name))\n    conn.register(path_in, table_name=table_name)\n    print(f\"Successfully loaded the {table_name} table!\")\n\ndef create_parquet(path_in, path_out, file_name):\n    path = Path(path_out)\n    pd.read_parquet(path_in).to_parquet(path.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n\ndef save_data(data, path_out, file_name):\n    path_out = Path(path_out)\n    if not path_out.exists(): path_out.mkdir(parents=True)\n    data.to_parquet(path_out.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n\n\ndef main(\n    kind: str = typer.Option(...),\n    path_in: Optional[str] = typer.Option(None), \n    path_out: Optional[str] = typer.Option(None),\n    file_name: Optional[str] = typer.Option(None),\n    table_name: Optional[str] = typer.Option(None)\n):\n    if kind == \"db\":\n        create_db(path_in, path_out, file_name, table_name)\n    elif kind == \"pq\":\n        create_parquet(path_in, path_out, file_name)\n    else:\n        print(f\"Could not understand argument {kind}. Please use 'pq' for parquet files or 'db' for database.\")\n\n    print(\"Data Extracted Successfully!\")\n\nif __name__ == \"__main__\":\n    typer.run(main)\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"%%writefile ../src/data_eng/load.py\n\nfrom pathlib import Path\nimport ibis\nimport typer\nfrom typing import Optional\nimport pandas as pd\n\n\ndef create_db(path_in, path_out, file_name, table_name):\n    path = Path(path_out)\n    conn = ibis.duckdb.connect(path.joinpath(file_name))\n    conn.register(path_in, table_name=table_name)\n    print(f\"Successfully loaded the {table_name} table!\")\n\ndef create_parquet(path_in, path_out, file_name):\n    path = Path(path_out)\n    pd.read_parquet(path_in).to_parquet(path.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n\ndef save_data(data, path_out, file_name):\n    path_out = Path(path_out)\n    if not path_out.exists(): path_out.mkdir(parents=True)\n    data.to_parquet(path_out.joinpath(file_name))\n    print(f\"Successfully loaded the {file_name} table!\")\n\n\ndef main(\n    kind: str = typer.Option(...),\n    path_in: Optional[str] = typer.Option(None), \n    path_out: Optional[str] = typer.Option(None),\n    file_name: Optional[str] = typer.Option(None),\n    table_name: Optional[str] = typer.Option(None)\n):\n    if kind == \"db\":\n        create_db(path_in, path_out, file_name, table_name)\n    elif kind == \"pq\":\n        create_parquet(path_in, path_out, file_name)\n    else:\n        print(f\"Could not understand argument {kind}. Please use 'pq' for parquet files or 'db' for database.\")\n\n    print(\"Data Extracted Successfully!\")\n\nif __name__ == \"__main__\":\n    typer.run(main)\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_7-reproducible-pipelines"},"children":[{"type":"text","value":"7. Reproducible Pipelines"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data Version Control or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc"}]},{"type":"text","value":" is a tool for version almost any kind of file you can think of. From images, text, videos, and excel spreadsheets, to machine learning models and other artifacts. In addition, it is also an excellent tool for tracking machine learning experiments and for creating language agnostic pipelines where you can automatically version control the inputs and outputs of your workflows."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you have ever used git then the following commands will feel like home"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc init"}]},{"type":"text","value":" --> this the first step to get started using dvc (after installing it of course)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc remote add -d storage gdrive://your_hash"}]},{"type":"text","value":" --> since we will be tracking files somewhere, this command will help set up a remote repository for these."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc add"}]},{"type":"text","value":" --> add a file to track."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc push"}]},{"type":"text","value":" --> push the file to your remote repository."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc pull"}]},{"type":"text","value":" --> pull the file from your remote repository and into your local machine."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc stage"}]},{"type":"text","value":" --> allows you to start adding steps to a pipeline. It will create a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc.yml"}]},{"type":"text","value":" file containing the steps of the pipeline. This can be modified manually as well."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc repro"}]},{"type":"text","value":" --> Once we finish our stage, or as we add steps to it, we can run our pipeline with this command. The best part is that the steps will get cashed, so if nothing changes, nothing will get rerun."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvc dag"}]},{"type":"text","value":" --> allows you to visualize your pipelines as a graph in the terminal."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, some of the settings for our repo will be available at "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".dvc/config"}]},{"type":"text","value":" and these can be changed manually at any time."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Open a terminal in the main directory for this workshop and follow along."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create our pipeline, we'll add the stages step by step."}]},{"type":"element","tag":"pre","props":{"code":"dvc stage add --name seoul_extract \\\n    --deps data/seoul/SeoulBikeData.csv \\\n    --outs data/seoul/raw/seoul_raw.parquet \\\n    python src/data_eng/extract.py --arg csv \\\n        --path-in data/seoul/SeoulBikeData.csv \\\n        --path-out data/seoul/raw \\\n        --file-name seoul_raw.parquet --encoding iso-8859-1\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" stage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_extract"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --deps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/SeoulBikeData.csv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --outs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/raw/seoul_raw.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" src/data_eng/extract.py"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --arg"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" csv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/SeoulBikeData.csv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-out"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/raw"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --file-name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_raw.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --encoding"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" iso-8859-1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"code":"dvc stage add --name seoul_transform \\\n    --deps data/seoul/raw/seoul_raw.parquet \\\n    --outs data/seoul/interim/seoul_clean.parquet \\\n    python src/data_eng/transform.py \\\n        --path-in data/seoul/seoul_raw.parquet \\\n        --date-col Date --hour-col Hour --place Seoul \\\n        --path-out data/seoul/interim --file-name seoul_clean.parquet\n","language":"bash","meta":"","className":"language-bash shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" stage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_transform"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --deps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/raw/seoul_raw.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --outs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/interim/seoul_clean.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" src/data_eng/transform.py"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/seoul_raw.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --date-col"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --hour-col"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Hour"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --place"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" Seoul"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-out"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/interim"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --file-name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_clean.parquet\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"exercise-1"},"children":[{"type":"text","value":"Exercise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add the load stage into our pipeline following the examples above."}]},{"type":"element","tag":"pre","props":{"code":"dvc stage add --name seoul_load \\\n    --deps data/seoul/interim/seoul_clean.parquet \\\n    --outs data/dwarehouse/analytics.db \\\n    python src/data_eng/load.py --kind db \\\n        --path-in data/seoul/interim/seoul_clean.parquet \\\n        --path-out data/dwarehouse --name analytics.db \\\n        --table-name seoul_main\n","language":"bash","meta":"","className":"language-bash shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" stage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_load"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --deps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/interim/seoul_clean.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"    --outs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/dwarehouse/analytics.db"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"    python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" src/data_eng/load.py"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --kind"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" db"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/seoul/interim/seoul_clean.parquet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --path-out"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" data/dwarehouse"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" --name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" analytics.db"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"        --table-name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" seoul_main\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally we can run our pipeline, evaluate it, and push our files into our remote storage."}]},{"type":"element","tag":"pre","props":{"code":"# 1\ndvc repro\n\n# 2\ndvc dag\n\n# 3\ndvc push\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" repro\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" dag\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dvc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" push\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Afterwards, dvc will provide us with git files to track for our project."}]},{"type":"element","tag":"h2","props":{"id":"_8-scheduling"},"children":[{"type":"text","value":"8. Scheduling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Scheduling our workflows can be super convenient and time-savior when we know we need to run tasks repeatedly. A very common tool for the task is cron, and here is an excellent tutorial to get started with it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note: Windows users would need to use Windows Subsystem for Linux to use cron or some other tool, potentially in PowerShell."}]},{"type":"element","tag":"pre","props":{"code":"from IPython.display import HTML\nHTML(\"\"\"\n<div align=\"center\">\n    <iframe width=\"700\" height=\"450\"\n    src=\"https://www.youtube.com/embed/QZJ1drMQz1A\"\n    title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; \n    clipboard-write; encrypted-media; gyroscope; picture-in-picture; \n    web-share\" allowfullscreen>\n    </iframe>\n</div>\n\"\"\")\n","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"from IPython.display import HTML\nHTML(\"\"\"\n<div align=\"center\">\n    <iframe width=\"700\" height=\"450\"\n    src=\"https://www.youtube.com/embed/QZJ1drMQz1A\"\n    title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; \n    clipboard-write; encrypted-media; gyroscope; picture-in-picture; \n    web-share\" allowfullscreen>\n    </iframe>\n</div>\n\"\"\")\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_9-exercises"},"children":[{"type":"text","value":"9. Exercises"}]},{"type":"element","tag":"h3","props":{"id":"exercise-1-1"},"children":[{"type":"text","value":"Exercise 1"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open the terminal, create a new directory named "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dc_bikes"}]},{"type":"text","value":", and cd into it."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create two subdirectories, data and src."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create an ETL pipeline with two functions in the transform step."}]}]},{"type":"element","tag":"h3","props":{"id":"exercise-2"},"children":[{"type":"text","value":"Exercise 2"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Initialize a git and a dvc repository for the project in Exercise 1."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a new repo in GitHub and commit your initial changes."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a dvc pipeline with your three stages."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Commit your changes."}]}]},{"type":"element","tag":"h2","props":{"id":"_10-resources"},"children":[{"type":"text","value":"10. Resources"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you'd like to expand your knowledge around the tools and concepts that we covered in this lesson, you might find the following list of resources helpful."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about pandas --> "},{"type":"element","tag":"a","props":{"href":"https://wesmckinney.com/book/","rel":["nofollow"]},"children":[{"type":"text","value":"Python for Data Analysis, 3E by Wes McKinney"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about ibis --> "},{"type":"element","tag":"a","props":{"href":"https://ibis-project.org/blog/ibis_substrait_to_duckdb/","rel":["nofollow"]},"children":[{"type":"text","value":"Ibis + Substrait + DuckDB by Gil Forsyth"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about duckdb --> "},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=AjsB6lM2-zw&ab_channel=DatawithMarc","rel":["nofollow"]},"children":[{"type":"text","value":"DuckDB Tutorial by Data with Marc"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about dvc --> "},{"type":"element","tag":"a","props":{"href":"https://towardsdev.com/ml-pipeline-decoupled-i-managed-to-write-a-framework-agnostic-ml-pipeline-with-dvc-rust-python-287de68104c9","rel":["nofollow"]},"children":[{"type":"text","value":"ML Pipeline Decoupled: I managed to Write a Framework Agnostic ML Pipeline with DVC, Rust & Python"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about typer --> "},{"type":"element","tag":"a","props":{"href":"https://towardsdatascience.com/data-and-machine-learning-model-versioning-with-dvc-34fdadd06b15","rel":["nofollow"]},"children":[{"type":"text","value":"Data and Machine Learning Model Versioning with DVC by Ruben Winastwan"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To learn more about cron --> "},{"type":"element","tag":"a","props":{"href":"https://www.hostinger.com/tutorials/cron-job","rel":["nofollow"]},"children":[{"type":"text","value":"Cron Job: A Comprehensive Guide for Beginners 2023 by Linas L."}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"table-of-contents","depth":2,"text":"Table of Contents"},{"id":"_1-overview","depth":2,"text":"1. Overview"},{"id":"_2-learning-outcomes","depth":2,"text":"2. Learning Outcomes"},{"id":"_3-data","depth":2,"text":"3. Data"},{"id":"_4-tools","depth":2,"text":"4. Tools"},{"id":"_5-data-pipelines","depth":2,"text":"5. Data Pipelines"},{"id":"_6-building-a-framework","depth":2,"text":"6. Building a Framework","children":[{"id":"_61-setting-up-a-dev-environment","depth":3,"text":"6.1 Setting Up a Dev Environment"},{"id":"_62-extract","depth":3,"text":"6.2 Extract"},{"id":"_63-transform","depth":3,"text":"6.3 Transform"},{"id":"exercise","depth":3,"text":"Exercise"},{"id":"_62-load","depth":3,"text":"6.2 Load"}]},{"id":"_7-reproducible-pipelines","depth":2,"text":"7. Reproducible Pipelines","children":[{"id":"exercise-1","depth":3,"text":"Exercise"}]},{"id":"_8-scheduling","depth":2,"text":"8. Scheduling"},{"id":"_9-exercises","depth":2,"text":"9. Exercises","children":[{"id":"exercise-1-1","depth":3,"text":"Exercise 1"},{"id":"exercise-2","depth":3,"text":"Exercise 2"}]},{"id":"_10-resources","depth":2,"text":"10. Resources"}]}},"_type":"markdown","_id":"content:3.data-engineering:4.data_pipelines_getting_started.md","_source":"content","_file":"3.data-engineering/4.data_pipelines_getting_started.md","_extension":"md"},{"_path":"/data-science/_dir","_dir":"data-science","_draft":false,"_partial":true,"_locale":"","title":"Data Science","icon":"ri:magic-line","_id":"content:4.data-science:_dir.yml","_type":"yaml","_source":"content","_file":"4.data-science/_dir.yml","_extension":"yml"},{"_path":"/data-science","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Intro to DS","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"intro-to-ds"},"children":[{"type":"text","value":"Intro to DS"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:4.data-science:0.index.md","_source":"content","_file":"4.data-science/0.index.md","_extension":"md"},{"_path":"/ml-engineering/_dir","_dir":"ml-engineering","_draft":false,"_partial":true,"_locale":"","title":"Machine Learning Engineering","icon":"ri:robot-2-line","_id":"content:5.ml-engineering:_dir.yml","_type":"yaml","_source":"content","_file":"5.ml-engineering/_dir.yml","_extension":"yml"},{"_path":"/ml-engineering","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Intro to MLE","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"intro-to-mle"},"children":[{"type":"text","value":"Intro to MLE"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:5.ml-engineering:0.index.md","_source":"content","_file":"5.ml-engineering/0.index.md","_extension":"md"},{"_path":"/data-viz/_dir","_dir":"data-viz","_draft":false,"_partial":true,"_locale":"","title":"Data Visualization","icon":"heroicons-outline:bookmark-alt","_id":"content:6.data-viz:_dir.yml","_type":"yaml","_source":"content","_file":"6.data-viz/_dir.yml","_extension":"yml"},{"_path":"/devops/_dir","_dir":"devops","_draft":false,"_partial":true,"_locale":"","title":"DevOps","icon":"heroicons-outline:bookmark-alt","_id":"content:7.devops:_dir.yml","_type":"yaml","_source":"content","_file":"7.devops/_dir.yml","_extension":"yml"},{"_path":"/software-dev/_dir","_dir":"software-dev","_draft":false,"_partial":true,"_locale":"","title":"Software Development","icon":"heroicons-outline:bookmark-alt","_id":"content:8.software-dev:_dir.yml","_type":"yaml","_source":"content","_file":"8.software-dev/_dir.yml","_extension":"yml"},{"_path":"/ai-engineering/_dir","_dir":"ai-engineering","_draft":false,"_partial":true,"_locale":"","title":"Generative AI","icon":"heroicons-outline:bookmark-alt","_id":"content:9.ai-engineering:_dir.yml","_type":"yaml","_source":"content","_file":"9.ai-engineering/_dir.yml","_extension":"yml"},{"_path":"/communications/_dir","_dir":"communications","_draft":false,"_partial":true,"_locale":"","title":"Communications","icon":"heroicons-outline:bookmark-alt","_id":"content:10.communications:_dir.yml","_type":"yaml","_source":"content","_file":"10.communications/_dir.yml","_extension":"yml"},{"_path":"/creative-coding/_dir","_dir":"creative-coding","_draft":false,"_partial":true,"_locale":"","title":"Animation and Motion Design","icon":"heroicons-outline:bookmark-alt","_id":"content:11.creative-coding:_dir.yml","_type":"yaml","_source":"content","_file":"11.creative-coding/_dir.yml","_extension":"yml"},{"_path":"/game-dev/_dir","_dir":"game-dev","_draft":false,"_partial":true,"_locale":"","title":"Animation and Motion Design","icon":"heroicons-outline:bookmark-alt","_id":"content:12.game-dev:_dir.yml","_type":"yaml","_source":"content","_file":"12.game-dev/_dir.yml","_extension":"yml"}],"navigation":[{"title":"Set Up","_path":"/introduction","children":[{"title":"Introduction","_path":"/introduction"},{"title":"Python Installation","_path":"/introduction/python_installation"},{"title":"Git Installation","_path":"/introduction/git_installation"},{"title":"Jupyter Lab & Notebooks Intro","_path":"/introduction/jupyter_intro"}],"icon":"ph:star-duotone"},{"title":"Programming","_path":"/programming","children":[{"title":"Programming Tutorials","_path":"/programming"},{"title":"Terminal","_path":"/programming/terminal","children":[{"title":"Intro to the Terminal","_path":"/programming/terminal/shell_intro"}]}],"icon":"heroicons-outline:bookmark-alt"},{"title":"Analytics","_path":"/analytics","children":[{"title":"Data Analytics","_path":"/analytics"},{"title":"Numerical Computing","_path":"/analytics/numerical_computing"},{"title":"Intro to pandas","_path":"/analytics/structured_data"},{"title":"Intro to Statistics","_path":"/analytics/stats_intro"},{"title":"Describing Data","_path":"/analytics/describing_data"},{"title":"Exploratory Data Analysis","_path":"/analytics/eda"}],"icon":"ri:line-chart-line"},{"title":"Data Engineering","_path":"/data-engineering","children":[{"title":"Data Pipelines From Scratch","_path":"/data-engineering/data_pipelines_getting_started"},{"title":"Getting Data as DataFrames","_path":"/data-engineering/getting_data"},{"title":"Data Cleaning","_path":"/data-engineering/data_cleaning"},{"title":"01 ETL Pipelines","_path":"/data-engineering/etl_pipes"},{"title":"Data Pipelines From Scratch","_path":"/data-engineering/data_pipelines_getting_started"}],"icon":"ri:settings-2-line"},{"title":"Data Science","_path":"/data-science","children":[{"title":"Intro to DS","_path":"/data-science"}],"icon":"ri:magic-line"},{"title":"Machine Learning Engineering","_path":"/ml-engineering","children":[{"title":"Intro to MLE","_path":"/ml-engineering"}],"icon":"ri:robot-2-line"}]}